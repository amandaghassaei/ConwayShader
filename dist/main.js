(()=>{var e={241:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataLayer=void 0;var n=r(741),a=r(299),i=function(){function e(e,t,r,n,a,i){if(this.bufferIndex=0,this.buffers=[],this.name=e,this.gl=t,this.errorCallback=n,i<0||i%1!=0)throw new Error("Invalid numBuffers: "+i+" for DataLayer "+this.name+", must be positive integer.");if(this.numBuffers=i,isNaN(r.dimensions))this.width=r.dimensions[0],this.height=r.dimensions[1];else{if(r.dimensions<1)throw new Error("Invalid length "+r.dimensions+" for DataLayer "+e+".");this.length=r.dimensions;var o=this.calcWidthHeight(r.dimensions),s=o[0],u=o[1];this.width=s,this.height=u}this.type=this.checkType(r.type),this.numComponents=r.numComponents,this.writable=a;var l=r.filter?r.filter:this.length?"NEAREST":"LINEAR";this.filter=this.checkFilter(l,this.type),this.wrapS=t[r.wrapS?r.wrapS:"CLAMP_TO_EDGE"],this.wrapT=t[r.wrapT?r.wrapT:"CLAMP_TO_EDGE"];var f=this.getGLTextureParameters(),h=f.glFormat,c=f.glInternalFormat,d=f.glType,p=f.glNumChannels;this.glInternalFormat=c,this.glFormat=h,this.glType=d,this.glNumChannels=p,this.initBuffers(r.data)}return e.prototype.calcWidthHeight=function(e){for(var t=1,r=e;r>2;)t++,r/=2;return[Math.pow(2,Math.floor(t/2)+t%2),Math.pow(2,Math.floor(t/2))]},e.prototype.checkFilter=function(e,t){var r=this.gl,a=this.errorCallback;return"NEAREST"===e||("float16"===t&&(n.getExtension(r,n.OES_TEXTURE_HAlF_FLOAT_LINEAR,a,!0)||n.getExtension(r,n.OES_TEXTURE_FLOAT_LINEAR,a,!0)||(e="NEAREST")),"float32"===t&&(n.getExtension(r,n.OES_TEXTURE_FLOAT_LINEAR,a,!0)||(e="NEAREST"))),r[e]},e.prototype.checkType=function(e){var t=this.gl,r=this.errorCallback;return a.isWebGL2(t)||("float32"===e&&(n.getExtension(t,n.OES_TEXTURE_FLOAT,r,!0)||(e="float16")),"float16"===e&&n.getExtension(t,n.OES_TEXTURE_HALF_FLOAT,r)),!a.isWebGL2(t)||"float16"!==e&&"float32"!==e||n.getExtension(t,n.EXT_COLOR_BUFFER_FLOAT,r),e},e.prototype.checkDataArray=function(e){if(e){var t=this,r=t.width,n=t.height,a=t.length,i=t.numComponents,o=t.glNumChannels,s=t.type,u=t.name;if(a&&e.length!==a*i||!a&&e.length!==r*n*i)throw new Error("Invalid data length "+e.length+" for DataLayer "+u+" of size "+(a||r+"x"+n)+"x"+i+".");var l=!1;switch(s){case"float32":l=l||e.constructor!==Float32Array;break;case"float16":throw new Error("setting float16 from data not supported yet.");case"uint8":l=l||e.constructor!==Uint8Array;break;case"int8":l=l||e.constructor!==Int8Array;break;case"uint16":l=l||e.constructor!==Uint16Array;break;case"int16":l=l||e.constructor!==Int16Array;break;case"uint32":l=l||e.constructor!==Uint32Array;break;case"int32":l=l||e.constructor!==Int32Array;break;default:throw new Error("Error initing "+u+".  Unsupported type "+s+" for GLCompute.initDataLayer.")}if(l)throw new Error("Invalid TypedArray of type "+e.constructor.name+" supplied to DataLayer "+u+" of type "+s+".");var f=e,h=r*n*o;if(f.length<h){switch(s){case"float32":f=new Float32Array(h);break;case"uint8":f=new Uint8Array(h);break;case"int8":f=new Int8Array(h);break;case"uint16":f=new Uint16Array(h);break;case"int16":f=new Int16Array(h);break;case"uint32":f=new Uint32Array(h);break;case"int32":f=new Int32Array(h);break;default:throw new Error("Error initing "+u+".  Unsupported type "+s+" for GLCompute.initDataLayer.")}for(var c=0,d=e.length/i;c<d;c++)for(var p=0;p<i;p++)f[c*o+p]=e[c*i+p]}return f}},e.prototype.getGLTextureParameters=function(){var e,t,r,i,o=this,s=o.gl,u=o.numComponents,l=o.type,f=o.writable,h=o.name,c=o.errorCallback;if(a.isWebGL2(s)){switch(i=u,3===u&&f&&(i=4),i){case 1:t=s.RED;break;case 2:t=s.RG;break;case 3:t=s.RGB;break;case 4:t=s.RGBA;break;default:throw new Error("Unsupported glNumChannels "+i+" for DataLayer "+h+".")}switch(l){case"float32":switch(e=s.FLOAT,i){case 1:r=s.R32F;break;case 2:r=s.RG32F;break;case 3:r=s.RGB32F;break;case 4:r=s.RGBA32F;break;default:throw new Error("Unsupported glNumChannels "+i+" for DataLayer "+h+".")}break;case"float16":switch(e=s.HALF_FLOAT,i){case 1:r=s.R16F;break;case 2:r=s.RG16F;break;case 3:r=s.RGB16F;break;case 4:r=s.RGBA16F;break;default:throw new Error("Unsupported glNumChannels "+i+" for DataLayer "+h+".")}break;case"int8":switch(e=s.BYTE,i){case 1:r=s.R8I;break;case 2:r=s.RG8I;break;case 3:r=s.RGB8I;break;case 4:r=s.RGBA8I;break;default:throw new Error("Unsupported glNumChannels "+i+" for DataLayer "+h+".")}break;case"uint8":switch(e=s.UNSIGNED_BYTE,i){case 1:r=s.R8;break;case 2:r=s.RG8;break;case 3:r=s.RGB;break;case 4:r=s.RGBA;break;default:throw new Error("Unsupported glNumChannels "+i+" for DataLayer "+h+".")}break;case"int16":switch(e=s.SHORT,i){case 1:r=s.R16I;break;case 2:r=s.RG16I;break;case 3:r=s.RGB16I;break;case 4:r=s.RGBA16I;break;default:throw new Error("Unsupported glNumChannels "+i+" for DataLayer "+h+".")}case"uint16":switch(e=s.UNSIGNED_SHORT,i){case 1:r=s.R16UI;break;case 2:r=s.RG16UI;break;case 3:r=s.RGB16UI;break;case 4:r=s.RGBA16UI;break;default:throw new Error("Unsupported glNumChannels "+i+" for DataLayer "+h+".")}break;case"int32":switch(e=s.INT,i){case 1:r=s.R32I;break;case 2:r=s.RG32I;break;case 3:r=s.RGB32I;break;case 4:r=s.RGBA32I;break;default:throw new Error("Unsupported glNumChannels "+i+" for DataLayer "+h+".")}case"uint32":switch(e=s.UNSIGNED_INT,i){case 1:r=s.R32UI;break;case 2:r=s.RG32UI;break;case 3:r=s.RGB32UI;break;case 4:r=s.RGBA32UI;break;default:throw new Error("Unsupported glNumChannels "+i+" for DataLayer "+h+".")}break;default:throw new Error("Unsupported type "+l+" for DataLayer "+h+".")}}else{switch(u){case 1:case 2:case 3:t=s.RGB,r=s.RGB,i=3;break;case 4:t=s.RGBA,r=s.RGBA,i=4;break;default:throw new Error("Unsupported numComponents "+u+" for DataLayer "+h+".")}switch(l){case"float32":e=s.FLOAT;break;case"float16":e=n.getExtension(s,n.OES_TEXTURE_HALF_FLOAT,c).HALF_FLOAT_OES;break;case"uint8":e=s.UNSIGNED_BYTE;break;case"uint16":n.getExtension(s,n.WEBGL_DEPTH_TEXTURE,c),e=s.UNSIGNED_SHORT;break;case"uint32":n.getExtension(s,n.WEBGL_DEPTH_TEXTURE,c),e=s.UNSIGNED_INT;break;default:throw new Error("Unsupported type "+l+" for DataLayer "+h+".")}}if(void 0===e||void 0===t||void 0===r)throw new Error("Invalid type: "+l+" or numComponents "+u+".");if(void 0===i||u<1||u>4)throw new Error("Invalid numChannels: "+u+".");return{glFormat:t,glInternalFormat:r,glType:e,glNumChannels:i}},e.prototype.initBuffers=function(e){for(var t=this,r=t.numBuffers,n=t.gl,a=t.width,i=t.height,o=t.glInternalFormat,s=t.glFormat,u=t.glType,l=t.filter,f=t.wrapS,h=t.wrapT,c=t.writable,d=t.errorCallback,p=this.checkDataArray(e),g=0;g<r;g++){var m=n.createTexture();if(!m)return void d("Could not init texture for DataLayer "+this.name+": "+n.getError()+".");n.bindTexture(n.TEXTURE_2D,m),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,f),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,h),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,l),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,l),n.texImage2D(n.TEXTURE_2D,0,o,a,i,0,s,u,p||null);var E={texture:m};if(c){var v=n.createFramebuffer();if(!v)return void d("Could not init framebuffer for DataLayer "+this.name+": "+n.getError()+".");n.bindFramebuffer(n.FRAMEBUFFER,v),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,m,0);var b=n.checkFramebufferStatus(n.FRAMEBUFFER);b!=n.FRAMEBUFFER_COMPLETE&&d("Invalid status for framebuffer for DataLayer "+this.name+": "+b+"."),E.framebuffer=v}this.buffers.push(E)}n.bindFramebuffer(n.FRAMEBUFFER,null)},e.prototype.getCurrentStateTexture=function(){return this.buffers[this.bufferIndex].texture},e.prototype.bindOutputBuffer=function(e){var t=this.gl;e&&(this.bufferIndex=(this.bufferIndex+1)%this.numBuffers);var r=this.buffers[this.bufferIndex].framebuffer;if(!r)throw new Error("DataLayer "+this.name+" is not writable.");t.bindFramebuffer(t.FRAMEBUFFER,r)},e.prototype.resize=function(e,t){if(isNaN(e)){if(this.length)throw new Error("Invalid dimensions "+e+" for 1D DataLayer "+this.name+", please specify a length as a number.");this.width=e[0],this.height=e[1]}else{if(!this.length)throw new Error("Invalid dimensions "+e+" for 2D DataLayer "+this.name+", please specify a width and height as an array.");this.length=e;var r=this.calcWidthHeight(this.length),n=r[0],a=r[1];this.width=n,this.height=a}this.destroyBuffers(),this.initBuffers(t)},e.prototype.getDimensions=function(){return{width:this.width,height:this.height}},e.prototype.getLength=function(){if(!this.length)throw new Error("Cannot call getLength() on 2D DataLayer "+this.name+".");return this.length},e.prototype.destroyBuffers=function(){var e=this.gl,t=this.buffers;t.forEach((function(t){var r=t.framebuffer,n=t.texture;e.deleteTexture(n),r&&e.deleteFramebuffer(r),delete t.texture,delete t.framebuffer})),t.length=0},e.prototype.destroy=function(){this.destroyBuffers(),delete this.gl,delete this.errorCallback},e}();t.DataLayer=i},821:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GLCompute=void 0;for(var n=r(881),a=r(656),i=r(241),o=r(547),s=r(299),u=new Float32Array([-1,-1,1,-1,-1,1,1,1]),l=new Float32Array([-1,-1,1,-1,1,1,-1,1]),f=[0,0],h=0;h<=20;h++)f.push(Math.cos(2*Math.PI*h/20),Math.sin(2*Math.PI*h/20));var c=new Float32Array(f),d=function(){function e(e,t,r,i){void 0===i&&(i=function(e){throw new Error(e)}),this.errorState=!1;var o=this;if(this.errorCallback=function(e){o.errorState||(o.errorState=!0,i&&i(e))},e||null!==(e=t.getContext("webgl2",r)||t.getContext("webgl",r)||t.getContext("experimental-webgl",r))){s.isWebGL2(e)?console.log("Using WebGL 2.0 context."):console.log("Using WebGL 1.0 context."),this.gl=e,e.disable(e.DEPTH_TEST),e.pixelStorei(e.UNPACK_ALIGNMENT,1);var f=s.compileShader(e,this.errorCallback,n.default,e.VERTEX_SHADER);if(f){this.defaultVertexShader=f,this.passThroughProgram=this.initProgram("passThrough",a.default,[{name:"u_state",value:0,dataType:"INT"}]),this.quadPositionsBuffer=this.initVertexBuffer(u),this.boundaryPositionsBuffer=this.initVertexBuffer(l),this.circlePositionsBuffer=this.initVertexBuffer(c),e.bindBuffer(e.ARRAY_BUFFER,null),this.onResize(t);var h=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS);console.log(h+" textures max.")}else this.errorCallback("Unable to initialize fullscreen quad vertex shader.")}else this.errorCallback("Unable to initialize WebGL context.")}return e.prototype.initVertexBuffer=function(e){var t=this.errorCallback,r=this.gl,n=r.createBuffer();if(n)return r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,e,r.STATIC_DRAW),n;t("Unable to allocate gl buffer.")},e.prototype.initProgram=function(e,t,r,n){var a=this.gl,i=this.errorCallback;return new o.GPUProgram(e,a,i,n||this.defaultVertexShader,t,r)},e.prototype.initDataLayer=function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=1);var a=this.gl,o=this.errorCallback;return new i.DataLayer(e,a,t,o,r,n)},e.prototype.onResize=function(e){this.gl;var t=e.clientWidth,r=e.clientHeight;e.width=t,e.height=r,this.width=t,this.height=r},e.prototype.drawSetup=function(e,t,r,n){var a=this.gl;if(e.program){var i=r.map((function(e){return e.getCurrentStateTexture()}));this.setOutputLayer(t,r,n),a.useProgram(e.program);for(var o=0;o<i.length;o++)a.activeTexture(a.TEXTURE0+o),a.bindTexture(a.TEXTURE_2D,i[o])}},e.prototype.setOutputLayer=function(e,t,r){var n=this.gl,a=this.passThroughProgram;if(r){if(t.indexOf(r)>-1){if(1===r.numBuffers)throw new Error("\nCannot use same buffer for input and output of a program.\nTry increasing the number of buffers in your output layer to at least 2 so you\ncan render to nextState using currentState as an input.");e?r.bindOutputBuffer(!0):(this.step(a,[r],r),r.bindOutputBuffer(!1))}else r.bindOutputBuffer(!1);var i=r.getDimensions(),o=i.width,s=i.height;n.viewport(0,0,o,s)}else{n.bindFramebuffer(n.FRAMEBUFFER,null);var u=this.width,l=this.height;n.viewport(0,0,u,l)}},e.prototype.setPositionAttribute=function(e){var t=this.gl,r=t.getAttribLocation(e.program,"aPosition");t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(r)},e.prototype.setIndexAttribute=function(e){var t=this.gl,r=t.getAttribLocation(e.program,"aIndex");t.vertexAttribPointer(r,1,t.FLOAT,!1,0,0),t.enableVertexAttribArray(r)},e.prototype.step=function(e,t,r,n){void 0===t&&(t=[]);var a=this,i=a.gl,o=a.errorState,s=a.quadPositionsBuffer;o||(this.drawSetup(e,!0,t,r),e.setUniform("u_scale",[1,1],"FLOAT"),e.setUniform("u_translation",[0,0],"FLOAT"),i.bindBuffer(i.ARRAY_BUFFER,s),this.setPositionAttribute(e),(null==n?void 0:n.shouldBlendAlpha)&&(i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA)),i.drawArrays(i.TRIANGLE_STRIP,0,4),i.disable(i.BLEND))},e.prototype.stepBoundary=function(e,t,r,n){void 0===t&&(t=[]);var a=this,i=a.gl,o=a.errorState,s=a.boundaryPositionsBuffer;if(!o){this.drawSetup(e,!1,t,r);var u=r?r.getDimensions():this,l=[1/u.width,1/u.height];e.setUniform("u_scale",[1-l[0],1-l[1]],"FLOAT"),e.setUniform("u_translation",l,"FLOAT"),i.bindBuffer(i.ARRAY_BUFFER,s),this.setPositionAttribute(e),(null==n?void 0:n.shouldBlendAlpha)&&(i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA)),i.drawArrays(i.LINE_LOOP,0,4),i.disable(i.BLEND)}},e.prototype.stepNonBoundary=function(e,t,r,n){void 0===t&&(t=[]);var a=this,i=a.gl,o=a.errorState,s=a.quadPositionsBuffer;if(!o){this.drawSetup(e,!1,t,r);var u=r?r.getDimensions():this,l=[1/u.width,1/u.height];e.setUniform("u_scale",[1-2*l[0],1-2*l[1]],"FLOAT"),e.setUniform("u_translation",l,"FLOAT"),i.bindBuffer(i.ARRAY_BUFFER,s),this.setPositionAttribute(e),(null==n?void 0:n.shouldBlendAlpha)&&(i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA)),i.drawArrays(i.TRIANGLE_STRIP,0,4),i.disable(i.BLEND)}},e.prototype.stepCircle=function(e,t,r,n,a,i){void 0===n&&(n=[]);var o=this,s=o.gl,u=o.errorState,l=o.circlePositionsBuffer,f=o.width,h=o.height;u||(this.drawSetup(e,!1,n,a),e.setUniform("u_scale",[r/f,r/h],"FLOAT"),e.setUniform("u_translation",[2*t[0]/f-1,2*t[1]/h-1],"FLOAT"),s.bindBuffer(s.ARRAY_BUFFER,l),this.setPositionAttribute(e),(null==i?void 0:i.shouldBlendAlpha)&&(s.enable(s.BLEND),s.blendFunc(s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA)),s.drawArrays(s.TRIANGLE_FAN,0,22),s.disable(s.BLEND))},e.prototype.drawPoints=function(e,t,r,n){var a=this,i=a.gl,o=a.errorState,s=a.width,u=a.height,l=a.pointIndexArray;if(!o){if(t.length<1)throw new Error("Invalid inputLayers for drawPoints on "+e.name+": must pass a positionDataLayer as first element of inputLayers.");var f=t[0],h=f.getLength(),c=(null==n?void 0:n.numPoints)||h;if(c>h)throw new Error("Invalid numPoint "+c+" for positionDataLayer of length "+h+".");var d=(null==n?void 0:n.pointSize)||1;this.drawSetup(e,!1,t,r),e.setUniform("u_scale",[1/s,1/u],"FLOAT"),e.setUniform("u_pointSize",d,"FLOAT");var p=f.getDimensions();if(e.setUniform("u_positionDimensions",[p.width,p.height],"FLOAT"),void 0===this.pointIndexBuffer||l&&l.length<c){for(var g=new Float32Array(h),m=0;m<h;m++)g[m]=m;this.pointIndexArray=g,this.pointIndexBuffer=this.initVertexBuffer(g)}i.bindBuffer(i.ARRAY_BUFFER,this.pointIndexBuffer),this.setIndexAttribute(e),!1!==(null==n?void 0:n.shouldBlendAlpha)&&(i.enable(i.BLEND),i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA)),i.drawArrays(i.POINTS,0,c),i.disable(i.BLEND)}},e.prototype.reset=function(){},e.prototype.destroy=function(){},e}();t.GLCompute=d},547:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPUProgram=void 0;var n=r(299),a=function(){function e(e,t,r,a,i,o){var s=this;this.uniforms={},this.shaders=[],this.attributes={},this.attributeNames=[],this.name=e,this.gl=t,this.errorCallback=r;var u=t.createProgram();if(u){if("string"==typeof i){var l=n.compileShader(t,r,i,t.FRAGMENT_SHADER,e);if(!l)return void r("Unable to compile fragment shader for program "+e+".");this.shaders.push(l),t.attachShader(u,l)}else t.attachShader(u,i);if("string"==typeof a){var f=n.compileShader(t,r,a,t.VERTEX_SHADER,e);if(!f)return void r("Unable to compile vertex shader for program "+e+".");this.shaders.push(f),t.attachShader(u,f)}else t.attachShader(u,a);t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)?(this.program=u,null==o||o.forEach((function(e){var t=e.name,r=e.value,n=e.dataType;s.setUniform(t,r,n)}))):r("Program "+e+" failed to link: "+t.getProgramInfoLog(u))}else r("Unable to init gl program: "+e+".")}return e.prototype.uniformTypeForValue=function(e,t){if("FLOAT"===t){if(!isNaN(e)||1===e.length)return"1f";if(2===e.length)return"2f";if(3===e.length)return"3f";if(4===e.length)return"3f";throw new Error("Invalid uniform value: "+e)}if("INT"===t){if(!isNaN(e)||1===e.length)return"1i";if(2===e.length)return"2i";if(3===e.length)return"3i";if(4===e.length)return"3i";throw new Error("Invalid uniform value: "+e)}throw new Error("Invalid uniform data type: "+t)},e.prototype.setUniform=function(e,t,r){var n=this,a=n.gl,i=n.errorCallback,o=n.program,s=n.uniforms;if(o){a.useProgram(o);var u=this.uniformTypeForValue(t,r);if(!s[e]){var l=a.getUniformLocation(o,e);if(!l)return void i("Could not init uniform "+e+".\nCheck that uniform is present in shader code, unused uniforms may be removed by compiler.\nAlso check that uniform type in shader code matches type "+u+".\nError code: "+a.getError()+".");s[e]={location:l,type:u}}var f=s[e];if(f.type!=u)throw new Error("Uniform "+e+" cannot change from type "+f.type+" to type "+u+".");var h=f.location;switch(u){case"1f":a.uniform1f(h,t);break;case"2f":a.uniform2fv(h,t);break;case"3f":a.uniform3fv(h,t);break;case"3f":a.uniform4fv(h,t);break;case"1i":a.uniform1i(h,t);break;case"2i":a.uniform2iv(h,t);break;case"3i":a.uniform3iv(h,t);break;case"3i":a.uniform4iv(h,t);break;default:throw new Error("Unknown uniform type: "+u+".")}}else i("Program not inited.")},e.prototype.setVertexAttribute=function(e,t){var r=this,a=r.gl,i=r.errorCallback,o=r.program,s=r.attributes,u=r.attributeNames;if(o){if(!n.isWebGL2(a))throw new Error("Must use a webgl2 context for transform feedback.");if(a.useProgram(o),!s[e]){var l=a.getAttribLocation(o,e);if(!l)return void i("Could not init vertexAttribute "+e+".\nError code: "+a.getError()+".");s[e]={location:l,type:t},u.push(e)}var f=s[e];if(f.type!=t)throw new Error("Vertex attribute "+e+" cannot change from type "+f.type+" to type "+t+".")}else i("Program not inited.")},e.prototype.getAttributeLocation=function(e){var t=this,r=t.attributes,n=t.attributeNames,a=t.name,i=n[e];if(!i)throw new Error("Invalid attribute index "+e+" for program "+a+", current attributes: "+n.join(", ")+".");var o=r[i];if(!o)throw new Error("Invalid attribute "+i+" for program "+a+".");return o.location},e.prototype.destroy=function(){var e=this,t=e.gl,r=e.program,n=e.shaders;r&&t.deleteProgram(r);for(var a=0;a<n.length;a++)t.deleteShader(n[a]);n.length=0,delete this.gl,delete this.errorCallback,delete this.program},e}();t.GPUProgram=a},741:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExtension=t.EXT_COLOR_BUFFER_FLOAT=t.WEBGL_DEPTH_TEXTURE=t.OES_TEXTURE_HAlF_FLOAT_LINEAR=t.OES_TEXTURE_FLOAT_LINEAR=t.OES_TEXTURE_HALF_FLOAT=t.OES_TEXTURE_FLOAT=void 0;var r={};t.OES_TEXTURE_FLOAT="OES_texture_float",t.OES_TEXTURE_HALF_FLOAT="OES_texture_half_float",t.OES_TEXTURE_FLOAT_LINEAR="OES_texture_float_linear",t.OES_TEXTURE_HAlF_FLOAT_LINEAR="OES_texture_half_float_linear",t.WEBGL_DEPTH_TEXTURE="WEBGL_depth_texture",t.EXT_COLOR_BUFFER_FLOAT="EXT_color_buffer_float",t.getExtension=function(e,t,n,a){if(void 0===a&&(a=!1),void 0!==r[t])return r[t];var i;try{i=e.getExtension(t)}catch(e){}return i?(r[t]=i,console.log("Loaded extension: "+t+".")):(r[t]=!1,console.warn("Unsupported "+(a?"optional ":"")+"extension: "+t+".")),i||a||n("Required extension unsupported by this device / browser: "+t+"."),i}},621:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PassThroughFragmentShader=t.PointsVertexShader=t.SingleColorFragShader=t.GLCompute=void 0;var n=r(821);Object.defineProperty(t,"GLCompute",{enumerable:!0,get:function(){return n.GLCompute}});var a=r(390);t.SingleColorFragShader=a.default;var i=r(345);t.PointsVertexShader=i.default;var o=r(656);t.PassThroughFragmentShader=o.default},881:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\n\nattribute vec2 aPosition;\n\nuniform vec2 u_scale;\nuniform vec2 u_translation;\n\nvarying vec2 vUV_local;\nvarying vec2 vUV;\n\nvoid main() {\n\t// Calculate UV coordinates of current rendered object.\n\tvUV_local = 0.5 * (aPosition + 1.0);\n\n\t// Apply transformations.\n\tvec2 position = u_scale * aPosition + u_translation;\n\n\t// Calculate a global uv for the viewport.\n\tvUV = 0.5 * (position + 1.0);\n\n\t// Calculate vertex position.\n\tgl_Position = vec4(position, 0, 1);\n}\n"},656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\n\nvarying vec2 vUV;\nuniform sampler2D u_state;\n\nvoid main() {\n\tgl_FragColor = texture2D(u_state, vUV);\n}"},345:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\nprecision highp int;\n\n// Cannot use int vertex attributes: https://stackoverflow.com/questions/27874983/webgl-how-to-use-integer-attributes-in-glsl\nattribute float aIndex; // Index of point.\n\nuniform sampler2D u_positions; // Texture lookup with position data.\nuniform vec2 u_positionDimensions;\nuniform vec2 u_scale;\nuniform float u_pointSize;\n\nvarying vec2 vUV;\nvarying vec2 vParticleUV;\n\n/**\n * Returns accurate MOD when arguments are approximate integers.\n */\nfloat modI(float a, float b) {\n    float m = a - floor((a + 0.5) / b) * b;\n    return floor(m + 0.5);\n}\n\nvoid main() {\n\t// Calculate a uv based on the point's index attribute.\n\tvParticleUV = vec2(modI(aIndex, u_positionDimensions.x), floor(floor(aIndex + 0.5) / u_positionDimensions.x)) / u_positionDimensions;\n\n\t// Calculate a global uv for the viewport.\n\t// Lookup vertex position and scale to [0, 1] range.\n\tvUV = texture2D(u_positions, vParticleUV).xy * u_scale;\n\n\t// Calculate position in [-1, 1] range.\n\tvec2 position = vUV * 2.0 - 1.0;\n\n\tgl_PointSize = u_pointSize;\n\tgl_Position = vec4(position, 0, 1);\n}\n"},390:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\n\nuniform vec3 u_color;\n\nvoid main() {\n\tgl_FragColor = vec4(u_color, 1);\n}"},299:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWebGL2=t.compileShader=void 0,t.compileShader=function(e,t,r,n,a){var i=e.createShader(n);return i?(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(t("Could not compile "+(n===e.FRAGMENT_SHADER?"fragment":"vertex")+"\n\t\t\t shader"+(a?" for program "+a:"")+": "+e.getShaderInfoLog(i)+"."),null)):(t("Unable to init gl shader."),null)},t.isWebGL2=function(e){return!!e.HALF_FLOAT}},607:(e,t,r)=>{"use strict";var n=r(621),a=r(645),i=r(539),o=r(950),s=document.getElementById("glcanvas"),u=new n.GLCompute(null,s,{antialias:!1}),l=u.initProgram("gol",a,[{name:"u_state",value:0,dataType:"INT"},{name:"u_pxSize",value:[1/s.clientWidth,1/s.clientHeight],dataType:"FLOAT"}]),f=u.initProgram("render",i,[{name:"u_state",value:0,dataType:"INT"}]),h=u.initProgram("interaction",o,[{name:"u_noiseLookup",value:0,dataType:"INT"}]);function c(e,t){void 0===t&&(t=.1);for(var r=new Uint8Array(e),n=0,a=r.length;n<a;n++)r[n]=Math.random()<t?255:0;return r}var d=u.initDataLayer("state",{dimensions:[s.clientWidth,s.clientHeight],type:"uint8",numComponents:1,data:c(s.clientWidth*s.clientHeight),filter:"NEAREST"},!0,2);function p(){var e=s.clientWidth,t=s.clientHeight;d.resize([e,t],c(e*t)),l.setUniform("u_pxSize",[1/e,1/t],"FLOAT"),u.onResize(s)}p(),window.addEventListener("resize",p);var g=u.initDataLayer("noise",{dimensions:[20,20],type:"uint8",numComponents:1,data:c(400,.5),filter:"NEAREST"});function m(e){e.preventDefault();var t="scale(1)";document.body.style.webkitTransform=t,document.body.style.msTransform=t,document.body.style.transform=t}s.addEventListener("mousemove",(function(e){u.stepCircle(h,[e.clientX,s.clientHeight-e.clientY],10,[g],d)})),s.addEventListener("touchmove",(function(e){e.preventDefault();for(var t=0;t<e.touches.length;t++){var r=e.touches[t];u.stepCircle(h,[r.pageX,s.clientHeight-r.pageY],10,[g],d)}})),document.addEventListener("gesturestart",m),document.addEventListener("gesturechange",m),document.addEventListener("gestureend",m),window.requestAnimationFrame((function e(){u.step(l,[d],d),u.step(f,[d]),window.requestAnimationFrame(e)}))},645:e=>{e.exports="precision lowp float;\n\nvarying vec2 vUV;\nuniform sampler2D u_state;\nuniform vec2 u_pxSize;\n\nvoid main() {\n\tfloat currentState = texture2D(u_state, vUV).r;\n\n\tint count = 0;\n\tfor (int i = -1; i < 2; i++) {\n\t\tfor (int j =- 1; j < 2; j++) {\n\t\t\tif (i == 0 && j == 0) continue;\n\t\t\tvec2 neighborUV = vUV + vec2(u_pxSize.x * float(i), u_pxSize.y * float(j));\n\t\t\tif (texture2D(u_state, neighborUV).r == 1.0) count++;\n\t\t}\n\t}\n\n\t// https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life#Rules\n\tif (count == 3 || (currentState == 1.0 && count == 2)) {\n\t\tgl_FragColor = vec4(1);\n\t\treturn;\n\t}\n\tgl_FragColor = vec4(0, 0, 0,1);\n}"},950:e=>{e.exports="precision lowp float;\n\nvarying vec2 vUV_local;\nuniform sampler2D u_noiseLookup;\n\nvoid main() {\n\tfloat state = texture2D(u_noiseLookup, vUV_local).r;\n\tgl_FragColor = vec4(state, 0, 0, 1);\n}\n"},539:e=>{e.exports="precision lowp float;\n\nvarying vec2 vUV;\nuniform sampler2D u_state;\n\nvoid main() {\n\tfloat currentState = texture2D(u_state, vUV).r;\n\tgl_FragColor = vec4(currentState, currentState, currentState, 1);\n}"}},t={};!function r(n){if(t[n])return t[n].exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb253YXlzaGFkZXIvLi9ub2RlX21vZHVsZXMvZ2xjb21wdXRlL2Rpc3QvRGF0YUxheWVyLmpzIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL25vZGVfbW9kdWxlcy9nbGNvbXB1dGUvZGlzdC9HTENvbXB1dGUuanMiLCJ3ZWJwYWNrOi8vY29ud2F5c2hhZGVyLy4vbm9kZV9tb2R1bGVzL2dsY29tcHV0ZS9kaXN0L0dQVVByb2dyYW0uanMiLCJ3ZWJwYWNrOi8vY29ud2F5c2hhZGVyLy4vbm9kZV9tb2R1bGVzL2dsY29tcHV0ZS9kaXN0L2V4dGVuc2lvbnMuanMiLCJ3ZWJwYWNrOi8vY29ud2F5c2hhZGVyLy4vbm9kZV9tb2R1bGVzL2dsY29tcHV0ZS9kaXN0L2luZGV4LmpzIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL25vZGVfbW9kdWxlcy9nbGNvbXB1dGUvZGlzdC9rZXJuZWxzL0RlZmF1bHRWZXJ0ZXhTaGFkZXIuanMiLCJ3ZWJwYWNrOi8vY29ud2F5c2hhZGVyLy4vbm9kZV9tb2R1bGVzL2dsY29tcHV0ZS9kaXN0L2tlcm5lbHMvUGFzc1Rocm91Z2hGcmFnbWVudFNoYWRlci5qcyIsIndlYnBhY2s6Ly9jb253YXlzaGFkZXIvLi9ub2RlX21vZHVsZXMvZ2xjb21wdXRlL2Rpc3Qva2VybmVscy9Qb2ludHNWZXJ0ZXhTaGFkZXIuanMiLCJ3ZWJwYWNrOi8vY29ud2F5c2hhZGVyLy4vbm9kZV9tb2R1bGVzL2dsY29tcHV0ZS9kaXN0L2tlcm5lbHMvU2luZ2xlQ29sb3JGcmFnU2hhZGVyLmpzIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL25vZGVfbW9kdWxlcy9nbGNvbXB1dGUvZGlzdC91dGlscy5qcyIsIndlYnBhY2s6Ly9jb253YXlzaGFkZXIvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vY29ud2F5c2hhZGVyLy4vc3JjL2tlcm5lbHMvR09MU2hhZGVyLmdsc2wiLCJ3ZWJwYWNrOi8vY29ud2F5c2hhZGVyLy4vc3JjL2tlcm5lbHMvSW50ZXJhY3Rpb25TaGFkZXIuZ2xzbCIsIndlYnBhY2s6Ly9jb253YXlzaGFkZXIvLi9zcmMva2VybmVscy9SZW5kZXJTaGFkZXIuZ2xzbCIsIndlYnBhY2s6Ly9jb253YXlzaGFkZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY29ud2F5c2hhZGVyL3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkRhdGFMYXllciIsImV4dGVuc2lvbnNfMSIsInV0aWxzXzEiLCJuYW1lIiwiZ2wiLCJvcHRpb25zIiwiZXJyb3JDYWxsYmFjayIsIndyaXRhYmxlIiwibnVtQnVmZmVycyIsInRoaXMiLCJidWZmZXJJbmRleCIsImJ1ZmZlcnMiLCJFcnJvciIsImlzTmFOIiwiZGltZW5zaW9ucyIsIndpZHRoIiwiaGVpZ2h0IiwibGVuZ3RoIiwiX2EiLCJjYWxjV2lkdGhIZWlnaHQiLCJ0eXBlIiwiY2hlY2tUeXBlIiwibnVtQ29tcG9uZW50cyIsImZpbHRlciIsImNoZWNrRmlsdGVyIiwid3JhcFMiLCJ3cmFwVCIsIl9iIiwiZ2V0R0xUZXh0dXJlUGFyYW1ldGVycyIsImdsRm9ybWF0IiwiZ2xJbnRlcm5hbEZvcm1hdCIsImdsVHlwZSIsImdsTnVtQ2hhbm5lbHMiLCJpbml0QnVmZmVycyIsImRhdGEiLCJwcm90b3R5cGUiLCJleHAiLCJyZW1haW5kZXIiLCJNYXRoIiwicG93IiwiZmxvb3IiLCJnZXRFeHRlbnNpb24iLCJPRVNfVEVYVFVSRV9IQWxGX0ZMT0FUX0xJTkVBUiIsIk9FU19URVhUVVJFX0ZMT0FUX0xJTkVBUiIsImlzV2ViR0wyIiwiT0VTX1RFWFRVUkVfRkxPQVQiLCJPRVNfVEVYVFVSRV9IQUxGX0ZMT0FUIiwiRVhUX0NPTE9SX0JVRkZFUl9GTE9BVCIsImNoZWNrRGF0YUFycmF5IiwiX2RhdGEiLCJpbnZhbGlkVHlwZUZvdW5kIiwiY29uc3RydWN0b3IiLCJGbG9hdDMyQXJyYXkiLCJVaW50OEFycmF5IiwiSW50OEFycmF5IiwiVWludDE2QXJyYXkiLCJJbnQxNkFycmF5IiwiVWludDMyQXJyYXkiLCJJbnQzMkFycmF5IiwiaW1hZ2VTaXplIiwiaSIsIl9sZW4iLCJqIiwiUkVEIiwiUkciLCJSR0IiLCJSR0JBIiwiRkxPQVQiLCJSMzJGIiwiUkczMkYiLCJSR0IzMkYiLCJSR0JBMzJGIiwiSEFMRl9GTE9BVCIsIlIxNkYiLCJSRzE2RiIsIlJHQjE2RiIsIlJHQkExNkYiLCJCWVRFIiwiUjhJIiwiUkc4SSIsIlJHQjhJIiwiUkdCQThJIiwiVU5TSUdORURfQllURSIsIlI4IiwiUkc4IiwiU0hPUlQiLCJSMTZJIiwiUkcxNkkiLCJSR0IxNkkiLCJSR0JBMTZJIiwiVU5TSUdORURfU0hPUlQiLCJSMTZVSSIsIlJHMTZVSSIsIlJHQjE2VUkiLCJSR0JBMTZVSSIsIklOVCIsIlIzMkkiLCJSRzMySSIsIlJHQjMySSIsIlJHQkEzMkkiLCJVTlNJR05FRF9JTlQiLCJSMzJVSSIsIlJHMzJVSSIsIlJHQjMyVUkiLCJSR0JBMzJVSSIsIkhBTEZfRkxPQVRfT0VTIiwiV0VCR0xfREVQVEhfVEVYVFVSRSIsInVuZGVmaW5lZCIsInRleHR1cmUiLCJjcmVhdGVUZXh0dXJlIiwiZ2V0RXJyb3IiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9XUkFQX1MiLCJURVhUVVJFX1dSQVBfVCIsIlRFWFRVUkVfTUlOX0ZJTFRFUiIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsInRleEltYWdlMkQiLCJidWZmZXIiLCJmcmFtZWJ1ZmZlciIsImNyZWF0ZUZyYW1lYnVmZmVyIiwiYmluZEZyYW1lYnVmZmVyIiwiRlJBTUVCVUZGRVIiLCJmcmFtZWJ1ZmZlclRleHR1cmUyRCIsIkNPTE9SX0FUVEFDSE1FTlQwIiwic3RhdHVzXzEiLCJjaGVja0ZyYW1lYnVmZmVyU3RhdHVzIiwiRlJBTUVCVUZGRVJfQ09NUExFVEUiLCJwdXNoIiwiZ2V0Q3VycmVudFN0YXRlVGV4dHVyZSIsImJpbmRPdXRwdXRCdWZmZXIiLCJpbmNyZW1lbnRCdWZmZXJJbmRleCIsInJlc2l6ZSIsImRlc3Ryb3lCdWZmZXJzIiwiZ2V0RGltZW5zaW9ucyIsImdldExlbmd0aCIsImZvckVhY2giLCJkZWxldGVUZXh0dXJlIiwiZGVsZXRlRnJhbWVidWZmZXIiLCJkZXN0cm95IiwiR0xDb21wdXRlIiwiRGVmYXVsdFZlcnRleFNoYWRlcl8xIiwiUGFzc1Rocm91Z2hGcmFnbWVudFNoYWRlcl8xIiwiRGF0YUxheWVyXzEiLCJHUFVQcm9ncmFtXzEiLCJmc1F1YWRQb3NpdGlvbnMiLCJib3VuZGFyeVBvc2l0aW9ucyIsInVuaXRDaXJjbGVQb2ludHMiLCJjb3MiLCJQSSIsInNpbiIsImNpcmNsZVBvc2l0aW9ucyIsImNhbnZhc0VsIiwibWVzc2FnZSIsImVycm9yU3RhdGUiLCJzZWxmIiwiZ2V0Q29udGV4dCIsImNvbnNvbGUiLCJsb2ciLCJkaXNhYmxlIiwiREVQVEhfVEVTVCIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX0FMSUdOTUVOVCIsImRlZmF1bHRWZXJ0ZXhTaGFkZXIiLCJjb21waWxlU2hhZGVyIiwiZGVmYXVsdCIsIlZFUlRFWF9TSEFERVIiLCJwYXNzVGhyb3VnaFByb2dyYW0iLCJpbml0UHJvZ3JhbSIsImRhdGFUeXBlIiwicXVhZFBvc2l0aW9uc0J1ZmZlciIsImluaXRWZXJ0ZXhCdWZmZXIiLCJib3VuZGFyeVBvc2l0aW9uc0J1ZmZlciIsImNpcmNsZVBvc2l0aW9uc0J1ZmZlciIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJvblJlc2l6ZSIsIm1heFRleHR1cmVzSW5GcmFnbWVudFNoYWRlciIsImdldFBhcmFtZXRlciIsIk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTIiwiY3JlYXRlQnVmZmVyIiwiYnVmZmVyRGF0YSIsIlNUQVRJQ19EUkFXIiwiZnJhZ21lbnRTaGFkZXJPclNvdXJjZSIsInVuaWZvcm1zIiwidmVydGV4U2hhZGVyT3JTb3VyY2UiLCJHUFVQcm9ncmFtIiwiaW5pdERhdGFMYXllciIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZHJhd1NldHVwIiwicHJvZ3JhbSIsImZ1bGxzY3JlZW5SZW5kZXIiLCJpbnB1dExheWVycyIsIm91dHB1dExheWVyIiwiaW5wdXRUZXh0dXJlcyIsIm1hcCIsImxheWVyIiwic2V0T3V0cHV0TGF5ZXIiLCJ1c2VQcm9ncmFtIiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwiaW5kZXhPZiIsInN0ZXAiLCJfYyIsInZpZXdwb3J0Iiwid2lkdGhfMSIsImhlaWdodF8xIiwic2V0UG9zaXRpb25BdHRyaWJ1dGUiLCJsb2NhdGlvbiIsImdldEF0dHJpYkxvY2F0aW9uIiwidmVydGV4QXR0cmliUG9pbnRlciIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5Iiwic2V0SW5kZXhBdHRyaWJ1dGUiLCJzZXRVbmlmb3JtIiwic2hvdWxkQmxlbmRBbHBoYSIsImVuYWJsZSIsIkJMRU5EIiwiYmxlbmRGdW5jIiwiU1JDX0FMUEhBIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsImRyYXdBcnJheXMiLCJUUklBTkdMRV9TVFJJUCIsInN0ZXBCb3VuZGFyeSIsIm9uZVB4IiwiTElORV9MT09QIiwic3RlcE5vbkJvdW5kYXJ5Iiwic3RlcENpcmNsZSIsInBvc2l0aW9uIiwicmFkaXVzIiwiVFJJQU5HTEVfRkFOIiwiTlVNX1NFR01FTlRTX0NJUkNMRSIsImRyYXdQb2ludHMiLCJwb2ludEluZGV4QXJyYXkiLCJwb3NpdGlvbkxheWVyIiwibnVtUG9pbnRzIiwicG9pbnRTaXplIiwicG9zaXRpb25MYXllckRpbWVuc2lvbnMiLCJwb2ludEluZGV4QnVmZmVyIiwiaW5kaWNlcyIsIlBPSU5UUyIsInJlc2V0IiwiX3RoaXMiLCJzaGFkZXJzIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZU5hbWVzIiwiY3JlYXRlUHJvZ3JhbSIsImZyYWdtZW50U2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwiYXR0YWNoU2hhZGVyIiwidmVydGV4U2hhZGVyIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJ1bmlmb3JtIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJ1bmlmb3JtVHlwZUZvclZhbHVlIiwidW5pZm9ybU5hbWUiLCJsb2NhdGlvbl8xIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwidW5pZm9ybTFmIiwidW5pZm9ybTJmdiIsInVuaWZvcm0zZnYiLCJ1bmlmb3JtNGZ2IiwidW5pZm9ybTFpIiwidW5pZm9ybTJpdiIsInVuaWZvcm0zaXYiLCJ1bmlmb3JtNGl2Iiwic2V0VmVydGV4QXR0cmlidXRlIiwiYXR0cmlidXRlTmFtZSIsImxvY2F0aW9uXzIiLCJhdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGVMb2NhdGlvbiIsImluZGV4Iiwiam9pbiIsImRlbGV0ZVByb2dyYW0iLCJkZWxldGVTaGFkZXIiLCJleHRlbnNpb25zIiwiZXh0ZW5zaW9uTmFtZSIsIm9wdGlvbmFsIiwiZXh0ZW5zaW9uIiwiZSIsIndhcm4iLCJQYXNzVGhyb3VnaEZyYWdtZW50U2hhZGVyIiwiUG9pbnRzVmVydGV4U2hhZGVyIiwiU2luZ2xlQ29sb3JGcmFnU2hhZGVyIiwiR0xDb21wdXRlXzEiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiU2luZ2xlQ29sb3JGcmFnU2hhZGVyXzEiLCJQb2ludHNWZXJ0ZXhTaGFkZXJfMSIsInNoYWRlclNvdXJjZSIsInNoYWRlclR5cGUiLCJwcm9ncmFtTmFtZSIsInNoYWRlciIsImNyZWF0ZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZ2V0U2hhZGVySW5mb0xvZyIsImdvbFNoYWRlclNvdXJjZSIsInJlbmRlclNoYWRlclNvdXJjZSIsImludGVyYWN0aW9uU2hhZGVyU291cmNlIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdsY29tcHV0ZSIsImFudGlhbGlhcyIsImdvbCIsInJlbmRlciIsImludGVyYWN0aW9uIiwibWFrZVJhbmRvbUFycmF5IiwicHJvYmFiaWxpdHkiLCJhcnJheSIsInJhbmRvbSIsInN0YXRlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm5vaXNlIiwiVE9VQ0hfUkFESVVTIiwiZGlzYWJsZVpvb20iLCJwcmV2ZW50RGVmYXVsdCIsInNjYWxlIiwiYm9keSIsInN0eWxlIiwid2Via2l0VHJhbnNmb3JtIiwibXNUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJjbGllbnRYIiwiY2xpZW50WSIsInRvdWNoZXMiLCJ0b3VjaCIsInBhZ2VYIiwicGFnZVkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIl0sIm1hcHBpbmdzIjoid0NBQ0FBLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RERCxFQUFRRSxlQUFZLEVBQ3BCLElBQUlDLEVBQWUsRUFBUSxLQUN2QkMsRUFBVSxFQUFRLEtBQ2xCRixFQUEyQixXQUMzQixTQUFTQSxFQUFVRyxFQUFNQyxFQUFJQyxFQUFTQyxFQUFlQyxFQUFVQyxHQU8zRCxHQU5BQyxLQUFLQyxZQUFjLEVBQ25CRCxLQUFLRSxRQUFVLEdBRWZGLEtBQUtOLEtBQU9BLEVBQ1pNLEtBQUtMLEdBQUtBLEVBQ1ZLLEtBQUtILGNBQWdCQSxFQUNqQkUsRUFBYSxHQUFLQSxFQUFhLEdBQU0sRUFDckMsTUFBTSxJQUFJSSxNQUFNLHVCQUF5QkosRUFBYSxrQkFBb0JDLEtBQUtOLEtBQU8sK0JBSTFGLEdBRkFNLEtBQUtELFdBQWFBLEVBRWJLLE1BQU1SLEVBQVFTLFlBVWZMLEtBQUtNLE1BQVFWLEVBQVFTLFdBQVcsR0FDaENMLEtBQUtPLE9BQVNYLEVBQVFTLFdBQVcsT0FYTCxDQUM1QixHQUFJVCxFQUFRUyxXQUFhLEVBQ3JCLE1BQU0sSUFBSUYsTUFBTSxrQkFBb0JQLEVBQVFTLFdBQWEsa0JBQW9CWCxFQUFPLEtBRXhGTSxLQUFLUSxPQUFTWixFQUFRUyxXQUN0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LElBRVJzRyxFQUFVdEcsS0FBS3dHLEVBQUssQ0FBQ08sR0FBUUEsR0FFN0JULEVBQVV0RyxLQUFLeUcsRUFBUSxDQUFDTSxJQUV4QkMsT0FBT2tCLHNCQUFzQmxJLE8sUUM1RzlCbUksRUFBT2pWLFFBQVUsd3BCLFFDQWpCaVYsRUFBT2pWLFFBQVUsNE0sUUNBakJpVixFQUFPalYsUUFBVSx1TkNDYmtWLEVBQTJCLElBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixHQUFHRixFQUF5QkUsR0FDM0IsT0FBT0YsRUFBeUJFLEdBQVVwVixRQUczQyxJQUFJaVYsRUFBU0MsRUFBeUJFLEdBQVksQ0FHakRwVixRQUFTLElBT1YsT0FIQXFWLEVBQW9CRCxHQUFVSCxFQUFRQSxFQUFPalYsUUFBU21WLEdBRy9DRixFQUFPalYsUUNsQmZtVixDQUFvQixNIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRGF0YUxheWVyID0gdm9pZCAwO1xudmFyIGV4dGVuc2lvbnNfMSA9IHJlcXVpcmUoXCIuL2V4dGVuc2lvbnNcIik7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIERhdGFMYXllciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEYXRhTGF5ZXIobmFtZSwgZ2wsIG9wdGlvbnMsIGVycm9yQ2FsbGJhY2ssIHdyaXRhYmxlLCBudW1CdWZmZXJzKSB7XG4gICAgICAgIHRoaXMuYnVmZmVySW5kZXggPSAwO1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgLy8gU2F2ZSBwYXJhbXMuXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjaztcbiAgICAgICAgaWYgKG51bUJ1ZmZlcnMgPCAwIHx8IG51bUJ1ZmZlcnMgJSAxICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG51bUJ1ZmZlcnM6IFwiICsgbnVtQnVmZmVycyArIFwiIGZvciBEYXRhTGF5ZXIgXCIgKyB0aGlzLm5hbWUgKyBcIiwgbXVzdCBiZSBwb3NpdGl2ZSBpbnRlZ2VyLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm51bUJ1ZmZlcnMgPSBudW1CdWZmZXJzO1xuICAgICAgICAvLyBTYXZlIG9wdGlvbnMuXG4gICAgICAgIGlmICghaXNOYU4ob3B0aW9ucy5kaW1lbnNpb25zKSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGltZW5zaW9ucyA8IDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGxlbmd0aCBcIiArIG9wdGlvbnMuZGltZW5zaW9ucyArIFwiIGZvciBEYXRhTGF5ZXIgXCIgKyBuYW1lICsgXCIuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBvcHRpb25zLmRpbWVuc2lvbnM7XG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLmNhbGNXaWR0aEhlaWdodChvcHRpb25zLmRpbWVuc2lvbnMpLCB3aWR0aCA9IF9hWzBdLCBoZWlnaHQgPSBfYVsxXTtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IG9wdGlvbnMuZGltZW5zaW9uc1swXTtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gb3B0aW9ucy5kaW1lbnNpb25zWzFdO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIHRoYXQgZ2wgd2lsbCBzdXBwb3J0IHRoZSBkYXRhdHlwZS5cbiAgICAgICAgdGhpcy50eXBlID0gdGhpcy5jaGVja1R5cGUob3B0aW9ucy50eXBlKTtcbiAgICAgICAgdGhpcy5udW1Db21wb25lbnRzID0gb3B0aW9ucy5udW1Db21wb25lbnRzO1xuICAgICAgICB0aGlzLndyaXRhYmxlID0gd3JpdGFibGU7XG4gICAgICAgIC8vIEdldCBjdXJyZW50IGZpbHRlciBzZXR0aW5nLlxuICAgICAgICAvLyBJZiB3ZSBhcmUgcHJvY2Vzc2luZyBhIDFEIGFycmF5LCBkZWZhdWx0IHRvIG5lYXJlc3QgZmlsdGVyaW5nLlxuICAgICAgICAvLyBFbHNlIGRlZmF1bHQgdG8gbGluZWFyIGZpbHRlcmluZy5cbiAgICAgICAgdmFyIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyID8gb3B0aW9ucy5maWx0ZXIgOiAodGhpcy5sZW5ndGggPyAnTkVBUkVTVCcgOiAnTElORUFSJyk7XG4gICAgICAgIHRoaXMuZmlsdGVyID0gdGhpcy5jaGVja0ZpbHRlcihmaWx0ZXIsIHRoaXMudHlwZSk7XG4gICAgICAgIC8vIFRPRE86IFJFUEVBVCB3cmFwIG5vdCBzdXBwb3J0ZWQgZm9yIG5vbi1wb3dlciBvZiAyIHRleHR1cmVzLCBwb3NzaWJseSBvbmx5IGFwcGxpZXMgdG8gZmxvYXQgdGV4dHVyZXM/XG4gICAgICAgIHRoaXMud3JhcFMgPSBnbFtvcHRpb25zLndyYXBTID8gb3B0aW9ucy53cmFwUyA6ICdDTEFNUF9UT19FREdFJ107XG4gICAgICAgIHRoaXMud3JhcFQgPSBnbFtvcHRpb25zLndyYXBUID8gb3B0aW9ucy53cmFwVCA6ICdDTEFNUF9UT19FREdFJ107XG4gICAgICAgIHZhciBfYiA9IHRoaXMuZ2V0R0xUZXh0dXJlUGFyYW1ldGVycygpLCBnbEZvcm1hdCA9IF9iLmdsRm9ybWF0LCBnbEludGVybmFsRm9ybWF0ID0gX2IuZ2xJbnRlcm5hbEZvcm1hdCwgZ2xUeXBlID0gX2IuZ2xUeXBlLCBnbE51bUNoYW5uZWxzID0gX2IuZ2xOdW1DaGFubmVscztcbiAgICAgICAgdGhpcy5nbEludGVybmFsRm9ybWF0ID0gZ2xJbnRlcm5hbEZvcm1hdDtcbiAgICAgICAgdGhpcy5nbEZvcm1hdCA9IGdsRm9ybWF0O1xuICAgICAgICB0aGlzLmdsVHlwZSA9IGdsVHlwZTtcbiAgICAgICAgdGhpcy5nbE51bUNoYW5uZWxzID0gZ2xOdW1DaGFubmVscztcbiAgICAgICAgdGhpcy5pbml0QnVmZmVycyhvcHRpb25zLmRhdGEpO1xuICAgIH1cbiAgICBEYXRhTGF5ZXIucHJvdG90eXBlLmNhbGNXaWR0aEhlaWdodCA9IGZ1bmN0aW9uIChsZW5ndGgpIHtcbiAgICAgICAgLy8gQ2FsYyBwb3dlciBvZiB0d28gd2lkdGggYW5kIGhlaWdodCBmb3IgbGVuZ3RoLlxuICAgICAgICB2YXIgZXhwID0gMTtcbiAgICAgICAgdmFyIHJlbWFpbmRlciA9IGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKHJlbWFpbmRlciA+IDIpIHtcbiAgICAgICAgICAgIGV4cCsrO1xuICAgICAgICAgICAgcmVtYWluZGVyIC89IDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIE1hdGgucG93KDIsIE1hdGguZmxvb3IoZXhwIC8gMikgKyBleHAgJSAyKSxcbiAgICAgICAgICAgIE1hdGgucG93KDIsIE1hdGguZmxvb3IoZXhwIC8gMikpLFxuICAgICAgICBdO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5jaGVja0ZpbHRlciA9IGZ1bmN0aW9uIChmaWx0ZXIsIHR5cGUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2s7XG4gICAgICAgIGlmIChmaWx0ZXIgPT09ICdORUFSRVNUJykge1xuICAgICAgICAgICAgcmV0dXJuIGdsW2ZpbHRlcl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdmbG9hdDE2Jykge1xuICAgICAgICAgICAgdmFyIGV4dGVuc2lvbiA9IGV4dGVuc2lvbnNfMS5nZXRFeHRlbnNpb24oZ2wsIGV4dGVuc2lvbnNfMS5PRVNfVEVYVFVSRV9IQWxGX0ZMT0FUX0xJTkVBUiwgZXJyb3JDYWxsYmFjaywgdHJ1ZSlcbiAgICAgICAgICAgICAgICB8fCBleHRlbnNpb25zXzEuZ2V0RXh0ZW5zaW9uKGdsLCBleHRlbnNpb25zXzEuT0VTX1RFWFRVUkVfRkxPQVRfTElORUFSLCBlcnJvckNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgICAgIGlmICghZXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgLy9UT0RPOiBhZGQgYSBmYWxsYmFjayB0aGF0IGRvZXMgdGhpcyBmaWx0ZXJpbmcgaW4gdGhlIGZyYWcgc2hhZGVyPy5cbiAgICAgICAgICAgICAgICBmaWx0ZXIgPSAnTkVBUkVTVCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdmbG9hdDMyJykge1xuICAgICAgICAgICAgdmFyIGV4dGVuc2lvbiA9IGV4dGVuc2lvbnNfMS5nZXRFeHRlbnNpb24oZ2wsIGV4dGVuc2lvbnNfMS5PRVNfVEVYVFVSRV9GTE9BVF9MSU5FQVIsIGVycm9yQ2FsbGJhY2ssIHRydWUpO1xuICAgICAgICAgICAgaWYgKCFleHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICAvL1RPRE86IGFkZCBhIGZhbGxiYWNrIHRoYXQgZG9lcyB0aGlzIGZpbHRlcmluZyBpbiB0aGUgZnJhZyBzaGFkZXI/LlxuICAgICAgICAgICAgICAgIGZpbHRlciA9ICdORUFSRVNUJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2xbZmlsdGVyXTtcbiAgICB9O1xuICAgIERhdGFMYXllci5wcm90b3R5cGUuY2hlY2tUeXBlID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2s7XG4gICAgICAgIC8vIENoZWNrIGlmIGZsb2F0MzIgc3VwcG9ydGVkLlxuICAgICAgICBpZiAoIXV0aWxzXzEuaXNXZWJHTDIoZ2wpKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2Zsb2F0MzInKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4dGVuc2lvbiA9IGV4dGVuc2lvbnNfMS5nZXRFeHRlbnNpb24oZ2wsIGV4dGVuc2lvbnNfMS5PRVNfVEVYVFVSRV9GTE9BVCwgZXJyb3JDYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFleHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdmbG9hdDE2JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNdXN0IHN1cHBvcnQgYXQgbGVhc3QgaGFsZiBmbG9hdCBpZiB1c2luZyBhIGZsb2F0IHR5cGUuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2Zsb2F0MTYnKSB7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uc18xLmdldEV4dGVuc2lvbihnbCwgZXh0ZW5zaW9uc18xLk9FU19URVhUVVJFX0hBTEZfRkxPQVQsIGVycm9yQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIExvYWQgYWRkaXRpb25hbCBleHRlbnNpb25zIGlmIG5lZWRlZC5cbiAgICAgICAgaWYgKHV0aWxzXzEuaXNXZWJHTDIoZ2wpICYmICh0eXBlID09PSAnZmxvYXQxNicgfHwgdHlwZSA9PT0gJ2Zsb2F0MzInKSkge1xuICAgICAgICAgICAgZXh0ZW5zaW9uc18xLmdldEV4dGVuc2lvbihnbCwgZXh0ZW5zaW9uc18xLkVYVF9DT0xPUl9CVUZGRVJfRkxPQVQsIGVycm9yQ2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5jaGVja0RhdGFBcnJheSA9IGZ1bmN0aW9uIChfZGF0YSkge1xuICAgICAgICBpZiAoIV9kYXRhKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0LCBsZW5ndGggPSBfYS5sZW5ndGgsIG51bUNvbXBvbmVudHMgPSBfYS5udW1Db21wb25lbnRzLCBnbE51bUNoYW5uZWxzID0gX2EuZ2xOdW1DaGFubmVscywgdHlwZSA9IF9hLnR5cGUsIG5hbWUgPSBfYS5uYW1lO1xuICAgICAgICAvLyBDaGVjayB0aGF0IGRhdGEgaXMgY29ycmVjdCBsZW5ndGguXG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGZvciBhIHVzZXIgZXJyb3IuXG4gICAgICAgIGlmICgobGVuZ3RoICYmIF9kYXRhLmxlbmd0aCAhPT0gbGVuZ3RoICogbnVtQ29tcG9uZW50cykgfHwgKCFsZW5ndGggJiYgX2RhdGEubGVuZ3RoICE9PSB3aWR0aCAqIGhlaWdodCAqIG51bUNvbXBvbmVudHMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGEgbGVuZ3RoIFwiICsgX2RhdGEubGVuZ3RoICsgXCIgZm9yIERhdGFMYXllciBcIiArIG5hbWUgKyBcIiBvZiBzaXplIFwiICsgKGxlbmd0aCA/IGxlbmd0aCA6IHdpZHRoICsgXCJ4XCIgKyBoZWlnaHQpICsgXCJ4XCIgKyBudW1Db21wb25lbnRzICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIHRoYXQgZGF0YSBpcyBjb3JyZWN0IHR5cGUuXG4gICAgICAgIHZhciBpbnZhbGlkVHlwZUZvdW5kID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnZmxvYXQzMic6XG4gICAgICAgICAgICAgICAgaW52YWxpZFR5cGVGb3VuZCA9IGludmFsaWRUeXBlRm91bmQgfHwgX2RhdGEuY29uc3RydWN0b3IgIT09IEZsb2F0MzJBcnJheTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MTYnOlxuICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoZXJlIGlzIG5vIEZsb2F0MTZUeXBlZEFycmF5LCB3ZSBtdXN0IHVzIFVpbnQxNlR5cGVkQXJyYXlcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBob3cgdG8gY2FzdCBhcyBJbnQxNkFycmF5LlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2V0dGluZyBmbG9hdDE2IGZyb20gZGF0YSBub3Qgc3VwcG9ydGVkIHlldC4nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3VpbnQ4JzpcbiAgICAgICAgICAgICAgICBpbnZhbGlkVHlwZUZvdW5kID0gaW52YWxpZFR5cGVGb3VuZCB8fCBfZGF0YS5jb25zdHJ1Y3RvciAhPT0gVWludDhBcnJheTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2ludDgnOlxuICAgICAgICAgICAgICAgIGludmFsaWRUeXBlRm91bmQgPSBpbnZhbGlkVHlwZUZvdW5kIHx8IF9kYXRhLmNvbnN0cnVjdG9yICE9PSBJbnQ4QXJyYXk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd1aW50MTYnOlxuICAgICAgICAgICAgICAgIGludmFsaWRUeXBlRm91bmQgPSBpbnZhbGlkVHlwZUZvdW5kIHx8IF9kYXRhLmNvbnN0cnVjdG9yICE9PSBVaW50MTZBcnJheTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2ludDE2JzpcbiAgICAgICAgICAgICAgICBpbnZhbGlkVHlwZUZvdW5kID0gaW52YWxpZFR5cGVGb3VuZCB8fCBfZGF0YS5jb25zdHJ1Y3RvciAhPT0gSW50MTZBcnJheTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3VpbnQzMic6XG4gICAgICAgICAgICAgICAgaW52YWxpZFR5cGVGb3VuZCA9IGludmFsaWRUeXBlRm91bmQgfHwgX2RhdGEuY29uc3RydWN0b3IgIT09IFVpbnQzMkFycmF5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaW50MzInOlxuICAgICAgICAgICAgICAgIGludmFsaWRUeXBlRm91bmQgPSBpbnZhbGlkVHlwZUZvdW5kIHx8IF9kYXRhLmNvbnN0cnVjdG9yICE9PSBJbnQzMkFycmF5O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBpbml0aW5nIFwiICsgbmFtZSArIFwiLiAgVW5zdXBwb3J0ZWQgdHlwZSBcIiArIHR5cGUgKyBcIiBmb3IgR0xDb21wdXRlLmluaXREYXRhTGF5ZXIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnZhbGlkVHlwZUZvdW5kKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFR5cGVkQXJyYXkgb2YgdHlwZSBcIiArIF9kYXRhLmNvbnN0cnVjdG9yLm5hbWUgKyBcIiBzdXBwbGllZCB0byBEYXRhTGF5ZXIgXCIgKyBuYW1lICsgXCIgb2YgdHlwZSBcIiArIHR5cGUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlbiBjaGVjayBpZiBhcnJheSBuZWVkcyB0byBiZSBsZW5ndGhlbmVkLlxuICAgICAgICAvLyBUaGlzIGNvdWxkIGJlIGJlY2F1c2UgZ2xOdW1DaGFubmVscyAhPT0gbnVtQ29tcG9uZW50cy5cbiAgICAgICAgLy8gT3IgYmVjYXVzZSBsZW5ndGggIT09IHdpZHRoICogaGVpZ2h0LlxuICAgICAgICB2YXIgZGF0YSA9IF9kYXRhO1xuICAgICAgICB2YXIgaW1hZ2VTaXplID0gd2lkdGggKiBoZWlnaHQgKiBnbE51bUNoYW5uZWxzO1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPCBpbWFnZVNpemUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MzInOlxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gbmV3IEZsb2F0MzJBcnJheShpbWFnZVNpemUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBjYXNlICdmbG9hdDE2JzpcbiAgICAgICAgICAgICAgICAvLyBcdC8vIFx0bmV3QXJyYXkgPSBuZXcgSW50MTZBcnJheShpbWFnZVNpemUgKiBnbE51bUNoYW5uZWxzKTtcbiAgICAgICAgICAgICAgICAvLyBcdHRocm93IG5ldyBFcnJvcignc2V0dGluZyBmbG9hdDE2IGZyb20gZGF0YSBub3Qgc3VwcG9ydGVkIHlldC4nKTtcbiAgICAgICAgICAgICAgICAvLyBcdGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VpbnQ4JzpcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG5ldyBVaW50OEFycmF5KGltYWdlU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ludDgnOlxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gbmV3IEludDhBcnJheShpbWFnZVNpemUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1aW50MTYnOlxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gbmV3IFVpbnQxNkFycmF5KGltYWdlU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ludDE2JzpcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG5ldyBJbnQxNkFycmF5KGltYWdlU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VpbnQzMic6XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBuZXcgVWludDMyQXJyYXkoaW1hZ2VTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnaW50MzInOlxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gbmV3IEludDMyQXJyYXkoaW1hZ2VTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgaW5pdGluZyBcIiArIG5hbWUgKyBcIi4gIFVuc3VwcG9ydGVkIHR5cGUgXCIgKyB0eXBlICsgXCIgZm9yIEdMQ29tcHV0ZS5pbml0RGF0YUxheWVyLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpbGwgbmV3IGRhdGEgYXJyYXkgd2l0aCBvbGQgZGF0YS5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBfbGVuID0gX2RhdGEubGVuZ3RoIC8gbnVtQ29tcG9uZW50czsgaSA8IF9sZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtQ29tcG9uZW50czsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbaSAqIGdsTnVtQ2hhbm5lbHMgKyBqXSA9IF9kYXRhW2kgKiBudW1Db21wb25lbnRzICsgal07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5nZXRHTFRleHR1cmVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBUT0RPOiB3ZSBtYXkgbm90IHdhbnQgdG8gc3VwcG9ydCBpbnQgYW5kIHVuc2lnbmVkIGludCB0ZXh0dXJlc1xuICAgICAgICAvLyBiZWNhdXNlIHRoZXkgcmVxdWlyZSBtb2RpZmljYXRpb25zIHRvIHRoZSBzaGFkZXIgY29kZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTU4MDMwMTcvaG93LXRvLXNlbGVjdC13ZWJnbC1nbHNsLXNhbXBsZXItdHlwZS1mcm9tLXRleHR1cmUtZm9ybWF0LXByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgbnVtQ29tcG9uZW50cyA9IF9hLm51bUNvbXBvbmVudHMsIHR5cGUgPSBfYS50eXBlLCB3cml0YWJsZSA9IF9hLndyaXRhYmxlLCBuYW1lID0gX2EubmFtZSwgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2s7XG4gICAgICAgIC8vIGh0dHBzOi8vd3d3Lmtocm9ub3Mub3JnL3JlZ2lzdHJ5L3dlYmdsL3NwZWNzL2xhdGVzdC8yLjAvI1RFWFRVUkVfVFlQRVNfRk9STUFUU19GUk9NX0RPTV9FTEVNRU5UU19UQUJMRVxuICAgICAgICB2YXIgZ2xUeXBlLCBnbEZvcm1hdCwgZ2xJbnRlcm5hbEZvcm1hdCwgZ2xOdW1DaGFubmVscztcbiAgICAgICAgaWYgKHV0aWxzXzEuaXNXZWJHTDIoZ2wpKSB7XG4gICAgICAgICAgICBnbE51bUNoYW5uZWxzID0gbnVtQ29tcG9uZW50cztcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3Lmtocm9ub3Mub3JnL3JlZ2lzdHJ5L3dlYmdsL2V4dGVuc2lvbnMvRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdC9cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvdGV4SW1hZ2UyRFxuICAgICAgICAgICAgLy8gVGhlIHNpemVkIGludGVybmFsIGZvcm1hdCBSR0J4eHggYXJlIG5vdCBjb2xvci1yZW5kZXJhYmxlIGZvciBzb21lIHJlYXNvbi5cbiAgICAgICAgICAgIC8vIElmIG51bUNvbXBvbmVudHMgPT0gMyBmb3IgYSB3cml0YWJsZSB0ZXh0dXJlLCB1c2UgUkdCQSBpbnN0ZWFkLlxuICAgICAgICAgICAgaWYgKG51bUNvbXBvbmVudHMgPT09IDMgJiYgd3JpdGFibGUpIHtcbiAgICAgICAgICAgICAgICBnbE51bUNoYW5uZWxzID0gNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAoZ2xOdW1DaGFubmVscykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SRUQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SRztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBnbEZvcm1hdCA9IGdsLlJHQjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBnbEZvcm1hdCA9IGdsLlJHQkE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGdsTnVtQ2hhbm5lbHMgXCIgKyBnbE51bUNoYW5uZWxzICsgXCIgZm9yIERhdGFMYXllciBcIiArIG5hbWUgKyBcIi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdmbG9hdDMyJzpcbiAgICAgICAgICAgICAgICAgICAgZ2xUeXBlID0gZ2wuRkxPQVQ7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZ2xOdW1DaGFubmVscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SMzJGO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SRzMyRjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCMzJGO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBMzJGO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBnbE51bUNoYW5uZWxzIFwiICsgZ2xOdW1DaGFubmVscyArIFwiIGZvciBEYXRhTGF5ZXIgXCIgKyBuYW1lICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MTYnOlxuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBnbC5IQUxGX0ZMT0FUO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGdsTnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUjE2RjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkcxNkY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQjE2RjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTE2RjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZ2xOdW1DaGFubmVscyBcIiArIGdsTnVtQ2hhbm5lbHMgKyBcIiBmb3IgRGF0YUxheWVyIFwiICsgbmFtZSArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdpbnQ4JzpcbiAgICAgICAgICAgICAgICAgICAgZ2xUeXBlID0gZ2wuQllURTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChnbE51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlI4STtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkc4STtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCOEk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkE4STtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZ2xOdW1DaGFubmVscyBcIiArIGdsTnVtQ2hhbm5lbHMgKyBcIiBmb3IgRGF0YUxheWVyIFwiICsgbmFtZSArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICAgICAgICAgIGdsVHlwZSA9IGdsLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZ2xOdW1DaGFubmVscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkc4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGdsTnVtQ2hhbm5lbHMgXCIgKyBnbE51bUNoYW5uZWxzICsgXCIgZm9yIERhdGFMYXllciBcIiArIG5hbWUgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnaW50MTYnOlxuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBnbC5TSE9SVDtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChnbE51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlIxNkk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHMTZJO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0IxNkk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkExNkk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGdsTnVtQ2hhbm5lbHMgXCIgKyBnbE51bUNoYW5uZWxzICsgXCIgZm9yIERhdGFMYXllciBcIiArIG5hbWUgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICd1aW50MTYnOlxuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBnbC5VTlNJR05FRF9TSE9SVDtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChnbE51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlIxNlVJO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SRzE2VUk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQjE2VUk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkExNlVJO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBnbE51bUNoYW5uZWxzIFwiICsgZ2xOdW1DaGFubmVscyArIFwiIGZvciBEYXRhTGF5ZXIgXCIgKyBuYW1lICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ludDMyJzpcbiAgICAgICAgICAgICAgICAgICAgZ2xUeXBlID0gZ2wuSU5UO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGdsTnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUjMySTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkczMkk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQjMySTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTMySTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgZ2xOdW1DaGFubmVscyBcIiArIGdsTnVtQ2hhbm5lbHMgKyBcIiBmb3IgRGF0YUxheWVyIFwiICsgbmFtZSArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ3VpbnQzMic6XG4gICAgICAgICAgICAgICAgICAgIGdsVHlwZSA9IGdsLlVOU0lHTkVEX0lOVDtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChnbE51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlIzMlVJO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SRzMyVUk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQjMyVUk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkEzMlVJO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBnbE51bUNoYW5uZWxzIFwiICsgZ2xOdW1DaGFubmVscyArIFwiIGZvciBEYXRhTGF5ZXIgXCIgKyBuYW1lICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHR5cGUgXCIgKyB0eXBlICsgXCIgZm9yIERhdGFMYXllciBcIiArIG5hbWUgKyBcIi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG51bUNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBmb3IgcmVhZCBvbmx5IHRleHR1cmVzIGluIFdlYkdMIDEuMCwgd2UgY291bGQgdXNlIGdsLkFMUEhBIGFuZCBnbC5MVU1JTkFOQ0VfQUxQSEEgaGVyZS5cbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SR0I7XG4gICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0I7XG4gICAgICAgICAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHMgPSAzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkdCQTtcbiAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkE7XG4gICAgICAgICAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHMgPSA0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBudW1Db21wb25lbnRzIFwiICsgbnVtQ29tcG9uZW50cyArIFwiIGZvciBEYXRhTGF5ZXIgXCIgKyBuYW1lICsgXCIuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETzogaG93IHRvIHN1cHBvcnQgc2lnbmVkIGludHMsIG1heWJlIGNhc3QgYXMgZmxvYXRzIGluc3RlYWQ/XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdmbG9hdDMyJzpcbiAgICAgICAgICAgICAgICAgICAgZ2xUeXBlID0gZ2wuRkxPQVQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MTYnOlxuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBleHRlbnNpb25zXzEuZ2V0RXh0ZW5zaW9uKGdsLCBleHRlbnNpb25zXzEuT0VTX1RFWFRVUkVfSEFMRl9GTE9BVCwgZXJyb3JDYWxsYmFjaykuSEFMRl9GTE9BVF9PRVM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VpbnQ4JzpcbiAgICAgICAgICAgICAgICAgICAgZ2xUeXBlID0gZ2wuVU5TSUdORURfQllURTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gY2FzZSAnaW50OCc6XG4gICAgICAgICAgICAgICAgLy8gXHRnbFR5cGUgPSBnbC5CWVRFO1xuICAgICAgICAgICAgICAgIC8vIFx0YnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndWludDE2JzpcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uc18xLmdldEV4dGVuc2lvbihnbCwgZXh0ZW5zaW9uc18xLldFQkdMX0RFUFRIX1RFWFRVUkUsIGVycm9yQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBnbC5VTlNJR05FRF9TSE9SVDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gY2FzZSAnaW50MTYnOlxuICAgICAgICAgICAgICAgIC8vIFx0Z2xUeXBlID0gZ2wuU0hPUlQ7XG4gICAgICAgICAgICAgICAgLy8gXHRicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1aW50MzInOlxuICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zXzEuZ2V0RXh0ZW5zaW9uKGdsLCBleHRlbnNpb25zXzEuV0VCR0xfREVQVEhfVEVYVFVSRSwgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIGdsVHlwZSA9IGdsLlVOU0lHTkVEX0lOVDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gY2FzZSAnaW50MzInOlxuICAgICAgICAgICAgICAgIC8vIFx0Z2xUeXBlID0gZ2wuSU5UO1xuICAgICAgICAgICAgICAgIC8vIFx0YnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgdHlwZSBcIiArIHR5cGUgKyBcIiBmb3IgRGF0YUxheWVyIFwiICsgbmFtZSArIFwiLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBmb3IgbWlzc2luZyBwYXJhbXMuXG4gICAgICAgIGlmIChnbFR5cGUgPT09IHVuZGVmaW5lZCB8fCBnbEZvcm1hdCA9PT0gdW5kZWZpbmVkIHx8IGdsSW50ZXJuYWxGb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0eXBlOiBcIiArIHR5cGUgKyBcIiBvciBudW1Db21wb25lbnRzIFwiICsgbnVtQ29tcG9uZW50cyArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2xOdW1DaGFubmVscyA9PT0gdW5kZWZpbmVkIHx8IG51bUNvbXBvbmVudHMgPCAxIHx8IG51bUNvbXBvbmVudHMgPiA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG51bUNoYW5uZWxzOiBcIiArIG51bUNvbXBvbmVudHMgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdsRm9ybWF0OiBnbEZvcm1hdCxcbiAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQ6IGdsSW50ZXJuYWxGb3JtYXQsXG4gICAgICAgICAgICBnbFR5cGU6IGdsVHlwZSxcbiAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHM6IGdsTnVtQ2hhbm5lbHMsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBEYXRhTGF5ZXIucHJvdG90eXBlLmluaXRCdWZmZXJzID0gZnVuY3Rpb24gKF9kYXRhKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIG51bUJ1ZmZlcnMgPSBfYS5udW1CdWZmZXJzLCBnbCA9IF9hLmdsLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQsIGdsSW50ZXJuYWxGb3JtYXQgPSBfYS5nbEludGVybmFsRm9ybWF0LCBnbEZvcm1hdCA9IF9hLmdsRm9ybWF0LCBnbFR5cGUgPSBfYS5nbFR5cGUsIGZpbHRlciA9IF9hLmZpbHRlciwgd3JhcFMgPSBfYS53cmFwUywgd3JhcFQgPSBfYS53cmFwVCwgd3JpdGFibGUgPSBfYS53cml0YWJsZSwgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2s7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5jaGVja0RhdGFBcnJheShfZGF0YSk7XG4gICAgICAgIC8vIEluaXQgYSB0ZXh0dXJlIGZvciBlYWNoIGJ1ZmZlci5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1CdWZmZXJzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICAgICAgaWYgKCF0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIkNvdWxkIG5vdCBpbml0IHRleHR1cmUgZm9yIERhdGFMYXllciBcIiArIHRoaXMubmFtZSArIFwiOiBcIiArIGdsLmdldEVycm9yKCkgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICAgICAgICAvLyBUT0RPOiBhcmUgdGhlcmUgb3RoZXIgcGFyYW1zIHRvIGxvb2sgaW50bzpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvdGV4UGFyYW1ldGVyXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCB3cmFwUyk7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCB3cmFwVCk7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZmlsdGVyKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBmaWx0ZXIpO1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbEludGVybmFsRm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCAwLCBnbEZvcm1hdCwgZ2xUeXBlLCBkYXRhID8gZGF0YSA6IG51bGwpO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiB0ZXh0dXJlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh3cml0YWJsZSkge1xuICAgICAgICAgICAgICAgIC8vIEluaXQgYSBmcmFtZWJ1ZmZlciBmb3IgdGhpcyB0ZXh0dXJlIHNvIHdlIGNhbiB3cml0ZSB0byBpdC5cbiAgICAgICAgICAgICAgICB2YXIgZnJhbWVidWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgIGlmICghZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIkNvdWxkIG5vdCBpbml0IGZyYW1lYnVmZmVyIGZvciBEYXRhTGF5ZXIgXCIgKyB0aGlzLm5hbWUgKyBcIjogXCIgKyBnbC5nZXRFcnJvcigpICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvZnJhbWVidWZmZXJUZXh0dXJlMkRcbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRleHR1cmUsIDApO1xuICAgICAgICAgICAgICAgIHZhciBzdGF0dXNfMSA9IGdsLmNoZWNrRnJhbWVidWZmZXJTdGF0dXMoZ2wuRlJBTUVCVUZGRVIpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNfMSAhPSBnbC5GUkFNRUJVRkZFUl9DT01QTEVURSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiSW52YWxpZCBzdGF0dXMgZm9yIGZyYW1lYnVmZmVyIGZvciBEYXRhTGF5ZXIgXCIgKyB0aGlzLm5hbWUgKyBcIjogXCIgKyBzdGF0dXNfMSArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWRkIGZyYW1lYnVmZmVyLlxuICAgICAgICAgICAgICAgIGJ1ZmZlci5mcmFtZWJ1ZmZlciA9IGZyYW1lYnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2F2ZSB0aGlzIGJ1ZmZlciB0byB0aGUgbGlzdC5cbiAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVW5iaW5kLlxuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5nZXRDdXJyZW50U3RhdGVUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzW3RoaXMuYnVmZmVySW5kZXhdLnRleHR1cmU7XG4gICAgfTtcbiAgICBEYXRhTGF5ZXIucHJvdG90eXBlLmJpbmRPdXRwdXRCdWZmZXIgPSBmdW5jdGlvbiAoaW5jcmVtZW50QnVmZmVySW5kZXgpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgaWYgKGluY3JlbWVudEJ1ZmZlckluZGV4KSB7XG4gICAgICAgICAgICAvLyBJbmNyZW1lbnQgYnVmZmVySW5kZXguXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlckluZGV4ID0gKHRoaXMuYnVmZmVySW5kZXggKyAxKSAlIHRoaXMubnVtQnVmZmVycztcbiAgICAgICAgfVxuICAgICAgICB2YXIgZnJhbWVidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbdGhpcy5idWZmZXJJbmRleF0uZnJhbWVidWZmZXI7XG4gICAgICAgIGlmICghZnJhbWVidWZmZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRhdGFMYXllciBcIiArIHRoaXMubmFtZSArIFwiIGlzIG5vdCB3cml0YWJsZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlcik7XG4gICAgfTtcbiAgICBEYXRhTGF5ZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIChkaW1lbnNpb25zLCBkYXRhKSB7XG4gICAgICAgIGlmICghaXNOYU4oZGltZW5zaW9ucykpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRpbWVuc2lvbnMgXCIgKyBkaW1lbnNpb25zICsgXCIgZm9yIDJEIERhdGFMYXllciBcIiArIHRoaXMubmFtZSArIFwiLCBwbGVhc2Ugc3BlY2lmeSBhIHdpZHRoIGFuZCBoZWlnaHQgYXMgYW4gYXJyYXkuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBkaW1lbnNpb25zO1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5jYWxjV2lkdGhIZWlnaHQodGhpcy5sZW5ndGgpLCB3aWR0aCA9IF9hWzBdLCBoZWlnaHQgPSBfYVsxXTtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkaW1lbnNpb25zIFwiICsgZGltZW5zaW9ucyArIFwiIGZvciAxRCBEYXRhTGF5ZXIgXCIgKyB0aGlzLm5hbWUgKyBcIiwgcGxlYXNlIHNwZWNpZnkgYSBsZW5ndGggYXMgYSBudW1iZXIuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IGRpbWVuc2lvbnNbMF07XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGRpbWVuc2lvbnNbMV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0cm95QnVmZmVycygpO1xuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKGRhdGEpO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5nZXREaW1lbnNpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICB9O1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5nZXRMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIGdldExlbmd0aCgpIG9uIDJEIERhdGFMYXllciBcIiArIHRoaXMubmFtZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGg7XG4gICAgfTtcbiAgICBEYXRhTGF5ZXIucHJvdG90eXBlLmRlc3Ryb3lCdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBidWZmZXJzID0gX2EuYnVmZmVycztcbiAgICAgICAgYnVmZmVycy5mb3JFYWNoKGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgICAgIHZhciBmcmFtZWJ1ZmZlciA9IGJ1ZmZlci5mcmFtZWJ1ZmZlciwgdGV4dHVyZSA9IGJ1ZmZlci50ZXh0dXJlO1xuICAgICAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgIGlmIChmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGRlbGV0ZSBidWZmZXIudGV4dHVyZTtcbiAgICAgICAgICAgIGRlbGV0ZSBidWZmZXIuZnJhbWVidWZmZXI7XG4gICAgICAgIH0pO1xuICAgICAgICBidWZmZXJzLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICBEYXRhTGF5ZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveUJ1ZmZlcnMoKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBkZWxldGUgdGhpcy5nbDtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBkZWxldGUgdGhpcy5lcnJvckNhbGxiYWNrO1xuICAgIH07XG4gICAgcmV0dXJuIERhdGFMYXllcjtcbn0oKSk7XG5leHBvcnRzLkRhdGFMYXllciA9IERhdGFMYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURhdGFMYXllci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR0xDb21wdXRlID0gdm9pZCAwO1xudmFyIERlZmF1bHRWZXJ0ZXhTaGFkZXJfMSA9IHJlcXVpcmUoXCIuL2tlcm5lbHMvRGVmYXVsdFZlcnRleFNoYWRlclwiKTtcbnZhciBQYXNzVGhyb3VnaEZyYWdtZW50U2hhZGVyXzEgPSByZXF1aXJlKFwiLi9rZXJuZWxzL1Bhc3NUaHJvdWdoRnJhZ21lbnRTaGFkZXJcIik7XG52YXIgRGF0YUxheWVyXzEgPSByZXF1aXJlKFwiLi9EYXRhTGF5ZXJcIik7XG52YXIgR1BVUHJvZ3JhbV8xID0gcmVxdWlyZShcIi4vR1BVUHJvZ3JhbVwiKTtcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG52YXIgZnNRdWFkUG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheShbLTEsIC0xLCAxLCAtMSwgLTEsIDEsIDEsIDFdKTtcbnZhciBib3VuZGFyeVBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoWy0xLCAtMSwgMSwgLTEsIDEsIDEsIC0xLCAxXSk7XG52YXIgdW5pdENpcmNsZVBvaW50cyA9IFswLCAwXTtcbnZhciBOVU1fU0VHTUVOVFNfQ0lSQ0xFID0gMjA7XG5mb3IgKHZhciBpID0gMDsgaSA8PSBOVU1fU0VHTUVOVFNfQ0lSQ0xFOyBpKyspIHtcbiAgICB1bml0Q2lyY2xlUG9pbnRzLnB1c2goTWF0aC5jb3MoMiAqIE1hdGguUEkgKiBpIC8gTlVNX1NFR01FTlRTX0NJUkNMRSksIE1hdGguc2luKDIgKiBNYXRoLlBJICogaSAvIE5VTV9TRUdNRU5UU19DSVJDTEUpKTtcbn1cbnZhciBjaXJjbGVQb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KHVuaXRDaXJjbGVQb2ludHMpO1xudmFyIEdMQ29tcHV0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHTENvbXB1dGUoZ2wsIGNhbnZhc0VsLCBvcHRpb25zLCBcbiAgICAvLyBPcHRpb25hbGx5IHBhc3MgaW4gYW4gZXJyb3IgY2FsbGJhY2sgaW4gY2FzZSB3ZSB3YW50IHRvIGhhbmRsZSBlcnJvcnMgcmVsYXRlZCB0byB3ZWJnbCBzdXBwb3J0LlxuICAgIC8vIGUuZy4gdGhyb3cgdXAgYSBtb2RhbCB0ZWxsaW5nIHVzZXIgdGhpcyB3aWxsIG5vdCB3b3JrIG9uIHRoZWlyIGRldmljZS5cbiAgICBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChlcnJvckNhbGxiYWNrID09PSB2b2lkIDApIHsgZXJyb3JDYWxsYmFjayA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7IHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTsgfTsgfVxuICAgICAgICB0aGlzLmVycm9yU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgLy8gU2F2ZSBjYWxsYmFjayBpbiBjYXNlIHdlIHJ1biBpbnRvIGFuIGVycm9yLlxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjayA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5lcnJvclN0YXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5lcnJvclN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKVxuICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2sobWVzc2FnZSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEluaXQgR0wuXG4gICAgICAgIGlmICghZ2wpIHtcbiAgICAgICAgICAgIC8vIEluaXQgYSBnbCBjb250ZXh0IGlmIG5vdCBwYXNzZWQgaW4uXG4gICAgICAgICAgICBnbCA9IGNhbnZhc0VsLmdldENvbnRleHQoJ3dlYmdsMicsIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfHwgY2FudmFzRWwuZ2V0Q29udGV4dCgnd2ViZ2wnLCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIHx8IGNhbnZhc0VsLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKGdsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvckNhbGxiYWNrKCdVbmFibGUgdG8gaW5pdGlhbGl6ZSBXZWJHTCBjb250ZXh0LicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodXRpbHNfMS5pc1dlYkdMMihnbCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBXZWJHTCAyLjAgY29udGV4dC4nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBXZWJHTCAxLjAgY29udGV4dC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIC8vIEdMIHNldHVwLlxuICAgICAgICAvLyBEaXNhYmxlIGRlcHRoIHRlc3RpbmcgZ2xvYmFsbHkuXG4gICAgICAgIGdsLmRpc2FibGUoZ2wuREVQVEhfVEVTVCk7XG4gICAgICAgIC8vIFNldCB1bnBhY2sgYWxpZ25tZW50IHRvIDEgc28gd2UgY2FuIGhhdmUgdGV4dHVyZXMgb2YgYXJiaXRyYXJ5IGRpbWVuc2lvbnMuXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUxNTgyMjgyL2Vycm9yLXdoZW4tY3JlYXRpbmctdGV4dHVyZXMtaW4td2ViZ2wtd2l0aC10aGUtcmdiLWZvcm1hdFxuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfQUxJR05NRU5ULCAxKTtcbiAgICAgICAgLy8gVE9ETzogbG9vayBpbnRvIG1vcmUgb2YgdGhlc2U6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvcGl4ZWxTdG9yZWlcbiAgICAgICAgLy8gLy8gU29tZSBpbXBsZW1lbnRhdGlvbnMgb2YgSFRNTENhbnZhc0VsZW1lbnQncyBvciBPZmZzY3JlZW5DYW52YXMncyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgc3RvcmUgY29sb3IgdmFsdWVzXG4gICAgICAgIC8vIC8vIGludGVybmFsbHkgaW4gcHJlbXVsdGlwbGllZCBmb3JtLiBJZiBzdWNoIGEgY2FudmFzIGlzIHVwbG9hZGVkIHRvIGEgV2ViR0wgdGV4dHVyZSB3aXRoIHRoZVxuICAgICAgICAvLyAvLyBVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wgcGl4ZWwgc3RvcmFnZSBwYXJhbWV0ZXIgc2V0IHRvIGZhbHNlLCB0aGUgY29sb3IgY2hhbm5lbHMgd2lsbCBoYXZlIHRvIGJlIHVuLW11bHRpcGxpZWRcbiAgICAgICAgLy8gLy8gYnkgdGhlIGFscGhhIGNoYW5uZWwsIHdoaWNoIGlzIGEgbG9zc3kgb3BlcmF0aW9uLiBUaGUgV2ViR0wgaW1wbGVtZW50YXRpb24gdGhlcmVmb3JlIGNhbiBub3QgZ3VhcmFudGVlIHRoYXQgY29sb3JzXG4gICAgICAgIC8vIC8vIHdpdGggYWxwaGEgPCAxLjAgd2lsbCBiZSBwcmVzZXJ2ZWQgbG9zc2xlc3NseSB3aGVuIGZpcnN0IGRyYXduIHRvIGEgY2FudmFzIHZpYSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgYW5kIHRoZW5cbiAgICAgICAgLy8gLy8gdXBsb2FkZWQgdG8gYSBXZWJHTCB0ZXh0dXJlIHdoZW4gdGhlIFVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCBwaXhlbCBzdG9yYWdlIHBhcmFtZXRlciBpcyBzZXQgdG8gZmFsc2UuXG4gICAgICAgIC8vIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgdHJ1ZSk7XG4gICAgICAgIC8vIEluaXQgYSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgdGhhdCBqdXN0IHBhc3NlcyB0aHJvdWdoIHNjcmVlbiBjb29yZHMuXG4gICAgICAgIHZhciBkZWZhdWx0VmVydGV4U2hhZGVyID0gdXRpbHNfMS5jb21waWxlU2hhZGVyKGdsLCB0aGlzLmVycm9yQ2FsbGJhY2ssIERlZmF1bHRWZXJ0ZXhTaGFkZXJfMS5kZWZhdWx0LCBnbC5WRVJURVhfU0hBREVSKTtcbiAgICAgICAgaWYgKCFkZWZhdWx0VmVydGV4U2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yQ2FsbGJhY2soJ1VuYWJsZSB0byBpbml0aWFsaXplIGZ1bGxzY3JlZW4gcXVhZCB2ZXJ0ZXggc2hhZGVyLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVmYXVsdFZlcnRleFNoYWRlciA9IGRlZmF1bHRWZXJ0ZXhTaGFkZXI7XG4gICAgICAgIC8vIEluaXQgYSBwcm9ncmFtIHRvIHBhc3MgdmFsdWVzIGZyb20gb25lIHRleHR1cmUgdG8gYW5vdGhlci5cbiAgICAgICAgdGhpcy5wYXNzVGhyb3VnaFByb2dyYW0gPSB0aGlzLmluaXRQcm9ncmFtKCdwYXNzVGhyb3VnaCcsIFBhc3NUaHJvdWdoRnJhZ21lbnRTaGFkZXJfMS5kZWZhdWx0LCBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3Vfc3RhdGUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnSU5UJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0pO1xuICAgICAgICAvLyBDcmVhdGUgdmVydGV4IGJ1ZmZlcnMuXG4gICAgICAgIHRoaXMucXVhZFBvc2l0aW9uc0J1ZmZlciA9IHRoaXMuaW5pdFZlcnRleEJ1ZmZlcihmc1F1YWRQb3NpdGlvbnMpO1xuICAgICAgICB0aGlzLmJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyID0gdGhpcy5pbml0VmVydGV4QnVmZmVyKGJvdW5kYXJ5UG9zaXRpb25zKTtcbiAgICAgICAgdGhpcy5jaXJjbGVQb3NpdGlvbnNCdWZmZXIgPSB0aGlzLmluaXRWZXJ0ZXhCdWZmZXIoY2lyY2xlUG9zaXRpb25zKTtcbiAgICAgICAgLy8gVW5iaW5kIGFjdGl2ZSBidWZmZXIuXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgICAgICAgLy8gQ2FudmFzIHNldHVwLlxuICAgICAgICB0aGlzLm9uUmVzaXplKGNhbnZhc0VsKTtcbiAgICAgICAgLy8gTG9nIG51bWJlciBvZiB0ZXh0dXJlcyBhdmFpbGFibGUuXG4gICAgICAgIHZhciBtYXhUZXh0dXJlc0luRnJhZ21lbnRTaGFkZXIgPSB0aGlzLmdsLmdldFBhcmFtZXRlcih0aGlzLmdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKTtcbiAgICAgICAgY29uc29sZS5sb2cobWF4VGV4dHVyZXNJbkZyYWdtZW50U2hhZGVyICsgXCIgdGV4dHVyZXMgbWF4LlwiKTtcbiAgICB9XG4gICAgR0xDb21wdXRlLnByb3RvdHlwZS5pbml0VmVydGV4QnVmZmVyID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2ssIGdsID0gX2EuZ2w7XG4gICAgICAgIHZhciBidWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgaWYgKCFidWZmZXIpIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soJ1VuYWJsZSB0byBhbGxvY2F0ZSBnbCBidWZmZXIuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XG4gICAgICAgIC8vIEFkZCBidWZmZXIgZGF0YS5cbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGRhdGEsIGdsLlNUQVRJQ19EUkFXKTtcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuICAgIEdMQ29tcHV0ZS5wcm90b3R5cGUuaW5pdFByb2dyYW0gPSBmdW5jdGlvbiAobmFtZSwgZnJhZ21lbnRTaGFkZXJPclNvdXJjZSwgdW5pZm9ybXMsIHZlcnRleFNoYWRlck9yU291cmNlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrO1xuICAgICAgICByZXR1cm4gbmV3IEdQVVByb2dyYW1fMS5HUFVQcm9ncmFtKG5hbWUsIGdsLCBlcnJvckNhbGxiYWNrLCB2ZXJ0ZXhTaGFkZXJPclNvdXJjZSA/IHZlcnRleFNoYWRlck9yU291cmNlIDogdGhpcy5kZWZhdWx0VmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlck9yU291cmNlLCB1bmlmb3Jtcyk7XG4gICAgfTtcbiAgICA7XG4gICAgR0xDb21wdXRlLnByb3RvdHlwZS5pbml0RGF0YUxheWVyID0gZnVuY3Rpb24gKG5hbWUsIG9wdGlvbnMsIHdyaXRhYmxlLCBudW1CdWZmZXJzKSB7XG4gICAgICAgIGlmICh3cml0YWJsZSA9PT0gdm9pZCAwKSB7IHdyaXRhYmxlID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKG51bUJ1ZmZlcnMgPT09IHZvaWQgMCkgeyBudW1CdWZmZXJzID0gMTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaztcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhTGF5ZXJfMS5EYXRhTGF5ZXIobmFtZSwgZ2wsIG9wdGlvbnMsIGVycm9yQ2FsbGJhY2ssIHdyaXRhYmxlLCBudW1CdWZmZXJzKTtcbiAgICB9O1xuICAgIDtcbiAgICBHTENvbXB1dGUucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKGNhbnZhc0VsKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciB3aWR0aCA9IGNhbnZhc0VsLmNsaWVudFdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gY2FudmFzRWwuY2xpZW50SGVpZ2h0O1xuICAgICAgICAvLyBTZXQgY29ycmVjdCBjYW52YXMgcGl4ZWwgc2l6ZS5cbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMX0FQSS9CeV9leGFtcGxlL0NhbnZhc19zaXplX2FuZF9XZWJHTFxuICAgICAgICBjYW52YXNFbC53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXNFbC5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIC8vIFNhdmUgZGltZW5zaW9ucy5cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB9O1xuICAgIDtcbiAgICBHTENvbXB1dGUucHJvdG90eXBlLmRyYXdTZXR1cCA9IGZ1bmN0aW9uIChwcm9ncmFtLCBmdWxsc2NyZWVuUmVuZGVyLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgYXJlIGluIGFuIGVycm9yIHN0YXRlLlxuICAgICAgICBpZiAoIXByb2dyYW0ucHJvZ3JhbSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENBVVRJT046IHRoZSBvcmRlciBvZiB0aGVzZSBuZXh0IGZldyBsaW5lcyBpcyBpbXBvcnRhbnQuXG4gICAgICAgIC8vIEdldCBhIHNoYWxsb3cgY29weSBvZiBjdXJyZW50IHRleHR1cmVzLlxuICAgICAgICAvLyBUaGlzIGxpbmUgbXVzdCBjb21lIGJlZm9yZSB0aGlzLnNldE91dHB1dCgpIGFzIGl0IGRlcGVuZHMgb24gY3VycmVudCBpbnRlcm5hbCBzdGF0ZS5cbiAgICAgICAgdmFyIGlucHV0VGV4dHVyZXMgPSBpbnB1dExheWVycy5tYXAoZnVuY3Rpb24gKGxheWVyKSB7IHJldHVybiBsYXllci5nZXRDdXJyZW50U3RhdGVUZXh0dXJlKCk7IH0pO1xuICAgICAgICAvLyBTZXQgb3V0cHV0IGZyYW1lYnVmZmVyLlxuICAgICAgICAvLyBUaGlzIG1heSBtb2RpZnkgV2ViR0wgaW50ZXJuYWwgc3RhdGUuXG4gICAgICAgIHRoaXMuc2V0T3V0cHV0TGF5ZXIoZnVsbHNjcmVlblJlbmRlciwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKTtcbiAgICAgICAgLy8gU2V0IGN1cnJlbnQgcHJvZ3JhbS5cbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtLnByb2dyYW0pO1xuICAgICAgICAvLyBTZXQgaW5wdXQgdGV4dHVyZXMuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRUZXh0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXRUZXh0dXJlc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEdMQ29tcHV0ZS5wcm90b3R5cGUuc2V0T3V0cHV0TGF5ZXIgPSBmdW5jdGlvbiAoZnVsbHNjcmVlblJlbmRlciwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIHBhc3NUaHJvdWdoUHJvZ3JhbSA9IF9hLnBhc3NUaHJvdWdoUHJvZ3JhbTtcbiAgICAgICAgLy8gUmVuZGVyIHRvIHNjcmVlbi5cbiAgICAgICAgaWYgKCFvdXRwdXRMYXllcikge1xuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgICAgIC8vIFJlc2l6ZSB2aWV3cG9ydC5cbiAgICAgICAgICAgIHZhciBfYiA9IHRoaXMsIHdpZHRoXzEgPSBfYi53aWR0aCwgaGVpZ2h0XzEgPSBfYi5oZWlnaHQ7XG4gICAgICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCB3aWR0aF8xLCBoZWlnaHRfMSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgb3V0cHV0IGlzIHNhbWUgYXMgb25lIG9mIGlucHV0IGxheWVycy5cbiAgICAgICAgaWYgKGlucHV0TGF5ZXJzLmluZGV4T2Yob3V0cHV0TGF5ZXIpID4gLTEpIHtcbiAgICAgICAgICAgIGlmIChvdXRwdXRMYXllci5udW1CdWZmZXJzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXFxuQ2Fubm90IHVzZSBzYW1lIGJ1ZmZlciBmb3IgaW5wdXQgYW5kIG91dHB1dCBvZiBhIHByb2dyYW0uXFxuVHJ5IGluY3JlYXNpbmcgdGhlIG51bWJlciBvZiBidWZmZXJzIGluIHlvdXIgb3V0cHV0IGxheWVyIHRvIGF0IGxlYXN0IDIgc28geW91XFxuY2FuIHJlbmRlciB0byBuZXh0U3RhdGUgdXNpbmcgY3VycmVudFN0YXRlIGFzIGFuIGlucHV0LlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmdWxsc2NyZWVuUmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVuZGVyIGFuZCBpbmNyZW1lbnQgYnVmZmVyIHNvIHdlIGFyZSByZW5kZXJpbmcgdG8gYSBkaWZmZXJlbnQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgLy8gdGhhbiB0aGUgaW5wdXQgdGV4dHVyZS5cbiAgICAgICAgICAgICAgICBvdXRwdXRMYXllci5iaW5kT3V0cHV0QnVmZmVyKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUGFzcyBpbnB1dCB0ZXh0dXJlIHRocm91Z2ggdG8gb3V0cHV0LlxuICAgICAgICAgICAgICAgIHRoaXMuc3RlcChwYXNzVGhyb3VnaFByb2dyYW0sIFtvdXRwdXRMYXllcl0sIG91dHB1dExheWVyKTtcbiAgICAgICAgICAgICAgICAvLyBSZW5kZXIgdG8gb3V0cHV0IHdpdGhvdXQgaW5jcmVtZW50aW5nIGJ1ZmZlci5cbiAgICAgICAgICAgICAgICBvdXRwdXRMYXllci5iaW5kT3V0cHV0QnVmZmVyKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlbmRlciB0byBjdXJyZW50IGJ1ZmZlci5cbiAgICAgICAgICAgIG91dHB1dExheWVyLmJpbmRPdXRwdXRCdWZmZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlc2l6ZSB2aWV3cG9ydC5cbiAgICAgICAgdmFyIF9jID0gb3V0cHV0TGF5ZXIuZ2V0RGltZW5zaW9ucygpLCB3aWR0aCA9IF9jLndpZHRoLCBoZWlnaHQgPSBfYy5oZWlnaHQ7XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG4gICAgO1xuICAgIEdMQ29tcHV0ZS5wcm90b3R5cGUuc2V0UG9zaXRpb25BdHRyaWJ1dGUgPSBmdW5jdGlvbiAocHJvZ3JhbSkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICAvLyBQb2ludCBhdHRyaWJ1dGUgdG8gdGhlIGN1cnJlbnRseSBib3VuZCBWQk8uXG4gICAgICAgIHZhciBsb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0ucHJvZ3JhbSwgJ2FQb3NpdGlvbicpO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGxvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICAvLyBFbmFibGUgdGhlIGF0dHJpYnV0ZS5cbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb24pO1xuICAgIH07XG4gICAgR0xDb21wdXRlLnByb3RvdHlwZS5zZXRJbmRleEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChwcm9ncmFtKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIC8vIFBvaW50IGF0dHJpYnV0ZSB0byB0aGUgY3VycmVudGx5IGJvdW5kIFZCTy5cbiAgICAgICAgdmFyIGxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbS5wcm9ncmFtLCAnYUluZGV4Jyk7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIobG9jYXRpb24sIDEsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIC8vIEVuYWJsZSB0aGUgYXR0cmlidXRlLlxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShsb2NhdGlvbik7XG4gICAgfTtcbiAgICAvLyBTdGVwIGZvciBlbnRpcmUgZnVsbHNjcmVlbiBxdWFkLlxuICAgIEdMQ29tcHV0ZS5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uIChwcm9ncmFtLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIsIC8vIFVuZGVmaW5lZCByZW5kZXJzIHRvIHNjcmVlbi5cbiAgICBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpbnB1dExheWVycyA9PT0gdm9pZCAwKSB7IGlucHV0TGF5ZXJzID0gW107IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JTdGF0ZSA9IF9hLmVycm9yU3RhdGUsIHF1YWRQb3NpdGlvbnNCdWZmZXIgPSBfYS5xdWFkUG9zaXRpb25zQnVmZmVyO1xuICAgICAgICAvLyBJZ25vcmUgaWYgd2UgYXJlIGluIGVycm9yIHN0YXRlLlxuICAgICAgICBpZiAoZXJyb3JTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvIHNldHVwIC0gdGhpcyBtdXN0IGNvbWUgZmlyc3QuXG4gICAgICAgIHRoaXMuZHJhd1NldHVwKHByb2dyYW0sIHRydWUsIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcik7XG4gICAgICAgIC8vIFVwZGF0ZSB1bmlmb3JtcyBhbmQgYnVmZmVycy5cbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3NjYWxlJywgWzEsIDFdLCAnRkxPQVQnKTtcbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3RyYW5zbGF0aW9uJywgWzAsIDBdLCAnRkxPQVQnKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHF1YWRQb3NpdGlvbnNCdWZmZXIpO1xuICAgICAgICB0aGlzLnNldFBvc2l0aW9uQXR0cmlidXRlKHByb2dyYW0pO1xuICAgICAgICAvLyBEcmF3LlxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNob3VsZEJsZW5kQWxwaGEpIHtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcbiAgICAgICAgfVxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICAgICAgZ2wuZGlzYWJsZShnbC5CTEVORCk7XG4gICAgfTtcbiAgICAvLyBTdGVwIHByb2dyYW0gb25seSBmb3IgYSBzdHJpcCBvZiBweCBhbG9uZyB0aGUgYm91bmRhcnkuXG4gICAgR0xDb21wdXRlLnByb3RvdHlwZS5zdGVwQm91bmRhcnkgPSBmdW5jdGlvbiAocHJvZ3JhbSwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyLCAvLyBVbmRlZmluZWQgcmVuZGVycyB0byBzY3JlZW4uXG4gICAgb3B0aW9ucykge1xuICAgICAgICBpZiAoaW5wdXRMYXllcnMgPT09IHZvaWQgMCkgeyBpbnB1dExheWVycyA9IFtdOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yU3RhdGUgPSBfYS5lcnJvclN0YXRlLCBib3VuZGFyeVBvc2l0aW9uc0J1ZmZlciA9IF9hLmJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyO1xuICAgICAgICAvLyBJZ25vcmUgaWYgd2UgYXJlIGluIGVycm9yIHN0YXRlLlxuICAgICAgICBpZiAoZXJyb3JTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvIHNldHVwIC0gdGhpcyBtdXN0IGNvbWUgZmlyc3QuXG4gICAgICAgIHRoaXMuZHJhd1NldHVwKHByb2dyYW0sIGZhbHNlLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpO1xuICAgICAgICAvLyBVcGRhdGUgdW5pZm9ybXMgYW5kIGJ1ZmZlcnMuXG4gICAgICAgIC8vIEZyYW1lIG5lZWRzIHRvIGJlIG9mZnNldCBhbmQgc2NhbGVkIHNvIHRoYXQgYWxsIGZvdXIgc2lkZXMgYXJlIGluIHZpZXdwb3J0LlxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHZhciBfYiA9IG91dHB1dExheWVyID8gb3V0cHV0TGF5ZXIuZ2V0RGltZW5zaW9ucygpIDogdGhpcywgd2lkdGggPSBfYi53aWR0aCwgaGVpZ2h0ID0gX2IuaGVpZ2h0O1xuICAgICAgICB2YXIgb25lUHggPSBbMSAvIHdpZHRoLCAxIC8gaGVpZ2h0XTtcbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3NjYWxlJywgWzEgLSBvbmVQeFswXSwgMSAtIG9uZVB4WzFdXSwgJ0ZMT0FUJyk7XG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV90cmFuc2xhdGlvbicsIG9uZVB4LCAnRkxPQVQnKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyKTtcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbkF0dHJpYnV0ZShwcm9ncmFtKTtcbiAgICAgICAgLy8gRHJhdy5cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5zaG91bGRCbGVuZEFscGhhKSB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5MSU5FX0xPT1AsIDAsIDQpO1xuICAgICAgICBnbC5kaXNhYmxlKGdsLkJMRU5EKTtcbiAgICB9O1xuICAgIC8vIFN0ZXAgcHJvZ3JhbSBmb3IgYWxsIGJ1dCBhIHN0cmlwIG9mIHB4IGFsb25nIHRoZSBib3VuZGFyeS5cbiAgICBHTENvbXB1dGUucHJvdG90eXBlLnN0ZXBOb25Cb3VuZGFyeSA9IGZ1bmN0aW9uIChwcm9ncmFtLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIsIC8vIFVuZGVmaW5lZCByZW5kZXJzIHRvIHNjcmVlbi5cbiAgICBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpbnB1dExheWVycyA9PT0gdm9pZCAwKSB7IGlucHV0TGF5ZXJzID0gW107IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JTdGF0ZSA9IF9hLmVycm9yU3RhdGUsIHF1YWRQb3NpdGlvbnNCdWZmZXIgPSBfYS5xdWFkUG9zaXRpb25zQnVmZmVyO1xuICAgICAgICAvLyBJZ25vcmUgaWYgd2UgYXJlIGluIGVycm9yIHN0YXRlLlxuICAgICAgICBpZiAoZXJyb3JTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvIHNldHVwIC0gdGhpcyBtdXN0IGNvbWUgZmlyc3QuXG4gICAgICAgIHRoaXMuZHJhd1NldHVwKHByb2dyYW0sIGZhbHNlLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpO1xuICAgICAgICAvLyBVcGRhdGUgdW5pZm9ybXMgYW5kIGJ1ZmZlcnMuXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdmFyIF9iID0gb3V0cHV0TGF5ZXIgPyBvdXRwdXRMYXllci5nZXREaW1lbnNpb25zKCkgOiB0aGlzLCB3aWR0aCA9IF9iLndpZHRoLCBoZWlnaHQgPSBfYi5oZWlnaHQ7XG4gICAgICAgIHZhciBvbmVQeCA9IFsxIC8gd2lkdGgsIDEgLyBoZWlnaHRdO1xuICAgICAgICBwcm9ncmFtLnNldFVuaWZvcm0oJ3Vfc2NhbGUnLCBbMSAtIDIgKiBvbmVQeFswXSwgMSAtIDIgKiBvbmVQeFsxXV0sICdGTE9BVCcpO1xuICAgICAgICBwcm9ncmFtLnNldFVuaWZvcm0oJ3VfdHJhbnNsYXRpb24nLCBvbmVQeCwgJ0ZMT0FUJyk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBxdWFkUG9zaXRpb25zQnVmZmVyKTtcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbkF0dHJpYnV0ZShwcm9ncmFtKTtcbiAgICAgICAgLy8gRHJhdy5cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5zaG91bGRCbGVuZEFscGhhKSB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgICAgIGdsLmRpc2FibGUoZ2wuQkxFTkQpO1xuICAgIH07XG4gICAgLy8gU3RlcCBwcm9ncmFtIG9ubHkgZm9yIGEgY2lyY3VsYXIgc3BvdC5cbiAgICBHTENvbXB1dGUucHJvdG90eXBlLnN0ZXBDaXJjbGUgPSBmdW5jdGlvbiAocHJvZ3JhbSwgcG9zaXRpb24sIC8vIHBvc2l0aW9uIGlzIGluIHNjcmVlbiBzcGFjZSBjb29yZHMuXG4gICAgcmFkaXVzLCAvLyByYWRpdXMgaXMgaW4gcHguXG4gICAgaW5wdXRMYXllcnMsIG91dHB1dExheWVyLCAvLyBVbmRlZmluZWQgcmVuZGVycyB0byBzY3JlZW4uXG4gICAgb3B0aW9ucykge1xuICAgICAgICBpZiAoaW5wdXRMYXllcnMgPT09IHZvaWQgMCkgeyBpbnB1dExheWVycyA9IFtdOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yU3RhdGUgPSBfYS5lcnJvclN0YXRlLCBjaXJjbGVQb3NpdGlvbnNCdWZmZXIgPSBfYS5jaXJjbGVQb3NpdGlvbnNCdWZmZXIsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgLy8gSWdub3JlIGlmIHdlIGFyZSBpbiBlcnJvciBzdGF0ZS5cbiAgICAgICAgaWYgKGVycm9yU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyBzZXR1cCAtIHRoaXMgbXVzdCBjb21lIGZpcnN0LlxuICAgICAgICB0aGlzLmRyYXdTZXR1cChwcm9ncmFtLCBmYWxzZSwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKTtcbiAgICAgICAgLy8gVXBkYXRlIHVuaWZvcm1zIGFuZCBidWZmZXJzLlxuICAgICAgICBwcm9ncmFtLnNldFVuaWZvcm0oJ3Vfc2NhbGUnLCBbcmFkaXVzIC8gd2lkdGgsIHJhZGl1cyAvIGhlaWdodF0sICdGTE9BVCcpO1xuICAgICAgICBwcm9ncmFtLnNldFVuaWZvcm0oJ3VfdHJhbnNsYXRpb24nLCBbMiAqIHBvc2l0aW9uWzBdIC8gd2lkdGggLSAxLCAyICogcG9zaXRpb25bMV0gLyBoZWlnaHQgLSAxXSwgJ0ZMT0FUJyk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBjaXJjbGVQb3NpdGlvbnNCdWZmZXIpO1xuICAgICAgICB0aGlzLnNldFBvc2l0aW9uQXR0cmlidXRlKHByb2dyYW0pO1xuICAgICAgICAvLyBEcmF3LlxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNob3VsZEJsZW5kQWxwaGEpIHtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcbiAgICAgICAgfVxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX0ZBTiwgMCwgTlVNX1NFR01FTlRTX0NJUkNMRSArIDIpO1xuICAgICAgICBnbC5kaXNhYmxlKGdsLkJMRU5EKTtcbiAgICB9O1xuICAgIEdMQ29tcHV0ZS5wcm90b3R5cGUuZHJhd1BvaW50cyA9IGZ1bmN0aW9uIChwcm9ncmFtLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JTdGF0ZSA9IF9hLmVycm9yU3RhdGUsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodCwgcG9pbnRJbmRleEFycmF5ID0gX2EucG9pbnRJbmRleEFycmF5O1xuICAgICAgICAvLyBJZ25vcmUgaWYgd2UgYXJlIGluIGVycm9yIHN0YXRlLlxuICAgICAgICBpZiAoZXJyb3JTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dExheWVycy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0TGF5ZXJzIGZvciBkcmF3UG9pbnRzIG9uIFwiICsgcHJvZ3JhbS5uYW1lICsgXCI6IG11c3QgcGFzcyBhIHBvc2l0aW9uRGF0YUxheWVyIGFzIGZpcnN0IGVsZW1lbnQgb2YgaW5wdXRMYXllcnMuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwb3NpdGlvbkxheWVyID0gaW5wdXRMYXllcnNbMF07XG4gICAgICAgIC8vIENoZWNrIHRoYXQgbnVtUG9pbnRzIGlzIHZhbGlkLlxuICAgICAgICB2YXIgbGVuZ3RoID0gcG9zaXRpb25MYXllci5nZXRMZW5ndGgoKTtcbiAgICAgICAgdmFyIG51bVBvaW50cyA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubnVtUG9pbnRzKSB8fCBsZW5ndGg7XG4gICAgICAgIGlmIChudW1Qb2ludHMgPiBsZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbnVtUG9pbnQgXCIgKyBudW1Qb2ludHMgKyBcIiBmb3IgcG9zaXRpb25EYXRhTGF5ZXIgb2YgbGVuZ3RoIFwiICsgbGVuZ3RoICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCBkZWZhdWx0IHBvaW50U2l6ZS5cbiAgICAgICAgdmFyIHBvaW50U2l6ZSA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucG9pbnRTaXplKSB8fCAxO1xuICAgICAgICAvLyBEbyBzZXR1cCAtIHRoaXMgbXVzdCBjb21lIGZpcnN0LlxuICAgICAgICB0aGlzLmRyYXdTZXR1cChwcm9ncmFtLCBmYWxzZSwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKTtcbiAgICAgICAgLy8gVXBkYXRlIHVuaWZvcm1zIGFuZCBidWZmZXJzLlxuICAgICAgICBwcm9ncmFtLnNldFVuaWZvcm0oJ3Vfc2NhbGUnLCBbMSAvIHdpZHRoLCAxIC8gaGVpZ2h0XSwgJ0ZMT0FUJyk7XG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV9wb2ludFNpemUnLCBwb2ludFNpemUsICdGTE9BVCcpO1xuICAgICAgICB2YXIgcG9zaXRpb25MYXllckRpbWVuc2lvbnMgPSBwb3NpdGlvbkxheWVyLmdldERpbWVuc2lvbnMoKTtcbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3Bvc2l0aW9uRGltZW5zaW9ucycsIFtwb3NpdGlvbkxheWVyRGltZW5zaW9ucy53aWR0aCwgcG9zaXRpb25MYXllckRpbWVuc2lvbnMuaGVpZ2h0XSwgJ0ZMT0FUJyk7XG4gICAgICAgIGlmICh0aGlzLnBvaW50SW5kZXhCdWZmZXIgPT09IHVuZGVmaW5lZCB8fCAocG9pbnRJbmRleEFycmF5ICYmIHBvaW50SW5kZXhBcnJheS5sZW5ndGggPCBudW1Qb2ludHMpKSB7XG4gICAgICAgICAgICAvLyBIYXZlIHRvIHVzZSBmbG9hdDMyIGFycmF5IGJjIGludCBpcyBub3Qgc3VwcG9ydGVkIGFzIGEgdmVydGV4IGF0dHJpYnV0ZSB0eXBlLlxuICAgICAgICAgICAgdmFyIGluZGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KGxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaW5kaWNlc1tpXSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBvaW50SW5kZXhBcnJheSA9IGluZGljZXM7XG4gICAgICAgICAgICB0aGlzLnBvaW50SW5kZXhCdWZmZXIgPSB0aGlzLmluaXRWZXJ0ZXhCdWZmZXIoaW5kaWNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMucG9pbnRJbmRleEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuc2V0SW5kZXhBdHRyaWJ1dGUocHJvZ3JhbSk7XG4gICAgICAgIC8vIERyYXcuXG4gICAgICAgIC8vIERlZmF1bHQgdG8gYmxlbmQgPT09IHRydWUuXG4gICAgICAgIHZhciBzaG91bGRCbGVuZEFscGhhID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5zaG91bGRCbGVuZEFscGhhKSA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWU7XG4gICAgICAgIGlmIChzaG91bGRCbGVuZEFscGhhKSB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5QT0lOVFMsIDAsIG51bVBvaW50cyk7XG4gICAgICAgIGdsLmRpc2FibGUoZ2wuQkxFTkQpO1xuICAgIH07XG4gICAgLy8gcmVhZHlUb1JlYWQoKSB7XG4gICAgLy8gXHRjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIC8vICAgICByZXR1cm4gZ2wuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhnbC5GUkFNRUJVRkZFUikgPT0gZ2wuRlJBTUVCVUZGRVJfQ09NUExFVEU7XG4gICAgLy8gfTtcbiAgICAvLyByZWFkUGl4ZWxzKHhNaW46IG51bWJlciwgeU1pbjogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgYXJyYXk6IFRleHR1cmVEYXRhVHlwZSkge1xuICAgIC8vIFx0Y29uc3QgeyBnbCB9ID0gdGhpcztcbiAgICAvLyBcdGdsLnJlYWRQaXhlbHMoeE1pbiwgeU1pbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgYXJyYXkpO1xuICAgIC8vIH07XG4gICAgR0xDb21wdXRlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIDtcbiAgICBHTENvbXB1dGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE86IE5lZWQgdG8gaW1wbGVtZW50IHRoaXMuXG4gICAgfTtcbiAgICByZXR1cm4gR0xDb21wdXRlO1xufSgpKTtcbmV4cG9ydHMuR0xDb21wdXRlID0gR0xDb21wdXRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R0xDb21wdXRlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5HUFVQcm9ncmFtID0gdm9pZCAwO1xudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbi8vIFVuaWZvcm0gdHlwZXMuXG52YXIgRkxPQVRfMURfVU5JRk9STSA9ICcxZic7XG52YXIgRkxPQVRfMkRfVU5JRk9STSA9ICcyZic7XG52YXIgRkxPQVRfM0RfVU5JRk9STSA9ICczZic7XG52YXIgRkxPQVRfNERfVU5JRk9STSA9ICczZic7XG52YXIgSU5UXzFEX1VOSUZPUk0gPSAnMWknO1xudmFyIElOVF8yRF9VTklGT1JNID0gJzJpJztcbnZhciBJTlRfM0RfVU5JRk9STSA9ICczaSc7XG52YXIgSU5UXzREX1VOSUZPUk0gPSAnM2knO1xudmFyIEdQVVByb2dyYW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR1BVUHJvZ3JhbShuYW1lLCBnbCwgZXJyb3JDYWxsYmFjaywgdmVydGV4U2hhZGVyT3JTb3VyY2UsIGZyYWdtZW50U2hhZGVyT3JTb3VyY2UsIHVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMudW5pZm9ybXMgPSB7fTtcbiAgICAgICAgdGhpcy5zaGFkZXJzID0gW107IC8vIFNhdmUgcmVmIHRvIHNoYWRlcnMgc28gd2UgY2FuIGRlYWxsb2NhdGUuXG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZU5hbWVzID0gW107XG4gICAgICAgIC8vIFNhdmUgcGFyYW1zLlxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjayA9IGVycm9yQ2FsbGJhY2s7XG4gICAgICAgIC8vIENyZWF0ZSBhIHByb2dyYW0uXG4gICAgICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgICAgICBpZiAoIXByb2dyYW0pIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJVbmFibGUgdG8gaW5pdCBnbCBwcm9ncmFtOiBcIiArIG5hbWUgKyBcIi5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29tcGlsZSBzaGFkZXJzLlxuICAgICAgICBpZiAodHlwZW9mIChmcmFnbWVudFNoYWRlck9yU291cmNlKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciBmcmFnbWVudFNoYWRlciA9IHV0aWxzXzEuY29tcGlsZVNoYWRlcihnbCwgZXJyb3JDYWxsYmFjaywgZnJhZ21lbnRTaGFkZXJPclNvdXJjZSwgZ2wuRlJBR01FTlRfU0hBREVSLCBuYW1lKTtcbiAgICAgICAgICAgIGlmICghZnJhZ21lbnRTaGFkZXIpIHtcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiVW5hYmxlIHRvIGNvbXBpbGUgZnJhZ21lbnQgc2hhZGVyIGZvciBwcm9ncmFtIFwiICsgbmFtZSArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNoYWRlcnMucHVzaChmcmFnbWVudFNoYWRlcik7XG4gICAgICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyT3JTb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgKHZlcnRleFNoYWRlck9yU291cmNlKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhTaGFkZXIgPSB1dGlsc18xLmNvbXBpbGVTaGFkZXIoZ2wsIGVycm9yQ2FsbGJhY2ssIHZlcnRleFNoYWRlck9yU291cmNlLCBnbC5WRVJURVhfU0hBREVSLCBuYW1lKTtcbiAgICAgICAgICAgIGlmICghdmVydGV4U2hhZGVyKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIlVuYWJsZSB0byBjb21waWxlIHZlcnRleCBzaGFkZXIgZm9yIHByb2dyYW0gXCIgKyBuYW1lICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2hhZGVycy5wdXNoKHZlcnRleFNoYWRlcik7XG4gICAgICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXJPclNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTGluayB0aGUgcHJvZ3JhbS5cbiAgICAgICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIC8vIENoZWNrIGlmIGl0IGxpbmtlZC5cbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKTtcbiAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAvLyBTb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIHRoZSBsaW5rLlxuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIlByb2dyYW0gXCIgKyBuYW1lICsgXCIgZmFpbGVkIHRvIGxpbms6IFwiICsgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByb2dyYW0gaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGluaXRlZC5cbiAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgdW5pZm9ybXMgPT09IG51bGwgfHwgdW5pZm9ybXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVuaWZvcm1zLmZvckVhY2goZnVuY3Rpb24gKHVuaWZvcm0pIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gdW5pZm9ybS5uYW1lLCB2YWx1ZSA9IHVuaWZvcm0udmFsdWUsIGRhdGFUeXBlID0gdW5pZm9ybS5kYXRhVHlwZTtcbiAgICAgICAgICAgIF90aGlzLnNldFVuaWZvcm0obmFtZSwgdmFsdWUsIGRhdGFUeXBlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIEdQVVByb2dyYW0ucHJvdG90eXBlLnVuaWZvcm1UeXBlRm9yVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIGRhdGFUeXBlKSB7XG4gICAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ0ZMT0FUJykge1xuICAgICAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FUXzFEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FUXzJEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FUXzNEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FUXzREX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVuaWZvcm0gdmFsdWU6IFwiICsgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGFUeXBlID09PSAnSU5UJykge1xuICAgICAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVF8xRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBJTlRfMkRfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5UXzNEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVF80RF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1bmlmb3JtIHZhbHVlOiBcIiArIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdW5pZm9ybSBkYXRhIHR5cGU6IFwiICsgZGF0YVR5cGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBHUFVQcm9ncmFtLnByb3RvdHlwZS5zZXRVbmlmb3JtID0gZnVuY3Rpb24gKHVuaWZvcm1OYW1lLCB2YWx1ZSwgZGF0YVR5cGUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2ssIHByb2dyYW0gPSBfYS5wcm9ncmFtLCB1bmlmb3JtcyA9IF9hLnVuaWZvcm1zO1xuICAgICAgICBpZiAoIXByb2dyYW0pIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJQcm9ncmFtIG5vdCBpbml0ZWQuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCBhY3RpdmUgcHJvZ3JhbS5cbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgdmFyIHR5cGUgPSB0aGlzLnVuaWZvcm1UeXBlRm9yVmFsdWUodmFsdWUsIGRhdGFUeXBlKTtcbiAgICAgICAgaWYgKCF1bmlmb3Jtc1t1bmlmb3JtTmFtZV0pIHtcbiAgICAgICAgICAgIC8vIEluaXQgdW5pZm9ybSBpZiBuZWVkZWQuXG4gICAgICAgICAgICB2YXIgbG9jYXRpb25fMSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCB1bmlmb3JtTmFtZSk7XG4gICAgICAgICAgICBpZiAoIWxvY2F0aW9uXzEpIHtcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiQ291bGQgbm90IGluaXQgdW5pZm9ybSBcIiArIHVuaWZvcm1OYW1lICsgXCIuXFxuQ2hlY2sgdGhhdCB1bmlmb3JtIGlzIHByZXNlbnQgaW4gc2hhZGVyIGNvZGUsIHVudXNlZCB1bmlmb3JtcyBtYXkgYmUgcmVtb3ZlZCBieSBjb21waWxlci5cXG5BbHNvIGNoZWNrIHRoYXQgdW5pZm9ybSB0eXBlIGluIHNoYWRlciBjb2RlIG1hdGNoZXMgdHlwZSBcIiArIHR5cGUgKyBcIi5cXG5FcnJvciBjb2RlOiBcIiArIGdsLmdldEVycm9yKCkgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdW5pZm9ybXNbdW5pZm9ybU5hbWVdID0ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbl8xLFxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciB1bmlmb3JtID0gdW5pZm9ybXNbdW5pZm9ybU5hbWVdO1xuICAgICAgICAvLyBDaGVjayB0aGF0IHR5cGVzIG1hdGNoIHByZXZpb3VzbHkgc2V0IHVuaWZvcm0uXG4gICAgICAgIGlmICh1bmlmb3JtLnR5cGUgIT0gdHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5pZm9ybSBcIiArIHVuaWZvcm1OYW1lICsgXCIgY2Fubm90IGNoYW5nZSBmcm9tIHR5cGUgXCIgKyB1bmlmb3JtLnR5cGUgKyBcIiB0byB0eXBlIFwiICsgdHlwZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9jYXRpb24gPSB1bmlmb3JtLmxvY2F0aW9uO1xuICAgICAgICAvLyBTZXQgdW5pZm9ybS5cbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMUmVuZGVyaW5nQ29udGV4dC91bmlmb3JtXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBGTE9BVF8xRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGTE9BVF8yRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRkxPQVRfM0RfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2Z2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEZMT0FUXzREX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBJTlRfMURfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgSU5UXzJEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBJTlRfM0RfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIElOVF80RF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00aXYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB1bmlmb3JtIHR5cGU6IFwiICsgdHlwZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgO1xuICAgIEdQVVByb2dyYW0ucHJvdG90eXBlLnNldFZlcnRleEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lLCBkYXRhVHlwZSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaywgcHJvZ3JhbSA9IF9hLnByb2dyYW0sIGF0dHJpYnV0ZXMgPSBfYS5hdHRyaWJ1dGVzLCBhdHRyaWJ1dGVOYW1lcyA9IF9hLmF0dHJpYnV0ZU5hbWVzO1xuICAgICAgICBpZiAoIXByb2dyYW0pIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJQcm9ncmFtIG5vdCBpbml0ZWQuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdXRpbHNfMS5pc1dlYkdMMihnbCkpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IHByb3ZpZGUgYSBmYWxsYmFjayBoZXJlLlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdXN0IHVzZSBhIHdlYmdsMiBjb250ZXh0IGZvciB0cmFuc2Zvcm0gZmVlZGJhY2suJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IGFjdGl2ZSBwcm9ncmFtLlxuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0pIHtcbiAgICAgICAgICAgIC8vIEluaXQgdW5pZm9ybSBpZiBuZWVkZWQuXG4gICAgICAgICAgICB2YXIgbG9jYXRpb25fMiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgaWYgKCFsb2NhdGlvbl8yKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIkNvdWxkIG5vdCBpbml0IHZlcnRleEF0dHJpYnV0ZSBcIiArIGF0dHJpYnV0ZU5hbWUgKyBcIi5cXG5FcnJvciBjb2RlOiBcIiArIGdsLmdldEVycm9yKCkgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25fMixcbiAgICAgICAgICAgICAgICB0eXBlOiBkYXRhVHlwZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lcy5wdXNoKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xuICAgICAgICAvLyBDaGVjayB0aGF0IHR5cGVzIG1hdGNoIHByZXZpb3VzbHkgc2V0IHVuaWZvcm0uXG4gICAgICAgIGlmIChhdHRyaWJ1dGUudHlwZSAhPSBkYXRhVHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmVydGV4IGF0dHJpYnV0ZSBcIiArIGF0dHJpYnV0ZU5hbWUgKyBcIiBjYW5ub3QgY2hhbmdlIGZyb20gdHlwZSBcIiArIGF0dHJpYnV0ZS50eXBlICsgXCIgdG8gdHlwZSBcIiArIGRhdGFUeXBlICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBHUFVQcm9ncmFtLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVMb2NhdGlvbiA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBhdHRyaWJ1dGVzID0gX2EuYXR0cmlidXRlcywgYXR0cmlidXRlTmFtZXMgPSBfYS5hdHRyaWJ1dGVOYW1lcywgbmFtZSA9IF9hLm5hbWU7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZXNbaW5kZXhdO1xuICAgICAgICBpZiAoIWF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXR0cmlidXRlIGluZGV4IFwiICsgaW5kZXggKyBcIiBmb3IgcHJvZ3JhbSBcIiArIG5hbWUgKyBcIiwgY3VycmVudCBhdHRyaWJ1dGVzOiBcIiArIGF0dHJpYnV0ZU5hbWVzLmpvaW4oJywgJykgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV07XG4gICAgICAgIGlmICghYXR0cmlidXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGF0dHJpYnV0ZSBcIiArIGF0dHJpYnV0ZU5hbWUgKyBcIiBmb3IgcHJvZ3JhbSBcIiArIG5hbWUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZS5sb2NhdGlvbjtcbiAgICB9O1xuICAgIEdQVVByb2dyYW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIHByb2dyYW0gPSBfYS5wcm9ncmFtLCBzaGFkZXJzID0gX2Euc2hhZGVycztcbiAgICAgICAgaWYgKHByb2dyYW0pXG4gICAgICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICAvLyBVbmJpbmQgYWxsIGRhdGEgYmVmb3JlIGRlbGV0aW5nLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNoYWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIEZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMUmVuZGVyaW5nQ29udGV4dC9kZWxldGVTaGFkZXJcbiAgICAgICAgICAgIC8vIFRoaXMgbWV0aG9kIGhhcyBubyBlZmZlY3QgaWYgdGhlIHNoYWRlciBoYXMgYWxyZWFkeSBiZWVuIGRlbGV0ZWRcbiAgICAgICAgICAgIGdsLmRlbGV0ZVNoYWRlcihzaGFkZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzaGFkZXJzLmxlbmd0aCA9IDA7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZGVsZXRlIHRoaXMuZ2w7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZGVsZXRlIHRoaXMuZXJyb3JDYWxsYmFjaztcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBkZWxldGUgdGhpcy5wcm9ncmFtO1xuICAgIH07XG4gICAgcmV0dXJuIEdQVVByb2dyYW07XG59KCkpO1xuZXhwb3J0cy5HUFVQcm9ncmFtID0gR1BVUHJvZ3JhbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdQVVByb2dyYW0uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldEV4dGVuc2lvbiA9IGV4cG9ydHMuRVhUX0NPTE9SX0JVRkZFUl9GTE9BVCA9IGV4cG9ydHMuV0VCR0xfREVQVEhfVEVYVFVSRSA9IGV4cG9ydHMuT0VTX1RFWFRVUkVfSEFsRl9GTE9BVF9MSU5FQVIgPSBleHBvcnRzLk9FU19URVhUVVJFX0ZMT0FUX0xJTkVBUiA9IGV4cG9ydHMuT0VTX1RFWFRVUkVfSEFMRl9GTE9BVCA9IGV4cG9ydHMuT0VTX1RFWFRVUkVfRkxPQVQgPSB2b2lkIDA7XG52YXIgZXh0ZW5zaW9ucyA9IHt9O1xuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL09FU190ZXh0dXJlX2Zsb2F0XG4vLyBGbG9hdCBpcyBwcm92aWRlZCBieSBkZWZhdWx0IGluIFdlYkdMMiBjb250ZXh0cy5cbi8vIFRoaXMgZXh0ZW5zaW9uIGltcGxpY2l0bHkgZW5hYmxlcyB0aGUgV0VCR0xfY29sb3JfYnVmZmVyX2Zsb2F0IGV4dGVuc2lvbiAoaWYgc3VwcG9ydGVkKSwgd2hpY2ggYWxsb3dzIHJlbmRlcmluZyB0byAzMi1iaXQgZmxvYXRpbmctcG9pbnQgY29sb3IgYnVmZmVycy5cbmV4cG9ydHMuT0VTX1RFWFRVUkVfRkxPQVQgPSAnT0VTX3RleHR1cmVfZmxvYXQnO1xuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL09FU190ZXh0dXJlX2hhbGZfZmxvYXRcbi8vIEhhbGYgZmxvYXQgaXMgc3VwcG9ydGVkIGJ5IG1vZGVybiBtb2JpbGUgYnJvd3NlcnMsIGZsb2F0IG5vdCB5ZXQgc3VwcG9ydGVkLlxuLy8gSGFsZiBmbG9hdCBpcyBwcm92aWRlZCBieSBkZWZhdWx0IGZvciBXZWJnbDIgY29udGV4dHMuXG4vLyBUaGlzIGV4dGVuc2lvbiBpbXBsaWNpdGx5IGVuYWJsZXMgdGhlIEVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdCBleHRlbnNpb24gKGlmIHN1cHBvcnRlZCksIHdoaWNoIGFsbG93cyByZW5kZXJpbmcgdG8gMTYtYml0IGZsb2F0aW5nIHBvaW50IGZvcm1hdHMuXG5leHBvcnRzLk9FU19URVhUVVJFX0hBTEZfRkxPQVQgPSAnT0VTX3RleHR1cmVfaGFsZl9mbG9hdCc7XG4vLyBUT0RPOiBTZWVtcyBsaWtlIGxpbmVhciBmaWx0ZXJpbmcgb2YgZmxvYXRzIG1heSBiZSBzdXBwb3J0ZWQgaW4gc29tZSBicm93c2VycyB3aXRob3V0IHRoZXNlIGV4dGVuc2lvbnM/XG4vLyBodHRwczovL3d3dy5raHJvbm9zLm9yZy9yZWdpc3RyeS9PcGVuR0wvZXh0ZW5zaW9ucy9PRVMvT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyLnR4dFxuZXhwb3J0cy5PRVNfVEVYVFVSRV9GTE9BVF9MSU5FQVIgPSAnT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJztcbmV4cG9ydHMuT0VTX1RFWFRVUkVfSEFsRl9GTE9BVF9MSU5FQVIgPSAnT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInO1xuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dFQkdMX2RlcHRoX3RleHR1cmVcbi8vIEFkZHMgZ2wuVU5TSUdORURfU0hPUlQsIGdsLlVOU0lHTkVEX0lOVCB0eXBlcyB0byB0ZXh0SW1hZ2UyRCBpbiBXZWJHTDEuMFxuZXhwb3J0cy5XRUJHTF9ERVBUSF9URVhUVVJFID0gJ1dFQkdMX2RlcHRoX3RleHR1cmUnO1xuLy8gRVhUX0NPTE9SX0JVRkZFUl9GTE9BVCBhZGRzIGFiaWxpdHkgdG8gcmVuZGVyIHRvIGEgdmFyaWV0eSBvZiBmbG9hdGluZyBwdCB0ZXh0dXJlcy5cbi8vIFRoaXMgaXMgbmVlZGVkIGZvciB0aGUgV2ViR0wyIGNvbnRleHRzIHRoYXQgZG8gbm90IHN1cHBvcnQgT0VTX1RFWFRVUkVfRkxPQVQgLyBPRVNfVEVYVFVSRV9IQUxGX0ZMT0FUIGV4dGVuc2lvbnMuXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdFxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQyNjI0OTMvZnJhbWVidWZmZXItaW5jb21wbGV0ZS1hdHRhY2htZW50LWZvci10ZXh0dXJlLXdpdGgtaW50ZXJuYWwtZm9ybWF0XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNjEwOTM0Ny9mcmFtZWJ1ZmZlci1pbmNvbXBsZXRlLWF0dGFjaG1lbnQtb25seS1oYXBwZW5zLW9uLWFuZHJvaWQtdy1maXJlZm94XG5leHBvcnRzLkVYVF9DT0xPUl9CVUZGRVJfRkxPQVQgPSAnRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCc7XG5mdW5jdGlvbiBnZXRFeHRlbnNpb24oZ2wsIGV4dGVuc2lvbk5hbWUsIGVycm9yQ2FsbGJhY2ssIG9wdGlvbmFsKSB7XG4gICAgaWYgKG9wdGlvbmFsID09PSB2b2lkIDApIHsgb3B0aW9uYWwgPSBmYWxzZTsgfVxuICAgIC8vIENoZWNrIGlmIHdlJ3ZlIGFscmVhZHkgbG9hZGVkIHRoZSBleHRlbnNpb24uXG4gICAgaWYgKGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV07XG4gICAgdmFyIGV4dGVuc2lvbjtcbiAgICB0cnkge1xuICAgICAgICBleHRlbnNpb24gPSBnbC5nZXRFeHRlbnNpb24oZXh0ZW5zaW9uTmFtZSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7IH1cbiAgICBpZiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgIC8vIENhY2hlIHRoaXMgZXh0ZW5zaW9uLlxuICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbk5hbWVdID0gZXh0ZW5zaW9uO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBleHRlbnNpb246IFwiICsgZXh0ZW5zaW9uTmFtZSArIFwiLlwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGV4dGVuc2lvbnNbZXh0ZW5zaW9uTmFtZV0gPSBmYWxzZTsgLy8gQ2FjaGUgdGhlIGJhZCBleHRlbnNpb24gbG9va3VwLlxuICAgICAgICBjb25zb2xlLndhcm4oXCJVbnN1cHBvcnRlZCBcIiArIChvcHRpb25hbCA/ICdvcHRpb25hbCAnIDogJycpICsgXCJleHRlbnNpb246IFwiICsgZXh0ZW5zaW9uTmFtZSArIFwiLlwiKTtcbiAgICB9XG4gICAgLy8gSWYgdGhlIGV4dGVuc2lvbiBpcyBub3Qgb3B0aW9uYWwsIHRocm93IGVycm9yLlxuICAgIGlmICghZXh0ZW5zaW9uICYmICFvcHRpb25hbCkge1xuICAgICAgICBlcnJvckNhbGxiYWNrKFwiUmVxdWlyZWQgZXh0ZW5zaW9uIHVuc3VwcG9ydGVkIGJ5IHRoaXMgZGV2aWNlIC8gYnJvd3NlcjogXCIgKyBleHRlbnNpb25OYW1lICsgXCIuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW5zaW9uO1xufVxuZXhwb3J0cy5nZXRFeHRlbnNpb24gPSBnZXRFeHRlbnNpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHRlbnNpb25zLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QYXNzVGhyb3VnaEZyYWdtZW50U2hhZGVyID0gZXhwb3J0cy5Qb2ludHNWZXJ0ZXhTaGFkZXIgPSBleHBvcnRzLlNpbmdsZUNvbG9yRnJhZ1NoYWRlciA9IGV4cG9ydHMuR0xDb21wdXRlID0gdm9pZCAwO1xudmFyIEdMQ29tcHV0ZV8xID0gcmVxdWlyZShcIi4vR0xDb21wdXRlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiR0xDb21wdXRlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBHTENvbXB1dGVfMS5HTENvbXB1dGU7IH0gfSk7XG52YXIgU2luZ2xlQ29sb3JGcmFnU2hhZGVyXzEgPSByZXF1aXJlKFwiLi9rZXJuZWxzL1NpbmdsZUNvbG9yRnJhZ1NoYWRlclwiKTtcbmV4cG9ydHMuU2luZ2xlQ29sb3JGcmFnU2hhZGVyID0gU2luZ2xlQ29sb3JGcmFnU2hhZGVyXzEuZGVmYXVsdDtcbnZhciBQb2ludHNWZXJ0ZXhTaGFkZXJfMSA9IHJlcXVpcmUoXCIuL2tlcm5lbHMvUG9pbnRzVmVydGV4U2hhZGVyXCIpO1xuZXhwb3J0cy5Qb2ludHNWZXJ0ZXhTaGFkZXIgPSBQb2ludHNWZXJ0ZXhTaGFkZXJfMS5kZWZhdWx0O1xudmFyIFBhc3NUaHJvdWdoRnJhZ21lbnRTaGFkZXJfMSA9IHJlcXVpcmUoXCIuL2tlcm5lbHMvUGFzc1Rocm91Z2hGcmFnbWVudFNoYWRlclwiKTtcbmV4cG9ydHMuUGFzc1Rocm91Z2hGcmFnbWVudFNoYWRlciA9IFBhc3NUaHJvdWdoRnJhZ21lbnRTaGFkZXJfMS5kZWZhdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBWZXJ0ZXggc2hhZGVyIGZvciBmdWxsc2NyZWVuIHF1YWQuXG5leHBvcnRzLmRlZmF1bHQgPSBcIlxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhUG9zaXRpb247XFxuXFxudW5pZm9ybSB2ZWMyIHVfc2NhbGU7XFxudW5pZm9ybSB2ZWMyIHVfdHJhbnNsYXRpb247XFxuXFxudmFyeWluZyB2ZWMyIHZVVl9sb2NhbDtcXG52YXJ5aW5nIHZlYzIgdlVWO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHQvLyBDYWxjdWxhdGUgVVYgY29vcmRpbmF0ZXMgb2YgY3VycmVudCByZW5kZXJlZCBvYmplY3QuXFxuXFx0dlVWX2xvY2FsID0gMC41ICogKGFQb3NpdGlvbiArIDEuMCk7XFxuXFxuXFx0Ly8gQXBwbHkgdHJhbnNmb3JtYXRpb25zLlxcblxcdHZlYzIgcG9zaXRpb24gPSB1X3NjYWxlICogYVBvc2l0aW9uICsgdV90cmFuc2xhdGlvbjtcXG5cXG5cXHQvLyBDYWxjdWxhdGUgYSBnbG9iYWwgdXYgZm9yIHRoZSB2aWV3cG9ydC5cXG5cXHR2VVYgPSAwLjUgKiAocG9zaXRpb24gKyAxLjApO1xcblxcblxcdC8vIENhbGN1bGF0ZSB2ZXJ0ZXggcG9zaXRpb24uXFxuXFx0Z2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLCAxKTtcXG59XFxuXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZWZhdWx0VmVydGV4U2hhZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gXCJcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZVVjtcXG51bmlmb3JtIHNhbXBsZXIyRCB1X3N0YXRlO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHRnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodV9zdGF0ZSwgdlVWKTtcXG59XCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYXNzVGhyb3VnaEZyYWdtZW50U2hhZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gVmVydGV4IHNoYWRlciBmb3IgcG9pbnRzLlxuZXhwb3J0cy5kZWZhdWx0ID0gXCJcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxucHJlY2lzaW9uIGhpZ2hwIGludDtcXG5cXG4vLyBDYW5ub3QgdXNlIGludCB2ZXJ0ZXggYXR0cmlidXRlczogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjc4NzQ5ODMvd2ViZ2wtaG93LXRvLXVzZS1pbnRlZ2VyLWF0dHJpYnV0ZXMtaW4tZ2xzbFxcbmF0dHJpYnV0ZSBmbG9hdCBhSW5kZXg7IC8vIEluZGV4IG9mIHBvaW50LlxcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfcG9zaXRpb25zOyAvLyBUZXh0dXJlIGxvb2t1cCB3aXRoIHBvc2l0aW9uIGRhdGEuXFxudW5pZm9ybSB2ZWMyIHVfcG9zaXRpb25EaW1lbnNpb25zO1xcbnVuaWZvcm0gdmVjMiB1X3NjYWxlO1xcbnVuaWZvcm0gZmxvYXQgdV9wb2ludFNpemU7XFxuXFxudmFyeWluZyB2ZWMyIHZVVjtcXG52YXJ5aW5nIHZlYzIgdlBhcnRpY2xlVVY7XFxuXFxuLyoqXFxuICogUmV0dXJucyBhY2N1cmF0ZSBNT0Qgd2hlbiBhcmd1bWVudHMgYXJlIGFwcHJveGltYXRlIGludGVnZXJzLlxcbiAqL1xcbmZsb2F0IG1vZEkoZmxvYXQgYSwgZmxvYXQgYikge1xcbiAgICBmbG9hdCBtID0gYSAtIGZsb29yKChhICsgMC41KSAvIGIpICogYjtcXG4gICAgcmV0dXJuIGZsb29yKG0gKyAwLjUpO1xcbn1cXG5cXG52b2lkIG1haW4oKSB7XFxuXFx0Ly8gQ2FsY3VsYXRlIGEgdXYgYmFzZWQgb24gdGhlIHBvaW50J3MgaW5kZXggYXR0cmlidXRlLlxcblxcdHZQYXJ0aWNsZVVWID0gdmVjMihtb2RJKGFJbmRleCwgdV9wb3NpdGlvbkRpbWVuc2lvbnMueCksIGZsb29yKGZsb29yKGFJbmRleCArIDAuNSkgLyB1X3Bvc2l0aW9uRGltZW5zaW9ucy54KSkgLyB1X3Bvc2l0aW9uRGltZW5zaW9ucztcXG5cXG5cXHQvLyBDYWxjdWxhdGUgYSBnbG9iYWwgdXYgZm9yIHRoZSB2aWV3cG9ydC5cXG5cXHQvLyBMb29rdXAgdmVydGV4IHBvc2l0aW9uIGFuZCBzY2FsZSB0byBbMCwgMV0gcmFuZ2UuXFxuXFx0dlVWID0gdGV4dHVyZTJEKHVfcG9zaXRpb25zLCB2UGFydGljbGVVVikueHkgKiB1X3NjYWxlO1xcblxcblxcdC8vIENhbGN1bGF0ZSBwb3NpdGlvbiBpbiBbLTEsIDFdIHJhbmdlLlxcblxcdHZlYzIgcG9zaXRpb24gPSB2VVYgKiAyLjAgLSAxLjA7XFxuXFxuXFx0Z2xfUG9pbnRTaXplID0gdV9wb2ludFNpemU7XFxuXFx0Z2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLCAxKTtcXG59XFxuXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Qb2ludHNWZXJ0ZXhTaGFkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBGcmFnbWVudCBzaGFkZXIgdGhhdCBkcmF3cyBhIHNpbmdsZSBjb2xvciAoZm9yIHRlc3RpbmcpLlxuZXhwb3J0cy5kZWZhdWx0ID0gXCJcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxudW5pZm9ybSB2ZWMzIHVfY29sb3I7XFxuXFxudm9pZCBtYWluKCkge1xcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQodV9jb2xvciwgMSk7XFxufVwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2luZ2xlQ29sb3JGcmFnU2hhZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc1dlYkdMMiA9IGV4cG9ydHMuY29tcGlsZVNoYWRlciA9IHZvaWQgMDtcbi8vIENvcGllZCBmcm9tIGh0dHA6Ly93ZWJnbGZ1bmRhbWVudGFscy5vcmcvd2ViZ2wvbGVzc29ucy93ZWJnbC1ib2lsZXJwbGF0ZS5odG1sXG5mdW5jdGlvbiBjb21waWxlU2hhZGVyKGdsLCBlcnJvckNhbGxiYWNrLCBzaGFkZXJTb3VyY2UsIHNoYWRlclR5cGUsIHByb2dyYW1OYW1lKSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBzaGFkZXIgb2JqZWN0XG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKTtcbiAgICBpZiAoIXNoYWRlcikge1xuICAgICAgICBlcnJvckNhbGxiYWNrKCdVbmFibGUgdG8gaW5pdCBnbCBzaGFkZXIuJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBTZXQgdGhlIHNoYWRlciBzb3VyY2UgY29kZS5cbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTb3VyY2UpO1xuICAgIC8vIENvbXBpbGUgdGhlIHNoYWRlclxuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICAvLyBDaGVjayBpZiBpdCBjb21waWxlZFxuICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpO1xuICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAvLyBTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgY29tcGlsYXRpb24gLSBwcmludCB0aGUgZXJyb3IuXG4gICAgICAgIGVycm9yQ2FsbGJhY2soXCJDb3VsZCBub3QgY29tcGlsZSBcIiArIChzaGFkZXJUeXBlID09PSBnbC5GUkFHTUVOVF9TSEFERVIgPyAnZnJhZ21lbnQnIDogJ3ZlcnRleCcpICsgXCJcXG5cXHRcXHRcXHQgc2hhZGVyXCIgKyAocHJvZ3JhbU5hbWUgPyBcIiBmb3IgcHJvZ3JhbSBcIiArIHByb2dyYW1OYW1lIDogJycpICsgXCI6IFwiICsgZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpICsgXCIuXCIpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cbmV4cG9ydHMuY29tcGlsZVNoYWRlciA9IGNvbXBpbGVTaGFkZXI7XG5mdW5jdGlvbiBpc1dlYkdMMihnbCkge1xuICAgIC8vIFRPRE86IEknbSBzdXJlIHRoZXJlIGlzIGEgYmV0dGVyIHdheSB0byBjaGVjayB0aGlzLlxuICAgIHJldHVybiAhIWdsLkhBTEZfRkxPQVQ7XG59XG5leHBvcnRzLmlzV2ViR0wyID0gaXNXZWJHTDI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiLCJpbXBvcnQgeyBHTENvbXB1dGUgfSBmcm9tICdnbGNvbXB1dGUnO1xuY29uc3QgZ29sU2hhZGVyU291cmNlID0gcmVxdWlyZSgnLi9rZXJuZWxzL0dPTFNoYWRlci5nbHNsJyk7XG5jb25zdCByZW5kZXJTaGFkZXJTb3VyY2UgPSByZXF1aXJlKCcuL2tlcm5lbHMvUmVuZGVyU2hhZGVyLmdsc2wnKTtcbmNvbnN0IGludGVyYWN0aW9uU2hhZGVyU291cmNlID0gcmVxdWlyZSgnLi9rZXJuZWxzL0ludGVyYWN0aW9uU2hhZGVyLmdsc2wnKTtcblxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dsY2FudmFzJykgIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuY29uc3QgZ2xjb21wdXRlID0gbmV3IEdMQ29tcHV0ZShudWxsLCBjYW52YXMsIHsgYW50aWFsaWFzOiBmYWxzZSB9KTtcblxuLy8gSW5pdCBwcm9ncmFtcy5cbmNvbnN0IGdvbCA9IGdsY29tcHV0ZS5pbml0UHJvZ3JhbSgnZ29sJywgZ29sU2hhZGVyU291cmNlLCBbXG5cdHtcblx0XHRuYW1lOiAndV9zdGF0ZScsXG5cdFx0dmFsdWU6IDAsXG5cdFx0ZGF0YVR5cGU6ICdJTlQnLFxuXHR9LFxuXHR7XG5cdFx0bmFtZTogJ3VfcHhTaXplJyxcblx0XHR2YWx1ZTogWzEgLyBjYW52YXMuY2xpZW50V2lkdGgsIDEgLyBjYW52YXMuY2xpZW50SGVpZ2h0XSxcblx0XHRkYXRhVHlwZTogJ0ZMT0FUJyxcblx0fSxcbl0pO1xuY29uc3QgcmVuZGVyID0gZ2xjb21wdXRlLmluaXRQcm9ncmFtKCdyZW5kZXInLCByZW5kZXJTaGFkZXJTb3VyY2UsIFtcblx0e1xuXHRcdG5hbWU6ICd1X3N0YXRlJyxcblx0XHR2YWx1ZTogMCxcblx0XHRkYXRhVHlwZTogJ0lOVCcsXG5cdH0sXG5dKTtcbmNvbnN0IGludGVyYWN0aW9uID0gZ2xjb21wdXRlLmluaXRQcm9ncmFtKCdpbnRlcmFjdGlvbicsIGludGVyYWN0aW9uU2hhZGVyU291cmNlLCBbXG5cdHtcblx0XHRuYW1lOiAndV9ub2lzZUxvb2t1cCcsXG5cdFx0dmFsdWU6IDAsXG5cdFx0ZGF0YVR5cGU6ICdJTlQnLFxuXHR9LFxuXSk7XG5cbi8vIE1ha2UgYSByYW5kb20gYXJyYXkgb2YgMSdzIGFuZCAwJ3MuXG5mdW5jdGlvbiBtYWtlUmFuZG9tQXJyYXkobGVuZ3RoOiBudW1iZXIsIHByb2JhYmlsaXR5ID0gMC4xKSB7XG5cdGNvbnN0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcblx0Zm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0YXJyYXlbaV0gPSBNYXRoLnJhbmRvbSgpIDwgcHJvYmFiaWxpdHkgPyAyNTUgOiAwO1xuXHR9XG5cdHJldHVybiBhcnJheTtcbn1cblxuLy8gSW5pdCBzdGF0ZS5cbmNvbnN0IHN0YXRlID0gZ2xjb21wdXRlLmluaXREYXRhTGF5ZXIoJ3N0YXRlJywge1xuXHRkaW1lbnNpb25zOiBbY2FudmFzLmNsaWVudFdpZHRoLCBjYW52YXMuY2xpZW50SGVpZ2h0XSxcblx0dHlwZTogJ3VpbnQ4Jyxcblx0bnVtQ29tcG9uZW50czogMSxcblx0ZGF0YTogbWFrZVJhbmRvbUFycmF5KGNhbnZhcy5jbGllbnRXaWR0aCAqIGNhbnZhcy5jbGllbnRIZWlnaHQpLFxuXHRmaWx0ZXI6ICdORUFSRVNUJyxcbn0sIHRydWUsIDIpOyAvLyBVc2UgdHdvIGJ1ZmZlcnMsIG9uZSBmb3IgdGhpcyBzdGF0ZSwgb25lIGZvciBsYXN0IHN0YXRlLlxub25SZXNpemUoKTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblJlc2l6ZSk7XG5mdW5jdGlvbiBvblJlc2l6ZSgpIHtcblx0Ly8gUmUtaW5pdCB0ZXh0dXJlcyBhdCBuZXcgc2l6ZS5cblx0Y29uc3Qgd2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGg7XG5cdGNvbnN0IGhlaWdodCA9IGNhbnZhcy5jbGllbnRIZWlnaHQ7XG5cdHN0YXRlLnJlc2l6ZShbd2lkdGgsIGhlaWdodF0sIG1ha2VSYW5kb21BcnJheSh3aWR0aCAqIGhlaWdodCkpO1xuXHRnb2wuc2V0VW5pZm9ybSgndV9weFNpemUnLCBbMSAvIHdpZHRoLCAxIC8gaGVpZ2h0XSwgJ0ZMT0FUJyk7XG5cdGdsY29tcHV0ZS5vblJlc2l6ZShjYW52YXMpO1xufVxuXG4vLyBTZXQgdXAgaW50ZXJhY3Rpb25zLlxuY29uc3QgVE9VQ0hfUkFESVVTID0gMTA7XG4vLyBDcmVhdGUgYSBsb29rdXAgdGV4dHVyZSBmb3IgYWRkaW5nIG5vaXNlIG9uIGludGVyYWN0aW9uLlxuY29uc3Qgbm9pc2UgPSBnbGNvbXB1dGUuaW5pdERhdGFMYXllcignbm9pc2UnLFxuXHR7XG5cdFx0ZGltZW5zaW9uczogW1RPVUNIX1JBRElVUyAqIDIsIFRPVUNIX1JBRElVUyAqIDJdLFxuXHRcdHR5cGU6ICd1aW50OCcsXG5cdFx0bnVtQ29tcG9uZW50czogMSxcblx0XHRkYXRhOiBtYWtlUmFuZG9tQXJyYXkoNCAqIFRPVUNIX1JBRElVUyAqIFRPVUNIX1JBRElVUywgMC41KSxcblx0XHRmaWx0ZXI6ICdORUFSRVNUJyxcblx0fSxcbik7XG5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGU6IE1vdXNlRXZlbnQpID0+IHtcblx0Z2xjb21wdXRlLnN0ZXBDaXJjbGUoaW50ZXJhY3Rpb24sIFtlLmNsaWVudFgsIGNhbnZhcy5jbGllbnRIZWlnaHQgLSBlLmNsaWVudFldLCBUT1VDSF9SQURJVVMsIFtub2lzZV0sIHN0YXRlKTtcbn0pO1xuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIChlOiBUb3VjaEV2ZW50KSA9PiB7XG5cdGUucHJldmVudERlZmF1bHQoKTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlLnRvdWNoZXMubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCB0b3VjaCA9IGUudG91Y2hlc1tpXTtcblx0XHRnbGNvbXB1dGUuc3RlcENpcmNsZShpbnRlcmFjdGlvbiwgW3RvdWNoLnBhZ2VYLCBjYW52YXMuY2xpZW50SGVpZ2h0IC0gdG91Y2gucGFnZVldLCBUT1VDSF9SQURJVVMsIFtub2lzZV0sIHN0YXRlKTtcblx0fVxufSk7XG4vLyBEaXNhYmxlIG90aGVyIGdlc3R1cmVzLlxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZ2VzdHVyZXN0YXJ0JywgZGlzYWJsZVpvb20pO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZ2VzdHVyZWNoYW5nZScsIGRpc2FibGVab29tKTsgXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlZW5kJywgZGlzYWJsZVpvb20pO1xuZnVuY3Rpb24gZGlzYWJsZVpvb20oZTogRXZlbnQpIHtcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRjb25zdCBzY2FsZSA9ICdzY2FsZSgxKSc7XG5cdC8vIEB0cy1pZ25vcmVcblx0ZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSAgc2NhbGU7ICAgIC8vIENocm9tZSwgT3BlcmEsIFNhZmFyaVxuXHQvLyBAdHMtaWdub3JlXG5cdGRvY3VtZW50LmJvZHkuc3R5bGUubXNUcmFuc2Zvcm0gPSAgIHNjYWxlOyAgICAgICAvLyBJRSA5XG5cdGRvY3VtZW50LmJvZHkuc3R5bGUudHJhbnNmb3JtID0gc2NhbGU7XG59XG5cbi8vIFN0YXJ0IHJlbmRlciBsb29wLlxud2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbmZ1bmN0aW9uIHN0ZXAoKSB7XG5cdC8vIENvbXB1dGUgcnVsZXMuXG5cdGdsY29tcHV0ZS5zdGVwKGdvbCwgW3N0YXRlXSwgc3RhdGUpO1xuXHQvLyBSZW5kZXIgY3VycmVudCBzdGF0ZS5cblx0Z2xjb21wdXRlLnN0ZXAocmVuZGVyLCBbc3RhdGVdKTtcblx0Ly8gU3RhcnQgYSBuZXcgcmVuZGVyIGN5Y2xlLlxuXHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xufSIsIm1vZHVsZS5leHBvcnRzID0gXCJwcmVjaXNpb24gbG93cCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlVWO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfc3RhdGU7XFxudW5pZm9ybSB2ZWMyIHVfcHhTaXplO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHRmbG9hdCBjdXJyZW50U3RhdGUgPSB0ZXh0dXJlMkQodV9zdGF0ZSwgdlVWKS5yO1xcblxcblxcdGludCBjb3VudCA9IDA7XFxuXFx0Zm9yIChpbnQgaSA9IC0xOyBpIDwgMjsgaSsrKSB7XFxuXFx0XFx0Zm9yIChpbnQgaiA9LSAxOyBqIDwgMjsgaisrKSB7XFxuXFx0XFx0XFx0aWYgKGkgPT0gMCAmJiBqID09IDApIGNvbnRpbnVlO1xcblxcdFxcdFxcdHZlYzIgbmVpZ2hib3JVViA9IHZVViArIHZlYzIodV9weFNpemUueCAqIGZsb2F0KGkpLCB1X3B4U2l6ZS55ICogZmxvYXQoaikpO1xcblxcdFxcdFxcdGlmICh0ZXh0dXJlMkQodV9zdGF0ZSwgbmVpZ2hib3JVVikuciA9PSAxLjApIGNvdW50Kys7XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHQvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db253YXklMjdzX0dhbWVfb2ZfTGlmZSNSdWxlc1xcblxcdGlmIChjb3VudCA9PSAzIHx8IChjdXJyZW50U3RhdGUgPT0gMS4wICYmIGNvdW50ID09IDIpKSB7XFxuXFx0XFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCgxKTtcXG5cXHRcXHRyZXR1cm47XFxuXFx0fVxcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoMCwgMCwgMCwxKTtcXG59XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwicHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZVVl9sb2NhbDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1X25vaXNlTG9va3VwO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHRmbG9hdCBzdGF0ZSA9IHRleHR1cmUyRCh1X25vaXNlTG9va3VwLCB2VVZfbG9jYWwpLnI7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNChzdGF0ZSwgMCwgMCwgMSk7XFxufVxcblwiIiwibW9kdWxlLmV4cG9ydHMgPSBcInByZWNpc2lvbiBsb3dwIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB2VVY7XFxudW5pZm9ybSBzYW1wbGVyMkQgdV9zdGF0ZTtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFx0ZmxvYXQgY3VycmVudFN0YXRlID0gdGV4dHVyZTJEKHVfc3RhdGUsIHZVVikucjtcXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KGN1cnJlbnRTdGF0ZSwgY3VycmVudFN0YXRlLCBjdXJyZW50U3RhdGUsIDEpO1xcbn1cIiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGVcbl9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbi8vIFRoaXMgZW50cnkgbW9kdWxlIHVzZWQgJ2V4cG9ydHMnIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbiJdLCJzb3VyY2VSb290IjoiIn0=