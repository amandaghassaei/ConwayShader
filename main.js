(()=>{var e={607:(e,t,r)=>{"use strict";var n=r(561),a=r(645),i=r(539),o=r(950),s=document.getElementById("glcanvas"),u=new n.GPGPU(null,s),l=u.initProgram("gol",a,[{name:"u_state",value:0,dataType:"INT"},{name:"u_pxSize",value:[1/s.clientWidth,1/s.clientHeight],dataType:"FLOAT"}]),f=u.initProgram("render",i,[{name:"u_state",value:0,dataType:"INT"}]),h=u.initProgram("interaction",o,[{name:"u_noiseLookup",value:0,dataType:"INT"}]);function c(e,t){void 0===t&&(t=.1);for(var r=new Uint8Array(e),n=0,a=r.length;n<a;n++)r[n]=Math.random()<t?255:0;return r}var d=u.initDataLayer("state",{width:s.clientWidth,height:s.clientHeight,type:"uint8",numChannels:1,data:c(s.clientWidth*s.clientHeight)},!0,2);function g(){var e=s.clientWidth,t=s.clientHeight;d.resize(e,t,c(e*t)),l.setUniform("u_pxSize",[1/e,1/t],"FLOAT"),u.onResize(s)}g(),window.addEventListener("resize",g);var _=u.initDataLayer("noise",{width:20,height:20,type:"uint8",numChannels:1,data:c(400,.5)});function v(e){e.preventDefault();var t="scale(1)";document.body.style.webkitTransform=t,document.body.style.msTransform=t,document.body.style.transform=t}s.addEventListener("mousemove",(function(e){u.stepCircle(h,[e.clientX,e.clientY],10,[_],d)})),s.addEventListener("touchmove",(function(e){e.preventDefault();for(var t=0;t<e.touches.length;t++){var r=e.touches[t];u.stepCircle(h,[r.pageX,r.pageY],10,[_],d)}})),document.addEventListener("gesturestart",v),document.addEventListener("gesturechange",v),document.addEventListener("gestureend",v),window.requestAnimationFrame((function e(){u.step(l,[d],d),u.step(f,[d]),window.requestAnimationFrame(e)}))},249:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataLayer=void 0;var r=function(){function e(e,t,r,n,a,i){if(this.bufferIndex=0,this.buffers=[],this.name=e,this.gl=t,this.errorCallback=n,a<0||a%1!=0)throw new Error("Invalid numBuffers: "+a+" for DataLayer "+this.name+", must be positive integer.");this.numBuffers=a,this.width=r.width,this.height=r.height,this.glInternalFormat=r.glInternalFormat,this.glFormat=r.glFormat,this.glType=r.glType,this.writable=i,this.initBuffers(r.data)}return e.prototype.initBuffers=function(e){for(var t=this,r=t.numBuffers,n=t.gl,a=t.width,i=t.height,o=t.glInternalFormat,s=t.glFormat,u=t.glType,l=t.writable,f=t.errorCallback,h=0;h<r;h++){var c=n.createTexture();if(!c)return void f("Could not init texture for DataLayer "+this.name+": "+n.getError()+".");n.bindTexture(n.TEXTURE_2D,c),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);var d=n.NEAREST;n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,d),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,d),n.texImage2D(n.TEXTURE_2D,0,o,a,i,0,s,u,e||null);var g={texture:c};if(l){var _=n.createFramebuffer();if(!_)return void f("Could not init framebuffer for DataLayer "+this.name+": "+n.getError()+".");n.bindFramebuffer(n.FRAMEBUFFER,_),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,c,0);var v=n.checkFramebufferStatus(n.FRAMEBUFFER);v!=n.FRAMEBUFFER_COMPLETE&&f("Invalid status for framebuffer for DataLayer "+this.name+": "+v+"."),g.framebuffer=_}this.buffers.push(g)}},e.prototype.getCurrentStateTexture=function(){return this.buffers[this.bufferIndex].texture},e.prototype.getLastStateTexture=function(){if(1===this.numBuffers)throw new Error("Calling getLastState on DataLayer "+this.name+" with 1 buffer, no last state available.");return this.buffers[this.bufferIndex].texture},e.prototype.setAsRenderTarget=function(e){var t=this.gl;e&&(this.bufferIndex=(this.bufferIndex+1)%this.numBuffers);var r=this.buffers[this.bufferIndex].framebuffer;if(!r)throw new Error("DataLayer "+this.name+" is not writable.");t.bindFramebuffer(t.FRAMEBUFFER,r)},e.prototype.resize=function(e,t,r){this.destroyBuffers(),this.width=e,this.height=t,this.initBuffers(r)},e.prototype.destroyBuffers=function(){var e=this.gl,t=this.buffers;t.forEach((function(t){var r=t.framebuffer,n=t.texture;e.deleteTexture(n),r&&e.deleteFramebuffer(r),delete t.texture,delete t.framebuffer})),t.length=0},e.prototype.destroy=function(){this.destroyBuffers(),delete this.gl},e}();t.DataLayer=r},576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPGPU=void 0;for(var n=r(416),a=r(900),i=r(249),o=r(389),s=r(989),u=new Float32Array([-1,-1,1,-1,-1,1,1,1]),l=new Float32Array([-1,-1,1,-1,1,1,-1,1]),f=[0,0],h=0;h<=20;h++)f.push(Math.cos(2*Math.PI*h/20),Math.sin(2*Math.PI*h/20));var c=new Float32Array(f),d=function(){function e(e,t,r){void 0===r&&(r=function(e){throw new Error(e)}),this.extensions={},this.errorState=!1,this.shaders=[];var i=this;if(this.errorCallback=function(e){i.errorState||(i.errorState=!0,r&&r(e))},e||null!==(e=t.getContext("webgl2",{antialias:!1})||t.getContext("webgl",{antialias:!1}))){this.isWebGL2=!!e.HALF_FLOAT,this.isWebGL2?console.log("Using WebGL 2.0 context."):console.log("Using WebGL 1.0 context."),this.gl=e,this.isWebGL2?this.loadExtension("EXT_color_buffer_float"):this.loadExtension("OES_texture_half_float"),this.linearFilterEnabled=this.loadExtension("OES_texture_half_float_linear",!0),e.disable(e.DEPTH_TEST),e.pixelStorei(e.UNPACK_ALIGNMENT,1);var o=s.compileShader(e,this.errorCallback,n.default,e.VERTEX_SHADER);if(o){this.defaultVertexShader=o,this.passThroughProgram=this.initProgram("passThrough",a.default,[{name:"u_state",value:0,dataType:"INT"}]),this.quadPositionsBuffer=this.initVertexBuffer(u),this.boundaryPositionsBuffer=this.initVertexBuffer(l),this.circlePositionsBuffer=this.initVertexBuffer(c),e.bindBuffer(e.ARRAY_BUFFER,null),this.onResize(t);var f=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS);console.log(f+" textures max.")}else this.errorCallback("Unable to initialize fullscreen quad vertex shader.")}else this.errorCallback("Unable to initialize WebGL context.")}return e.prototype.initVertexBuffer=function(e){var t=this.errorCallback,r=this.gl,n=r.createBuffer();if(n)return r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,e,r.STATIC_DRAW),n;t("Unable to allocate gl buffer.")},e.prototype.loadExtension=function(e,t){void 0===t&&(t=!1);var r,n=this,a=n.extensions,i=n.gl,o=n.errorCallback;try{r=i.getExtension(e)}catch(e){}return r?(a[e]=r,console.log("Loaded extension: "+e+".")):console.warn("Unsupported "+(t?"optional ":"")+"extension: "+e+"."),r||t||o("Required extension unsupported by this device / browser: "+e+"."),!!r},e.prototype.initProgram=function(e,t,r){var n=this.gl,a=this.errorCallback;return this.defaultVertexShader,new o.GPUProgram(e,n,a,this.defaultVertexShader,t,r)},e.prototype.glTextureParameters=function(e,t,r){var n,a,i,o,s=this,u=s.gl,l=s.isWebGL2,f=s.extensions;if(l){switch(o=e,3===e&&r&&(o=4),o){case 1:a=u.RED;break;case 2:a=u.RG;break;case 3:a=u.RGB;break;case 4:a=u.RGBA}switch(t){case"float16":switch(n=u.HALF_FLOAT,o){case 1:i=u.R16F;break;case 2:i=u.RG16F;break;case 3:i=u.RGB16F;break;case 4:i=u.RGBA16F}break;case"uint8":switch(n=u.UNSIGNED_BYTE,o){case 1:i=u.R8;break;case 2:i=u.RG8;break;case 3:i=u.RGB8;break;case 4:i=u.RGBA8}}}else{switch(e){case 1:case 2:case 3:a=u.RGB,i=u.RGB,o=3;break;case 4:a=u.RGBA,i=u.RGBA,o=4}switch(t){case"float16":n=f.OES_texture_half_float.HALF_FLOAT_OES;break;case"uint8":n=u.UNSIGNED_BYTE}}if(void 0===n||void 0===a||void 0===i)throw new Error("Invalid type: "+t+" or numChannels "+e+".");if(void 0===o||e<1||e>4)throw new Error("Invalid numChannels: "+e+".");return{glFormat:a,glInternalFormat:i,glType:n,glNumChannels:o}},e.prototype.initDataLayer=function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=1);var a=this.gl,o=this.errorCallback,s=t.data,u=t.width,l=t.height,f=t.type,h=t.numChannels;if(s&&s.length!==u*l*h)throw new Error("Invalid data array of size "+s.length+" for DataLayer "+e+" of dimensions "+u+" x "+l+" x "+h+".");var c=this.glTextureParameters(h,f,r),d=c.glFormat,g=c.glInternalFormat,_=c.glNumChannels,v=c.glType,m=s;if(s&&h!==_){var p=u*l,T=void 0;switch(f){case"uint8":T=new Uint8Array(u*l*_);break;default:throw new Error("Error initing "+e+".  Unsupported type "+f+" for GPGPU.initDataLayer.")}for(var F=0;F<p;F++)for(var b=0;b<h;b++)T[_*F+b]=s[F*h+b];m=T}return new i.DataLayer(e,a,{width:u,height:l,glInternalFormat:g,glFormat:d,glType:v,data:m},o,n,r)},e.prototype.onResize=function(e){var t=this.gl,r=e.clientWidth,n=e.clientHeight;t.viewport(0,0,r,n),e.width=r,e.height=n,this.width=r,this.height=n},e.prototype.drawSetup=function(e,t,r,n){var a=this.gl;if(e.program){var i=r.map((function(e){return e.getCurrentStateTexture()}));this.setOutput(t,r,n),a.useProgram(e.program);for(var o=0;o<r.length;o++)a.activeTexture(a.TEXTURE0+o),a.bindTexture(a.TEXTURE_2D,i[o])}},e.prototype.setOutput=function(e,t,r){var n=this.gl,a=this.passThroughProgram;if(r){if(t.indexOf(r)>-1){if(1===r.numBuffers)throw new Error("\n\t\t\t\tCannot use same buffer for input and output of a program.\n\t\t\t\tTry increasing the number of buffers in your output layer to at least 2 so you\n\t\t\t\tcan render to nextState using currentState as an input.");return e?void r.setAsRenderTarget(!0):(this.step(a,[r],r),void r.setAsRenderTarget(!1))}r.setAsRenderTarget(!1)}else n.bindFramebuffer(n.FRAMEBUFFER,null)},e.prototype.step=function(e,t,r){void 0===t&&(t=[]);var n=this,a=n.gl,i=n.errorState,o=n.quadPositionsBuffer;if(!i){this.drawSetup(e,!0,t,r),e.setUniform("u_scale",[1,1],"FLOAT"),e.setUniform("u_translation",[0,0],"FLOAT"),a.bindBuffer(a.ARRAY_BUFFER,o);var s=a.getAttribLocation(e.program,"aPosition");a.vertexAttribPointer(s,2,a.FLOAT,!1,0,0),a.enableVertexAttribArray(s),a.drawArrays(a.TRIANGLE_STRIP,0,4)}},e.prototype.stepBoundary=function(e,t,r){void 0===t&&(t=[]);var n=this,a=n.gl,i=n.errorState,o=n.boundaryPositionsBuffer,s=n.width,u=n.height;if(!i){this.drawSetup(e,!1,t,r);var l=[1/s,1/u];e.setUniform("u_scale",[1-l[0],1-l[1]],"FLOAT"),e.setUniform("u_translation",l,"FLOAT"),a.bindBuffer(a.ARRAY_BUFFER,o);var f=a.getAttribLocation(e.program,"aPosition");a.vertexAttribPointer(f,2,a.FLOAT,!1,0,0),a.enableVertexAttribArray(f),a.drawArrays(a.LINE_LOOP,0,4)}},e.prototype.stepNonBoundary=function(e,t,r){void 0===t&&(t=[]);var n=this,a=n.gl,i=n.errorState,o=n.quadPositionsBuffer,s=n.width,u=n.height;if(!i){this.drawSetup(e,!1,t,r);var l=[1/s,1/u];e.setUniform("u_scale",[1-2*l[0],1-2*l[1]],"FLOAT"),e.setUniform("u_translation",l,"FLOAT"),a.bindBuffer(a.ARRAY_BUFFER,o);var f=a.getAttribLocation(e.program,"aPosition");a.vertexAttribPointer(f,2,a.FLOAT,!1,0,0),a.enableVertexAttribArray(f),a.drawArrays(a.TRIANGLE_STRIP,0,4)}},e.prototype.stepCircle=function(e,t,r,n,a){void 0===n&&(n=[]);var i=this,o=i.gl,s=i.errorState,u=i.circlePositionsBuffer,l=i.width,f=i.height;if(!s){this.drawSetup(e,!1,n,a),e.setUniform("u_scale",[r/l,r/f],"FLOAT"),e.setUniform("u_translation",[2*t[0]/l-1,-2*t[1]/f+1],"FLOAT"),o.bindBuffer(o.ARRAY_BUFFER,u);var h=o.getAttribLocation(e.program,"aPosition");o.vertexAttribPointer(h,2,o.FLOAT,!1,0,0),o.enableVertexAttribArray(h),o.drawArrays(o.TRIANGLE_FAN,0,22)}},e.prototype.reset=function(){},e}();t.GPGPU=d},389:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPUProgram=void 0;var n=r(647),a=r(989),i=function(){function e(e,t,r,n,i,o){var s=this;this.uniforms={},this.shaders=[],this.name=e,this.gl=t,this.errorCallback=r;var u=t.createProgram();if(u){var l=a.compileShader(t,r,i,t.FRAGMENT_SHADER);l?(this.shaders.push(l),t.attachShader(u,n),t.attachShader(u,l),t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)?(this.program=u,null==o||o.forEach((function(e){var t=e.name,r=e.value,n=e.dataType;s.setUniform(t,r,n)}))):r("Program "+e+" failed to link: "+t.getProgramInfoLog(u))):r("Unable to compile fragment shader for program "+e+".")}else r("Unable to init gl program: "+e+".")}return e.prototype.uniformTypeForValue=function(e,t){if(t===n.FLOAT_TYPE){if(!isNaN(e)||1===e.length)return n.FLOAT_1D_UNIFORM;if(2===e.length)return n.FLOAT_2D_UNIFORM;if(3===e.length)return n.FLOAT_3D_UNIFORM;if(4===e.length)return n.FLOAT_4D_UNIFORM;throw new Error("Invalid uniform value: "+e)}if(t===n.INT_TYPE){if(!isNaN(e)||1===e.length)return n.INT_1D_UNIFORM;if(2===e.length)return n.INT_2D_UNIFORM;if(3===e.length)return n.INT_3D_UNIFORM;if(4===e.length)return n.INT_4D_UNIFORM;throw new Error("Invalid uniform value: "+e)}throw new Error("Invalid uniform data type: "+t)},e.prototype.setUniform=function(e,t,r){var a=this,i=a.gl,o=a.errorCallback,s=a.program,u=a.uniforms;if(s){i.useProgram(s);var l=this.uniformTypeForValue(t,r);if(!u[e]){var f=i.getUniformLocation(s,e);if(!f)return void o("Could not init uniform "+e+".\nCheck that uniform is present in shader code, unused uniforms may be removed by compiler.\nAlso check that uniform type in shader code matches type "+l+".\nError code: "+i.getError()+".");u[e]={location:f,type:l}}var h=u[e];if(h.type!=l)throw new Error("Uniform "+e+" cannot change from type "+h.type+" to type "+l+".");var c=h.location;switch(l){case n.FLOAT_1D_UNIFORM:i.uniform1f(c,t);break;case n.FLOAT_2D_UNIFORM:i.uniform2fv(c,t);break;case n.FLOAT_3D_UNIFORM:i.uniform3fv(c,t);break;case n.FLOAT_4D_UNIFORM:i.uniform4fv(c,t);break;case n.INT_1D_UNIFORM:i.uniform1i(c,t);break;case n.INT_2D_UNIFORM:i.uniform2iv(c,t);break;case n.INT_3D_UNIFORM:i.uniform3iv(c,t);break;case n.INT_4D_UNIFORM:i.uniform4iv(c,t);break;default:throw new Error("Unknown uniform type: "+l+".")}}else o("Program not inited.")},e.prototype.destroy=function(){var e=this,t=e.gl,r=e.program,n=e.shaders;r&&t.deleteProgram(r);for(var a=0;a<n.length;a++)t.deleteShader(n[a]);n.length=0,delete this.gl,delete this.program},e}();t.GPUProgram=i},647:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INT_TYPE=t.FLOAT_TYPE=t.INT_4D_UNIFORM=t.INT_3D_UNIFORM=t.INT_2D_UNIFORM=t.INT_1D_UNIFORM=t.FLOAT_4D_UNIFORM=t.FLOAT_3D_UNIFORM=t.FLOAT_2D_UNIFORM=t.FLOAT_1D_UNIFORM=void 0,t.FLOAT_1D_UNIFORM="1f",t.FLOAT_2D_UNIFORM="2f",t.FLOAT_3D_UNIFORM="3f",t.FLOAT_4D_UNIFORM="3f",t.INT_1D_UNIFORM="1i",t.INT_2D_UNIFORM="2i",t.INT_3D_UNIFORM="3i",t.INT_4D_UNIFORM="3i",t.FLOAT_TYPE="FLOAT",t.INT_TYPE="INT"},561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleColorFragShader=t.GPGPU=void 0;var n=r(576);Object.defineProperty(t,"GPGPU",{enumerable:!0,get:function(){return n.GPGPU}});var a=r(929);t.SingleColorFragShader=a.default},416:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\n\nattribute vec2 aPosition;\n\nuniform vec2 u_scale;\nuniform vec2 u_translation;\n\nvarying vec2 vUV_local;\nvarying vec2 vUV;\n\nvoid main() {\n\t// Calculate UV coordinates of current rendered object.\n\tvUV_local = 0.5 * (aPosition + 1.0);\n\t// Apply transformations.\n\tvec2 position = u_scale * aPosition + u_translation;\n\t// Calculate a global uv for the viewport.\n\tvUV = 0.5 * (position + 1.0);\n\t// Calculate vertex position.\n\tgl_Position = vec4(position, 0, 1);\n}\n"},900:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\n\nvarying vec2 vUV;\nuniform sampler2D u_state;\n\nvoid main() {\n\tgl_FragColor = texture2D(u_state, vUV);\n}"},929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\n\nuniform vec3 u_color;\n\nvoid main() {\n\tgl_FragColor = vec4(u_color, 1);\n}"},989:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileShader=void 0,t.compileShader=function(e,t,r,n){var a=e.createShader(n);return a?(e.shaderSource(a,r),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?a:(t("Could not compile "+(n===e.FRAGMENT_SHADER?"fragment":"vertex")+"\n\t\t\t shader: "+e.getShaderInfoLog(a)),null)):(t("Unable to init gl shader."),null)}},645:e=>{e.exports="precision lowp float;\n\nvarying vec2 vUV;\nuniform sampler2D u_state;\nuniform vec2 u_pxSize;\n\nvoid main() {\n\tfloat currentState = texture2D(u_state, vUV).r;\n\n\tint count = 0;\n\tfor (int i = -1; i < 2; i++) {\n\t\tfor (int j =- 1; j < 2; j++) {\n\t\t\tif (i == 0 && j == 0) continue;\n\t\t\tvec2 neighborUV = vUV + vec2(u_pxSize.x * float(i), u_pxSize.y * float(j));\n\t\t\tif (texture2D(u_state, neighborUV).r == 1.0) count++;\n\t\t}\n\t}\n\n\t// https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life#Rules\n\tif (count == 3 || (currentState == 1.0 && count == 2)) {\n\t\tgl_FragColor = vec4(1);\n\t\treturn;\n\t}\n\tgl_FragColor = vec4(0, 0, 0,1);\n}"},950:e=>{e.exports="precision lowp float;\n\nvarying vec2 vUV_local;\nuniform sampler2D u_noiseLookup;\n\nvoid main() {\n\tfloat state = texture2D(u_noiseLookup, vUV_local).r;\n\tgl_FragColor = vec4(state, 0, 0, 1);\n}\n"},539:e=>{e.exports="precision lowp float;\n\nvarying vec2 vUV;\nuniform sampler2D u_state;\n\nvoid main() {\n\tfloat currentState = texture2D(u_state, vUV).r;\n\tgl_FragColor = vec4(currentState, currentState, currentState, 1);\n}"}},t={};!function r(n){if(t[n])return t[n].exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb253YXlzaGFkZXIvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vY29ud2F5c2hhZGVyLy4vbm9kZV9tb2R1bGVzL3dlYmdsLWdwZ3B1L2Rpc3QvRGF0YUxheWVyLmpzIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L0dQR1BVLmpzIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L0dQVVByb2dyYW0uanMiLCJ3ZWJwYWNrOi8vY29ud2F5c2hhZGVyLy4vbm9kZV9tb2R1bGVzL3dlYmdsLWdwZ3B1L2Rpc3QvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L2luZGV4LmpzIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L2tlcm5lbHMvRGVmYXVsdFZlcnRleFNoYWRlci5qcyIsIndlYnBhY2s6Ly9jb253YXlzaGFkZXIvLi9ub2RlX21vZHVsZXMvd2ViZ2wtZ3BncHUvZGlzdC9rZXJuZWxzL1Bhc3NUaHJvdWdoU2hhZGVyLmpzIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L2tlcm5lbHMvU2luZ2xlQ29sb3JGcmFnU2hhZGVyLmpzIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L3V0aWxzLmpzIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL3NyYy9rZXJuZWxzL0dPTFNoYWRlci5nbHNsIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL3NyYy9rZXJuZWxzL0ludGVyYWN0aW9uU2hhZGVyLmdsc2wiLCJ3ZWJwYWNrOi8vY29ud2F5c2hhZGVyLy4vc3JjL2tlcm5lbHMvUmVuZGVyU2hhZGVyLmdsc2wiLCJ3ZWJwYWNrOi8vY29ud2F5c2hhZGVyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NvbndheXNoYWRlci93ZWJwYWNrL3N0YXJ0dXAiXSwibmFtZXMiOlsiZ29sU2hhZGVyU291cmNlIiwicmVuZGVyU2hhZGVyU291cmNlIiwiaW50ZXJhY3Rpb25TaGFkZXJTb3VyY2UiLCJjYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ3BncHUiLCJHUEdQVSIsImdvbCIsImluaXRQcm9ncmFtIiwibmFtZSIsInZhbHVlIiwiZGF0YVR5cGUiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInJlbmRlciIsImludGVyYWN0aW9uIiwibWFrZVJhbmRvbUFycmF5IiwibGVuZ3RoIiwicHJvYmFiaWxpdHkiLCJhcnJheSIsIlVpbnQ4QXJyYXkiLCJpIiwiTWF0aCIsInJhbmRvbSIsInN0YXRlIiwiaW5pdERhdGFMYXllciIsIndpZHRoIiwiaGVpZ2h0IiwidHlwZSIsIm51bUNoYW5uZWxzIiwiZGF0YSIsIm9uUmVzaXplIiwicmVzaXplIiwic2V0VW5pZm9ybSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJub2lzZSIsIlRPVUNIX1JBRElVUyIsImRpc2FibGVab29tIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2NhbGUiLCJib2R5Iiwic3R5bGUiLCJ3ZWJraXRUcmFuc2Zvcm0iLCJtc1RyYW5zZm9ybSIsInRyYW5zZm9ybSIsInN0ZXBDaXJjbGUiLCJjbGllbnRYIiwiY2xpZW50WSIsInRvdWNoZXMiLCJ0b3VjaCIsInBhZ2VYIiwicGFnZVkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdGVwIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwiRGF0YUxheWVyIiwiZ2wiLCJvcHRpb25zIiwiZXJyb3JDYWxsYmFjayIsIm51bUJ1ZmZlcnMiLCJ3cml0YWJsZSIsInRoaXMiLCJidWZmZXJJbmRleCIsImJ1ZmZlcnMiLCJFcnJvciIsImdsSW50ZXJuYWxGb3JtYXQiLCJnbEZvcm1hdCIsImdsVHlwZSIsImluaXRCdWZmZXJzIiwicHJvdG90eXBlIiwiX2EiLCJ0ZXh0dXJlIiwiY3JlYXRlVGV4dHVyZSIsImdldEVycm9yIiwiYmluZFRleHR1cmUiLCJURVhUVVJFXzJEIiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfV1JBUF9TIiwiQ0xBTVBfVE9fRURHRSIsIlRFWFRVUkVfV1JBUF9UIiwiZmlsdGVyIiwiTkVBUkVTVCIsIlRFWFRVUkVfTUlOX0ZJTFRFUiIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsInRleEltYWdlMkQiLCJidWZmZXIiLCJmcmFtZWJ1ZmZlciIsImNyZWF0ZUZyYW1lYnVmZmVyIiwiYmluZEZyYW1lYnVmZmVyIiwiRlJBTUVCVUZGRVIiLCJmcmFtZWJ1ZmZlclRleHR1cmUyRCIsIkNPTE9SX0FUVEFDSE1FTlQwIiwic3RhdHVzXzEiLCJjaGVja0ZyYW1lYnVmZmVyU3RhdHVzIiwiRlJBTUVCVUZGRVJfQ09NUExFVEUiLCJwdXNoIiwiZ2V0Q3VycmVudFN0YXRlVGV4dHVyZSIsImdldExhc3RTdGF0ZVRleHR1cmUiLCJzZXRBc1JlbmRlclRhcmdldCIsImluY3JlbWVudEJ1ZmZlckluZGV4IiwiZGVzdHJveUJ1ZmZlcnMiLCJmb3JFYWNoIiwiZGVsZXRlVGV4dHVyZSIsImRlbGV0ZUZyYW1lYnVmZmVyIiwiZGVzdHJveSIsIkRlZmF1bHRWZXJ0ZXhTaGFkZXJfMSIsIlBhc3NUaHJvdWdoU2hhZGVyXzEiLCJEYXRhTGF5ZXJfMSIsIkdQVVByb2dyYW1fMSIsInV0aWxzXzEiLCJmc1F1YWRQb3NpdGlvbnMiLCJGbG9hdDMyQXJyYXkiLCJib3VuZGFyeVBvc2l0aW9ucyIsInVuaXRDaXJjbGVQb2ludHMiLCJjb3MiLCJQSSIsInNpbiIsImNpcmNsZVBvc2l0aW9ucyIsImNhbnZhc0VsIiwibWVzc2FnZSIsImV4dGVuc2lvbnMiLCJlcnJvclN0YXRlIiwic2hhZGVycyIsInNlbGYiLCJnZXRDb250ZXh0IiwiYW50aWFsaWFzIiwiaXNXZWJHTDIiLCJIQUxGX0ZMT0FUIiwiY29uc29sZSIsImxvZyIsImxvYWRFeHRlbnNpb24iLCJsaW5lYXJGaWx0ZXJFbmFibGVkIiwiZGlzYWJsZSIsIkRFUFRIX1RFU1QiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19BTElHTk1FTlQiLCJkZWZhdWx0VmVydGV4U2hhZGVyIiwiY29tcGlsZVNoYWRlciIsImRlZmF1bHQiLCJWRVJURVhfU0hBREVSIiwicGFzc1Rocm91Z2hQcm9ncmFtIiwicXVhZFBvc2l0aW9uc0J1ZmZlciIsImluaXRWZXJ0ZXhCdWZmZXIiLCJib3VuZGFyeVBvc2l0aW9uc0J1ZmZlciIsImNpcmNsZVBvc2l0aW9uc0J1ZmZlciIsImJpbmRCdWZmZXIiLCJBUlJBWV9CVUZGRVIiLCJtYXhUZXh0dXJlc0luRnJhZ21lbnRTaGFkZXIiLCJnZXRQYXJhbWV0ZXIiLCJNQVhfVEVYVFVSRV9JTUFHRV9VTklUUyIsImNyZWF0ZUJ1ZmZlciIsImJ1ZmZlckRhdGEiLCJTVEFUSUNfRFJBVyIsImV4dGVuc2lvbiIsIm9wdGlvbmFsIiwiZXh0IiwiZ2V0RXh0ZW5zaW9uIiwid2FybiIsImZyYWdtZW50U2hhZGVyU291cmNlIiwidW5pZm9ybXMiLCJHUFVQcm9ncmFtIiwiZ2xUZXh0dXJlUGFyYW1ldGVycyIsImdsTnVtQ2hhbm5lbHMiLCJSRUQiLCJSRyIsIlJHQiIsIlJHQkEiLCJSMTZGIiwiUkcxNkYiLCJSR0IxNkYiLCJSR0JBMTZGIiwiVU5TSUdORURfQllURSIsIlI4IiwiUkc4IiwiUkdCOCIsIlJHQkE4IiwiSEFMRl9GTE9BVF9PRVMiLCJ1bmRlZmluZWQiLCJfYiIsImRhdGFSZXNpemVkIiwiaW1hZ2VTaXplIiwibmV3QXJyYXkiLCJqIiwidmlld3BvcnQiLCJkcmF3U2V0dXAiLCJwcm9ncmFtIiwiZnVsbHNjcmVlblJlbmRlciIsImlucHV0TGF5ZXJzIiwib3V0cHV0TGF5ZXIiLCJpbnB1dFRleHR1cmVzIiwibWFwIiwibGF5ZXIiLCJzZXRPdXRwdXQiLCJ1c2VQcm9ncmFtIiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwiaW5kZXhPZiIsInBvc2l0aW9uTG9jYXRpb24iLCJnZXRBdHRyaWJMb2NhdGlvbiIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJGTE9BVCIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5IiwiZHJhd0FycmF5cyIsIlRSSUFOR0xFX1NUUklQIiwic3RlcEJvdW5kYXJ5Iiwib25lUHgiLCJMSU5FX0xPT1AiLCJzdGVwTm9uQm91bmRhcnkiLCJwb3NpdGlvbiIsInJhZGl1cyIsIlRSSUFOR0xFX0ZBTiIsIk5VTV9TRUdNRU5UU19DSVJDTEUiLCJyZXNldCIsImNvbnN0YW50c18xIiwidmVydGV4U2hhZGVyIiwiX3RoaXMiLCJjcmVhdGVQcm9ncmFtIiwiZnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsInVuaWZvcm0iLCJnZXRQcm9ncmFtSW5mb0xvZyIsInVuaWZvcm1UeXBlRm9yVmFsdWUiLCJGTE9BVF9UWVBFIiwiaXNOYU4iLCJGTE9BVF8xRF9VTklGT1JNIiwiRkxPQVRfMkRfVU5JRk9STSIsIkZMT0FUXzNEX1VOSUZPUk0iLCJGTE9BVF80RF9VTklGT1JNIiwiSU5UX1RZUEUiLCJJTlRfMURfVU5JRk9STSIsIklOVF8yRF9VTklGT1JNIiwiSU5UXzNEX1VOSUZPUk0iLCJJTlRfNERfVU5JRk9STSIsInVuaWZvcm1OYW1lIiwibG9jYXRpb25fMSIsImdldFVuaWZvcm1Mb2NhdGlvbiIsImxvY2F0aW9uIiwidW5pZm9ybTFmIiwidW5pZm9ybTJmdiIsInVuaWZvcm0zZnYiLCJ1bmlmb3JtNGZ2IiwidW5pZm9ybTFpIiwidW5pZm9ybTJpdiIsInVuaWZvcm0zaXYiLCJ1bmlmb3JtNGl2IiwiZGVsZXRlUHJvZ3JhbSIsImRlbGV0ZVNoYWRlciIsIlNpbmdsZUNvbG9yRnJhZ1NoYWRlciIsIkdQR1BVXzEiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiU2luZ2xlQ29sb3JGcmFnU2hhZGVyXzEiLCJzaGFkZXJTb3VyY2UiLCJzaGFkZXJUeXBlIiwic2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJtYXBwaW5ncyI6IndDQUFBLGFBQ01BLEVBQWtCLEVBQVEsS0FDMUJDLEVBQXFCLEVBQVEsS0FDN0JDLEVBQTBCLEVBQVEsS0FFbENDLEVBQVNDLFNBQVNDLGVBQWUsWUFDakNDLEVBQVEsSUFBSSxFQUFBQyxNQUFNLEtBQU1KLEdBR3hCSyxFQUFNRixFQUFNRyxZQUFZLE1BQU9ULEVBQWlCLENBQ3JELENBQ0NVLEtBQU0sVUFDTkMsTUFBTyxFQUNQQyxTQUFVLE9BRVgsQ0FDQ0YsS0FBTSxXQUNOQyxNQUFPLENBQUMsRUFBSVIsRUFBT1UsWUFBYSxFQUFJVixFQUFPVyxjQUMzQ0YsU0FBVSxXQUdORyxFQUFTVCxFQUFNRyxZQUFZLFNBQVVSLEVBQW9CLENBQzlELENBQ0NTLEtBQU0sVUFDTkMsTUFBTyxFQUNQQyxTQUFVLFNBR05JLEVBQWNWLEVBQU1HLFlBQVksY0FBZVAsRUFBeUIsQ0FDN0UsQ0FDQ1EsS0FBTSxnQkFDTkMsTUFBTyxFQUNQQyxTQUFVLFNBS1osU0FBU0ssRUFBZ0JDLEVBQWdCQyxRQUFBLElBQUFBLE1BQUEsSUFFeEMsSUFEQSxJQUFNQyxFQUFRLElBQUlDLFdBQVdILEdBQ3BCSSxFQUFJLEVBQUcsRUFBU0YsRUFBTUYsT0FBUUksRUFBSSxFQUFRQSxJQUNsREYsRUFBTUUsR0FBS0MsS0FBS0MsU0FBV0wsRUFBYyxJQUFNLEVBRWhELE9BQU9DLEVBSVIsSUFBTUssRUFBUW5CLEVBQU1vQixjQUFjLFFBQVMsQ0FDMUNDLE1BQU94QixFQUFPVSxZQUNkZSxPQUFRekIsRUFB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S0wxTSxFQUFHd00sYUFBYUUsRUFBUUYsR0FFeEJ4TSxFQUFHaUYsY0FBY3lILEdBRUgxTSxFQUFHNE0sbUJBQW1CRixFQUFRMU0sRUFBRzZNLGdCQU14Q0gsR0FISHhNLEVBQWMsc0JBQXdCdU0sSUFBZXpNLEVBQUdrSyxnQkFBa0IsV0FBYSxVQUFZLG9CQUFzQmxLLEVBQUc4TSxpQkFBaUJKLElBQ3RJLFFBWlB4TSxFQUFjLDZCQUNQLFEsUUNUZjZNLEVBQU9qTixRQUFVLHdwQixRQ0FqQmlOLEVBQU9qTixRQUFVLDRNLFFDQWpCaU4sRUFBT2pOLFFBQVUsdU5DQ2JrTixFQUEyQixJQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVcE4sUUFHM0MsSUFBSWlOLEVBQVNDLEVBQXlCRSxHQUFZLENBR2pEcE4sUUFBUyxJQU9WLE9BSEFxTixFQUFvQkQsR0FBVUgsRUFBUUEsRUFBT2pOLFFBQVNtTixHQUcvQ0YsRUFBT2pOLFFDbEJmbU4sQ0FBb0IsTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR1BHUFUgfSBmcm9tICd3ZWJnbC1ncGdwdSc7XG5jb25zdCBnb2xTaGFkZXJTb3VyY2UgPSByZXF1aXJlKCcuL2tlcm5lbHMvR09MU2hhZGVyLmdsc2wnKTtcbmNvbnN0IHJlbmRlclNoYWRlclNvdXJjZSA9IHJlcXVpcmUoJy4va2VybmVscy9SZW5kZXJTaGFkZXIuZ2xzbCcpO1xuY29uc3QgaW50ZXJhY3Rpb25TaGFkZXJTb3VyY2UgPSByZXF1aXJlKCcuL2tlcm5lbHMvSW50ZXJhY3Rpb25TaGFkZXIuZ2xzbCcpO1xuXG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2xjYW52YXMnKSAgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5jb25zdCBncGdwdSA9IG5ldyBHUEdQVShudWxsLCBjYW52YXMpO1xuXG4vLyBJbml0IHByb2dyYW1zLlxuY29uc3QgZ29sID0gZ3BncHUuaW5pdFByb2dyYW0oJ2dvbCcsIGdvbFNoYWRlclNvdXJjZSwgW1xuXHR7XG5cdFx0bmFtZTogJ3Vfc3RhdGUnLFxuXHRcdHZhbHVlOiAwLFxuXHRcdGRhdGFUeXBlOiAnSU5UJyxcblx0fSxcblx0e1xuXHRcdG5hbWU6ICd1X3B4U2l6ZScsXG5cdFx0dmFsdWU6IFsxIC8gY2FudmFzLmNsaWVudFdpZHRoLCAxIC8gY2FudmFzLmNsaWVudEhlaWdodF0sXG5cdFx0ZGF0YVR5cGU6ICdGTE9BVCcsXG5cdH0sXG5dKTtcbmNvbnN0IHJlbmRlciA9IGdwZ3B1LmluaXRQcm9ncmFtKCdyZW5kZXInLCByZW5kZXJTaGFkZXJTb3VyY2UsIFtcblx0e1xuXHRcdG5hbWU6ICd1X3N0YXRlJyxcblx0XHR2YWx1ZTogMCxcblx0XHRkYXRhVHlwZTogJ0lOVCcsXG5cdH0sXG5dKTtcbmNvbnN0IGludGVyYWN0aW9uID0gZ3BncHUuaW5pdFByb2dyYW0oJ2ludGVyYWN0aW9uJywgaW50ZXJhY3Rpb25TaGFkZXJTb3VyY2UsIFtcblx0e1xuXHRcdG5hbWU6ICd1X25vaXNlTG9va3VwJyxcblx0XHR2YWx1ZTogMCxcblx0XHRkYXRhVHlwZTogJ0lOVCcsXG5cdH0sXG5dKTtcblxuLy8gTWFrZSBhIHJhbmRvbSBhcnJheSBvZiAxJ3MgYW5kIDAncy5cbmZ1bmN0aW9uIG1ha2VSYW5kb21BcnJheShsZW5ndGg6IG51bWJlciwgcHJvYmFiaWxpdHkgPSAwLjEpIHtcblx0Y29uc3QgYXJyYXkgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuXHRmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRhcnJheVtpXSA9IE1hdGgucmFuZG9tKCkgPCBwcm9iYWJpbGl0eSA/IDI1NSA6IDA7XG5cdH1cblx0cmV0dXJuIGFycmF5O1xufVxuXG4vLyBJbml0IHN0YXRlLlxuY29uc3Qgc3RhdGUgPSBncGdwdS5pbml0RGF0YUxheWVyKCdzdGF0ZScsIHtcblx0d2lkdGg6IGNhbnZhcy5jbGllbnRXaWR0aCxcblx0aGVpZ2h0OiBjYW52YXMuY2xpZW50SGVpZ2h0LFxuXHR0eXBlOiAndWludDgnLFxuXHRudW1DaGFubmVsczogMSxcblx0ZGF0YTogbWFrZVJhbmRvbUFycmF5KGNhbnZhcy5jbGllbnRXaWR0aCAqIGNhbnZhcy5jbGllbnRIZWlnaHQpLFxufSwgdHJ1ZSwgMik7IC8vIFVzZSB0d28gYnVmZmVycywgb25lIGZvciB0aGlzIHN0YXRlLCBvbmUgZm9yIGxhc3Qgc3RhdGUuXG5vblJlc2l6ZSgpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplKTtcbmZ1bmN0aW9uIG9uUmVzaXplKCkge1xuXHQvLyBSZS1pbml0IHRleHR1cmVzIGF0IG5ldyBzaXplLlxuXHRjb25zdCB3aWR0aCA9IGNhbnZhcy5jbGllbnRXaWR0aDtcblx0Y29uc3QgaGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcblx0c3RhdGUucmVzaXplKHdpZHRoLCBoZWlnaHQsIG1ha2VSYW5kb21BcnJheSh3aWR0aCAqIGhlaWdodCkpO1xuXHRnb2wuc2V0VW5pZm9ybSgndV9weFNpemUnLCBbMSAvIHdpZHRoLCAxIC8gaGVpZ2h0XSwgJ0ZMT0FUJyk7XG5cdGdwZ3B1Lm9uUmVzaXplKGNhbnZhcyk7XG59XG5cbi8vIFNldCB1cCBpbnRlcmFjdGlvbnMuXG5jb25zdCBUT1VDSF9SQURJVVMgPSAxMDtcbi8vIENyZWF0ZSBhIGxvb2t1cCB0ZXh0dXJlIGZvciBhZGRpbmcgbm9pc2Ugb24gaW50ZXJhY3Rpb24uXG5jb25zdCBub2lzZSA9IGdwZ3B1LmluaXREYXRhTGF5ZXIoJ25vaXNlJyxcblx0e1xuXHRcdHdpZHRoOiBUT1VDSF9SQURJVVMgKiAyLFxuXHRcdGhlaWdodDogVE9VQ0hfUkFESVVTICogMixcblx0XHR0eXBlOiAndWludDgnLFxuXHRcdG51bUNoYW5uZWxzOiAxLFxuXHRcdGRhdGE6IG1ha2VSYW5kb21BcnJheSg0ICogVE9VQ0hfUkFESVVTICogVE9VQ0hfUkFESVVTLCAwLjUpLFxuXHR9LFxuKTtcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZTogTW91c2VFdmVudCkgPT4ge1xuXHRncGdwdS5zdGVwQ2lyY2xlKGludGVyYWN0aW9uLCBbZS5jbGllbnRYLCBlLmNsaWVudFldLCBUT1VDSF9SQURJVVMsIFtub2lzZV0sIHN0YXRlKTtcbn0pO1xuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIChlOiBUb3VjaEV2ZW50KSA9PiB7XG5cdGUucHJldmVudERlZmF1bHQoKTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlLnRvdWNoZXMubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCB0b3VjaCA9IGUudG91Y2hlc1tpXTtcblx0XHRncGdwdS5zdGVwQ2lyY2xlKGludGVyYWN0aW9uLCBbdG91Y2gucGFnZVgsIHRvdWNoLnBhZ2VZXSwgVE9VQ0hfUkFESVVTLCBbbm9pc2VdLCBzdGF0ZSk7XG5cdH1cbn0pO1xuLy8gRGlzYWJsZSBvdGhlciBnZXN0dXJlcy5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVzdGFydCcsIGRpc2FibGVab29tKTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVjaGFuZ2UnLCBkaXNhYmxlWm9vbSk7IFxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZ2VzdHVyZWVuZCcsIGRpc2FibGVab29tKTtcbmZ1bmN0aW9uIGRpc2FibGVab29tKGU6IEV2ZW50KSB7XG5cdGUucHJldmVudERlZmF1bHQoKTtcblx0Y29uc3Qgc2NhbGUgPSAnc2NhbGUoMSknO1xuXHQvLyBAdHMtaWdub3JlXG5cdGRvY3VtZW50LmJvZHkuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gIHNjYWxlOyAgICAvLyBDaHJvbWUsIE9wZXJhLCBTYWZhcmlcblx0Ly8gQHRzLWlnbm9yZVxuXHRkb2N1bWVudC5ib2R5LnN0eWxlLm1zVHJhbnNmb3JtID0gICBzY2FsZTsgICAgICAgLy8gSUUgOVxuXHRkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybSA9IHNjYWxlO1xufVxuXG4vLyBTdGFydCByZW5kZXIgbG9vcC5cbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG5mdW5jdGlvbiBzdGVwKCkge1xuXHQvLyBDb21wdXRlIHJ1bGVzLlxuXHRncGdwdS5zdGVwKGdvbCwgW3N0YXRlXSwgc3RhdGUpO1xuXHQvLyBSZW5kZXIgY3VycmVudCBzdGF0ZS5cblx0Z3BncHUuc3RlcChyZW5kZXIsIFtzdGF0ZV0pO1xuXHQvLyBTdGFydCBhIG5ldyByZW5kZXIgY3ljbGUuXG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRhdGFMYXllciA9IHZvaWQgMDtcbnZhciBEYXRhTGF5ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGF0YUxheWVyKG5hbWUsIGdsLCBvcHRpb25zLCBlcnJvckNhbGxiYWNrLCBudW1CdWZmZXJzLCB3cml0YWJsZSkge1xuICAgICAgICB0aGlzLmJ1ZmZlckluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gW107XG4gICAgICAgIC8vIFNhdmUgcGFyYW1zLlxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjayA9IGVycm9yQ2FsbGJhY2s7XG4gICAgICAgIGlmIChudW1CdWZmZXJzIDwgMCB8fCBudW1CdWZmZXJzICUgMSAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBudW1CdWZmZXJzOiBcIiArIG51bUJ1ZmZlcnMgKyBcIiBmb3IgRGF0YUxheWVyIFwiICsgdGhpcy5uYW1lICsgXCIsIG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5udW1CdWZmZXJzID0gbnVtQnVmZmVycztcbiAgICAgICAgLy8gU2F2ZSBvcHRpb25zLlxuICAgICAgICB0aGlzLndpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgdGhpcy5nbEludGVybmFsRm9ybWF0ID0gb3B0aW9ucy5nbEludGVybmFsRm9ybWF0O1xuICAgICAgICB0aGlzLmdsRm9ybWF0ID0gb3B0aW9ucy5nbEZvcm1hdDtcbiAgICAgICAgdGhpcy5nbFR5cGUgPSBvcHRpb25zLmdsVHlwZTtcbiAgICAgICAgdGhpcy53cml0YWJsZSA9IHdyaXRhYmxlO1xuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKG9wdGlvbnMuZGF0YSk7XG4gICAgfVxuICAgIERhdGFMYXllci5wcm90b3R5cGUuaW5pdEJ1ZmZlcnMgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBudW1CdWZmZXJzID0gX2EubnVtQnVmZmVycywgZ2wgPSBfYS5nbCwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0LCBnbEludGVybmFsRm9ybWF0ID0gX2EuZ2xJbnRlcm5hbEZvcm1hdCwgZ2xGb3JtYXQgPSBfYS5nbEZvcm1hdCwgZ2xUeXBlID0gX2EuZ2xUeXBlLCB3cml0YWJsZSA9IF9hLndyaXRhYmxlLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaztcbiAgICAgICAgLy8gSW5pdCBhIHRleHR1cmUgZm9yIGVhY2ggYnVmZmVyLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUJ1ZmZlcnM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiQ291bGQgbm90IGluaXQgdGV4dHVyZSBmb3IgRGF0YUxheWVyIFwiICsgdGhpcy5uYW1lICsgXCI6IFwiICsgZ2wuZ2V0RXJyb3IoKSArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICAgICAgICAgIC8vIFRPRE86IGRpZyBpbnRvIHRoaXMuXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9IGdsLk5FQVJFU1Q7IC8vdGhpcy5saW5lYXJGaWx0ZXJFbmFibGVkID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVDtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBmaWx0ZXIpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGZpbHRlcik7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsSW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIDAsIGdsRm9ybWF0LCBnbFR5cGUsIGRhdGEgPyBkYXRhIDogbnVsbCk7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0ge1xuICAgICAgICAgICAgICAgIHRleHR1cmU6IHRleHR1cmUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHdyaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgLy8gSW5pdCBhIGZyYW1lYnVmZmVyIGZvciB0aGlzIHRleHR1cmUgc28gd2UgY2FuIHdyaXRlIHRvIGl0LlxuICAgICAgICAgICAgICAgIHZhciBmcmFtZWJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiQ291bGQgbm90IGluaXQgZnJhbWVidWZmZXIgZm9yIERhdGFMYXllciBcIiArIHRoaXMubmFtZSArIFwiOiBcIiArIGdsLmdldEVycm9yKCkgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMUmVuZGVyaW5nQ29udGV4dC9mcmFtZWJ1ZmZlclRleHR1cmUyRFxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSwgMCk7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXR1c18xID0gZ2wuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhnbC5GUkFNRUJVRkZFUik7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c18xICE9IGdsLkZSQU1FQlVGRkVSX0NPTVBMRVRFKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJJbnZhbGlkIHN0YXR1cyBmb3IgZnJhbWVidWZmZXIgZm9yIERhdGFMYXllciBcIiArIHRoaXMubmFtZSArIFwiOiBcIiArIHN0YXR1c18xICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBZGQgZnJhbWVidWZmZXIuXG4gICAgICAgICAgICAgICAgYnVmZmVyLmZyYW1lYnVmZmVyID0gZnJhbWVidWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTYXZlIHRoaXMgYnVmZmVyIHRvIHRoZSBsaXN0LlxuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5nZXRDdXJyZW50U3RhdGVUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzW3RoaXMuYnVmZmVySW5kZXhdLnRleHR1cmU7XG4gICAgfTtcbiAgICBEYXRhTGF5ZXIucHJvdG90eXBlLmdldExhc3RTdGF0ZVRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm51bUJ1ZmZlcnMgPT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbGxpbmcgZ2V0TGFzdFN0YXRlIG9uIERhdGFMYXllciBcIiArIHRoaXMubmFtZSArIFwiIHdpdGggMSBidWZmZXIsIG5vIGxhc3Qgc3RhdGUgYXZhaWxhYmxlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzW3RoaXMuYnVmZmVySW5kZXhdLnRleHR1cmU7XG4gICAgfTtcbiAgICBEYXRhTGF5ZXIucHJvdG90eXBlLnNldEFzUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gKGluY3JlbWVudEJ1ZmZlckluZGV4KSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIGlmIChpbmNyZW1lbnRCdWZmZXJJbmRleCkge1xuICAgICAgICAgICAgLy8gSW5jcmVtZW50IGJ1ZmZlckluZGV4LlxuICAgICAgICAgICAgdGhpcy5idWZmZXJJbmRleCA9ICh0aGlzLmJ1ZmZlckluZGV4ICsgMSkgJSB0aGlzLm51bUJ1ZmZlcnM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZyYW1lYnVmZmVyID0gdGhpcy5idWZmZXJzW3RoaXMuYnVmZmVySW5kZXhdLmZyYW1lYnVmZmVyO1xuICAgICAgICBpZiAoIWZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhTGF5ZXIgXCIgKyB0aGlzLm5hbWUgKyBcIiBpcyBub3Qgd3JpdGFibGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVidWZmZXIpO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCwgZGF0YSkge1xuICAgICAgICB0aGlzLmRlc3Ryb3lCdWZmZXJzKCk7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuaW5pdEJ1ZmZlcnMoZGF0YSk7XG4gICAgfTtcbiAgICBEYXRhTGF5ZXIucHJvdG90eXBlLmRlc3Ryb3lCdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBidWZmZXJzID0gX2EuYnVmZmVycztcbiAgICAgICAgYnVmZmVycy5mb3JFYWNoKGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgICAgIHZhciBmcmFtZWJ1ZmZlciA9IGJ1ZmZlci5mcmFtZWJ1ZmZlciwgdGV4dHVyZSA9IGJ1ZmZlci50ZXh0dXJlO1xuICAgICAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgIGlmIChmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU7XG4gICAgICAgICAgICBkZWxldGUgYnVmZmVyLnRleHR1cmU7XG4gICAgICAgICAgICBkZWxldGUgYnVmZmVyLmZyYW1lYnVmZmVyO1xuICAgICAgICB9KTtcbiAgICAgICAgYnVmZmVycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3lCdWZmZXJzKCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmU7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmdsO1xuICAgIH07XG4gICAgcmV0dXJuIERhdGFMYXllcjtcbn0oKSk7XG5leHBvcnRzLkRhdGFMYXllciA9IERhdGFMYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURhdGFMYXllci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR1BHUFUgPSB2b2lkIDA7XG52YXIgRGVmYXVsdFZlcnRleFNoYWRlcl8xID0gcmVxdWlyZShcIi4va2VybmVscy9EZWZhdWx0VmVydGV4U2hhZGVyXCIpO1xudmFyIFBhc3NUaHJvdWdoU2hhZGVyXzEgPSByZXF1aXJlKFwiLi9rZXJuZWxzL1Bhc3NUaHJvdWdoU2hhZGVyXCIpO1xudmFyIERhdGFMYXllcl8xID0gcmVxdWlyZShcIi4vRGF0YUxheWVyXCIpO1xudmFyIEdQVVByb2dyYW1fMSA9IHJlcXVpcmUoXCIuL0dQVVByb2dyYW1cIik7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIGZzUXVhZFBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoWy0xLCAtMSwgMSwgLTEsIC0xLCAxLCAxLCAxXSk7XG52YXIgYm91bmRhcnlQb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KFstMSwgLTEsIDEsIC0xLCAxLCAxLCAtMSwgMV0pO1xudmFyIHVuaXRDaXJjbGVQb2ludHMgPSBbMCwgMF07XG52YXIgTlVNX1NFR01FTlRTX0NJUkNMRSA9IDIwO1xuZm9yICh2YXIgaSA9IDA7IGkgPD0gTlVNX1NFR01FTlRTX0NJUkNMRTsgaSsrKSB7XG4gICAgdW5pdENpcmNsZVBvaW50cy5wdXNoKE1hdGguY29zKDIgKiBNYXRoLlBJICogaSAvIE5VTV9TRUdNRU5UU19DSVJDTEUpLCBNYXRoLnNpbigyICogTWF0aC5QSSAqIGkgLyBOVU1fU0VHTUVOVFNfQ0lSQ0xFKSk7XG59XG52YXIgY2lyY2xlUG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheSh1bml0Q2lyY2xlUG9pbnRzKTtcbi8vIFN0b3JlIGV4dGVuc2lvbiBuYW1lcyBhcyBjb25zdGFudHMuXG52YXIgT0VTX1RFWFRVUkVfSEFMRl9GTE9BVCA9ICdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0JztcbnZhciBPRVNfVEVYVFVSRV9IQWxGX0ZMT0FUX0xJTkVBUiA9ICdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhcic7XG52YXIgRVhUX0NPTE9SX0JVRkZFUl9GTE9BVCA9ICdFWFRfY29sb3JfYnVmZmVyX2Zsb2F0JztcbnZhciBHUEdQVSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHUEdQVShnbCwgY2FudmFzRWwsIFxuICAgIC8vIE9wdGlvbmFsbHkgcGFzcyBpbiBhbiBlcnJvciBjYWxsYmFjayBpbiBjYXNlIHdlIHdhbnQgdG8gaGFuZGxlIGVycm9ycyByZWxhdGVkIHRvIHdlYmdsIHN1cHBvcnQuXG4gICAgLy8gZS5nLiB0aHJvdyB1cCBhIG1vZGFsIHRlbGxpbmcgdXNlciB0aGlzIHdpbGwgbm90IHdvcmsgb24gdGhlaXIgZGV2aWNlLlxuICAgIGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2sgPT09IHZvaWQgMCkgeyBlcnJvckNhbGxiYWNrID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpOyB9OyB9XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9ucyA9IHt9O1xuICAgICAgICB0aGlzLmVycm9yU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zaGFkZXJzID0gW107IC8vIEtlZXAgdHJhY2sgb2YgYWxsIHNoYWRlcnMgaW5pdGVkIHNvIHRoZXkgY2FuIGJlIHByb3Blcmx5IGRlYWxsb2NhdGVkLlxuICAgICAgICAvLyBTYXZlIGNhbGxiYWNrIGluIGNhc2Ugd2UgcnVuIGludG8gYW4gZXJyb3IuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5lcnJvckNhbGxiYWNrID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmVycm9yU3RhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLmVycm9yU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2spXG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhtZXNzYWdlKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSW5pdCBHTC5cbiAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgLy8gSW5pdCBhIGdsIGNvbnRleHQgaWYgbm90IHBhc3NlZCBpbi5cbiAgICAgICAgICAgIGdsID0gY2FudmFzRWwuZ2V0Q29udGV4dCgnd2ViZ2wyJywgeyBhbnRpYWxpYXM6IGZhbHNlIH0pXG4gICAgICAgICAgICAgICAgfHwgY2FudmFzRWwuZ2V0Q29udGV4dCgnd2ViZ2wnLCB7IGFudGlhbGlhczogZmFsc2UgfSk7XG4gICAgICAgICAgICAvLyB8fCBjYW52YXNFbC5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCB7YW50aWFsaWFzOmZhbHNlfSkgYXMgUmVuZGVyaW5nQ29udGV4dDtcbiAgICAgICAgICAgIGlmIChnbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjaygnVW5hYmxlIHRvIGluaXRpYWxpemUgV2ViR0wgY29udGV4dC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1dlYkdMMiA9ICEhZ2wuSEFMRl9GTE9BVDtcbiAgICAgICAgaWYgKHRoaXMuaXNXZWJHTDIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBXZWJHTCAyLjAgY29udGV4dC4nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBXZWJHTCAxLjAgY29udGV4dC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIC8vIEdMIHNldHVwLlxuICAgICAgICAvLyBMb2FkIGV4dGVuc2lvbnMuXG4gICAgICAgIC8vIFRPRE86IGxvYWQgdGhlc2UgZXh0ZW5zaW9ucyBhcyBuZWVkZWQuXG4gICAgICAgIGlmICh0aGlzLmlzV2ViR0wyKSB7XG4gICAgICAgICAgICAvLyBFWFRfQ09MT1JfQlVGRkVSX0ZMT0FUIGFkZHMgYWJpbGl0eSB0byByZW5kZXIgdG8gYSB2YXJpZXR5IG9mIGZsb2F0aW5nIHB0IHRleHR1cmVzLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VYVF9jb2xvcl9idWZmZXJfZmxvYXRcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM0MjYyNDkzL2ZyYW1lYnVmZmVyLWluY29tcGxldGUtYXR0YWNobWVudC1mb3ItdGV4dHVyZS13aXRoLWludGVybmFsLWZvcm1hdFxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzYxMDkzNDcvZnJhbWVidWZmZXItaW5jb21wbGV0ZS1hdHRhY2htZW50LW9ubHktaGFwcGVucy1vbi1hbmRyb2lkLXctZmlyZWZveFxuICAgICAgICAgICAgdGhpcy5sb2FkRXh0ZW5zaW9uKEVYVF9DT0xPUl9CVUZGRVJfRkxPQVQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL09FU190ZXh0dXJlX2hhbGZfZmxvYXRcbiAgICAgICAgICAgIC8vIEhhbGYgZmxvYXQgaXMgc3VwcG9ydGVkIGJ5IG1vZGVybiBtb2JpbGUgYnJvd3NlcnMsIGZsb2F0IG5vdCB5ZXQgc3VwcG9ydGVkLlxuICAgICAgICAgICAgLy8gSGFsZiBmbG9hdCBpcyBwcm92aWRlZCBieSBkZWZhdWx0IGZvciBXZWJnbDIgY29udGV4dHMuXG4gICAgICAgICAgICAvLyBUaGlzIGV4dGVuc2lvbiBpbXBsaWNpdGx5IGVuYWJsZXMgdGhlIEVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdCBleHRlbnNpb24gKGlmIHN1cHBvcnRlZCksIHdoaWNoIGFsbG93cyByZW5kZXJpbmcgdG8gMTYtYml0IGZsb2F0aW5nIHBvaW50IGZvcm1hdHMuXG4gICAgICAgICAgICB0aGlzLmxvYWRFeHRlbnNpb24oT0VTX1RFWFRVUkVfSEFMRl9GTE9BVCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTG9hZCBvcHRpb25hbCBleHRlbnNpb25zLlxuICAgICAgICAvLyBUT0RPOiBuZWVkIHRoaXMgZm9yIHdlYmdsMj9cbiAgICAgICAgdGhpcy5saW5lYXJGaWx0ZXJFbmFibGVkID0gdGhpcy5sb2FkRXh0ZW5zaW9uKE9FU19URVhUVVJFX0hBbEZfRkxPQVRfTElORUFSLCB0cnVlKTtcbiAgICAgICAgLy8gRGlzYWJsZSBkZXB0aCB0ZXN0aW5nIGdsb2JhbGx5LlxuICAgICAgICBnbC5kaXNhYmxlKGdsLkRFUFRIX1RFU1QpO1xuICAgICAgICAvLyBTZXQgdW5wYWNrIGFsaWdubWVudCB0byAxIHNvIHdlIGNhbiBoYXZlIHRleHR1cmVzIG9mIGFyYml0cmFyeSBkaW1lbnNpb25zLlxuICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MTU4MjI4Mi9lcnJvci13aGVuLWNyZWF0aW5nLXRleHR1cmVzLWluLXdlYmdsLXdpdGgtdGhlLXJnYi1mb3JtYXRcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0FMSUdOTUVOVCwgMSk7XG4gICAgICAgIC8vIEluaXQgYSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgdGhhdCBqdXN0IHBhc3NlcyB0aHJvdWdoIHNjcmVlbiBjb29yZHMuXG4gICAgICAgIHZhciBkZWZhdWx0VmVydGV4U2hhZGVyID0gdXRpbHNfMS5jb21waWxlU2hhZGVyKGdsLCB0aGlzLmVycm9yQ2FsbGJhY2ssIERlZmF1bHRWZXJ0ZXhTaGFkZXJfMS5kZWZhdWx0LCBnbC5WRVJURVhfU0hBREVSKTtcbiAgICAgICAgaWYgKCFkZWZhdWx0VmVydGV4U2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yQ2FsbGJhY2soJ1VuYWJsZSB0byBpbml0aWFsaXplIGZ1bGxzY3JlZW4gcXVhZCB2ZXJ0ZXggc2hhZGVyLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVmYXVsdFZlcnRleFNoYWRlciA9IGRlZmF1bHRWZXJ0ZXhTaGFkZXI7XG4gICAgICAgIC8vIEluaXQgYSBwcm9ncmFtIHRvIHBhc3MgdmFsdWVzIGZyb20gb25lIHRleHR1cmUgdG8gYW5vdGhlci5cbiAgICAgICAgdGhpcy5wYXNzVGhyb3VnaFByb2dyYW0gPSB0aGlzLmluaXRQcm9ncmFtKCdwYXNzVGhyb3VnaCcsIFBhc3NUaHJvdWdoU2hhZGVyXzEuZGVmYXVsdCwgW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICd1X3N0YXRlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ0lOVCcsXG4gICAgICAgICAgICB9XG4gICAgICAgIF0pO1xuICAgICAgICAvLyBDcmVhdGUgdmVydGV4IGJ1ZmZlcnMuXG4gICAgICAgIHRoaXMucXVhZFBvc2l0aW9uc0J1ZmZlciA9IHRoaXMuaW5pdFZlcnRleEJ1ZmZlcihmc1F1YWRQb3NpdGlvbnMpO1xuICAgICAgICB0aGlzLmJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyID0gdGhpcy5pbml0VmVydGV4QnVmZmVyKGJvdW5kYXJ5UG9zaXRpb25zKTtcbiAgICAgICAgdGhpcy5jaXJjbGVQb3NpdGlvbnNCdWZmZXIgPSB0aGlzLmluaXRWZXJ0ZXhCdWZmZXIoY2lyY2xlUG9zaXRpb25zKTtcbiAgICAgICAgLy8gVW5iaW5kIGFjdGl2ZSBidWZmZXIuXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgICAgICAgLy8gQ2FudmFzIHNldHVwLlxuICAgICAgICB0aGlzLm9uUmVzaXplKGNhbnZhc0VsKTtcbiAgICAgICAgLy8gTG9nIG51bWJlciBvZiB0ZXh0dXJlcyBhdmFpbGFibGUuXG4gICAgICAgIHZhciBtYXhUZXh0dXJlc0luRnJhZ21lbnRTaGFkZXIgPSB0aGlzLmdsLmdldFBhcmFtZXRlcih0aGlzLmdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKTtcbiAgICAgICAgY29uc29sZS5sb2cobWF4VGV4dHVyZXNJbkZyYWdtZW50U2hhZGVyICsgXCIgdGV4dHVyZXMgbWF4LlwiKTtcbiAgICB9XG4gICAgR1BHUFUucHJvdG90eXBlLmluaXRWZXJ0ZXhCdWZmZXIgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaywgZ2wgPSBfYS5nbDtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICBpZiAoIWJ1ZmZlcikge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjaygnVW5hYmxlIHRvIGFsbG9jYXRlIGdsIGJ1ZmZlci4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYnVmZmVyKTtcbiAgICAgICAgLy8gQWRkIHZlcnRleCBkYXRhIGZvciBkcmF3aW5nIGZ1bGwgc2NyZWVuIHF1YWQgdmlhIHRyaWFuZ2xlIHN0cmlwLlxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgZGF0YSwgZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH07XG4gICAgR1BHUFUucHJvdG90eXBlLmxvYWRFeHRlbnNpb24gPSBmdW5jdGlvbiAoZXh0ZW5zaW9uLCBvcHRpb25hbCkge1xuICAgICAgICBpZiAob3B0aW9uYWwgPT09IHZvaWQgMCkgeyBvcHRpb25hbCA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGV4dGVuc2lvbnMgPSBfYS5leHRlbnNpb25zLCBnbCA9IF9hLmdsLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaztcbiAgICAgICAgdmFyIGV4dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4dCA9IGdsLmdldEV4dGVuc2lvbihleHRlbnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgaWYgKGV4dCkge1xuICAgICAgICAgICAgZXh0ZW5zaW9uc1tleHRlbnNpb25dID0gZXh0O1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgZXh0ZW5zaW9uOiBcIiArIGV4dGVuc2lvbiArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVuc3VwcG9ydGVkIFwiICsgKG9wdGlvbmFsID8gJ29wdGlvbmFsICcgOiAnJykgKyBcImV4dGVuc2lvbjogXCIgKyBleHRlbnNpb24gKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIGV4dGVuc2lvbiBpcyBub3Qgb3B0aW9uYWwsIHRocm93IGVycm9yLlxuICAgICAgICBpZiAoIWV4dCAmJiAhb3B0aW9uYWwpIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJSZXF1aXJlZCBleHRlbnNpb24gdW5zdXBwb3J0ZWQgYnkgdGhpcyBkZXZpY2UgLyBicm93c2VyOiBcIiArIGV4dGVuc2lvbiArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gISFleHQ7XG4gICAgfTtcbiAgICBHUEdQVS5wcm90b3R5cGUuaW5pdFByb2dyYW0gPSBmdW5jdGlvbiAobmFtZSwgZnJhZ21lbnRTaGFkZXJTb3VyY2UsIHVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrO1xuICAgICAgICAvLyBMb2FkIGZ1bGxzY3JlZW4gcXVhZCB2ZXJ0ZXggc2hhZGVyIGJ5IGRlZmF1bHQuXG4gICAgICAgIC8vIGNvbnN0IHZlcnRleFNoYWRlciA9IHZlcnRleFNoYWRlclNvdXJjZSA/XG4gICAgICAgIC8vIFx0dGhpcy5jb21waWxlU2hhZGVyKHZlcnRleFNoYWRlclNvdXJjZSwgZ2wuVkVSVEVYX1NIQURFUikgOlxuICAgICAgICAvLyBcdHRoaXMuZnNRdWFkVmVydGV4U2hhZGVyO1xuICAgICAgICB2YXIgdmVydGV4U2hhZGVyID0gdGhpcy5kZWZhdWx0VmVydGV4U2hhZGVyO1xuICAgICAgICByZXR1cm4gbmV3IEdQVVByb2dyYW1fMS5HUFVQcm9ncmFtKG5hbWUsIGdsLCBlcnJvckNhbGxiYWNrLCB0aGlzLmRlZmF1bHRWZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyU291cmNlLCB1bmlmb3Jtcyk7XG4gICAgfTtcbiAgICA7XG4gICAgR1BHUFUucHJvdG90eXBlLmdsVGV4dHVyZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiAobnVtQ2hhbm5lbHMsIHR5cGUsIHdyaXRhYmxlKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vd3d3Lmtocm9ub3Mub3JnL3JlZ2lzdHJ5L3dlYmdsL3NwZWNzL2xhdGVzdC8yLjAvI1RFWFRVUkVfVFlQRVNfRk9STUFUU19GUk9NX0RPTV9FTEVNRU5UU19UQUJMRVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBpc1dlYkdMMiA9IF9hLmlzV2ViR0wyLCBleHRlbnNpb25zID0gX2EuZXh0ZW5zaW9ucztcbiAgICAgICAgdmFyIGdsVHlwZSwgZ2xGb3JtYXQsIGdsSW50ZXJuYWxGb3JtYXQsIGdsTnVtQ2hhbm5lbHM7XG4gICAgICAgIGlmIChpc1dlYkdMMikge1xuICAgICAgICAgICAgZ2xOdW1DaGFubmVscyA9IG51bUNoYW5uZWxzO1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly93d3cua2hyb25vcy5vcmcvcmVnaXN0cnkvd2ViZ2wvZXh0ZW5zaW9ucy9FWFRfY29sb3JfYnVmZmVyX2Zsb2F0L1xuICAgICAgICAgICAgLy8gVGhlIHNpemVkIGludGVybmFsIGZvcm1hdCBSR0IxNkYgaXMgbm90IGNvbG9yLXJlbmRlcmFibGUgZm9yIHNvbWUgcmVhc29uLlxuICAgICAgICAgICAgLy8gSWYgbnVtQ2hhbm5lbHMgPT0gMyBmb3IgYSB3cml0YWJsZSB0ZXh0dXJlLCB1c2UgUkdCQSBpbnN0ZWFkLlxuICAgICAgICAgICAgaWYgKG51bUNoYW5uZWxzID09PSAzICYmIHdyaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgZ2xOdW1DaGFubmVscyA9IDQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKGdsTnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkVEO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SR0I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SR0JBO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MTYnOlxuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBnbC5IQUxGX0ZMT0FUO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGdsTnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUjE2RjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkcxNkY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQjE2RjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTE2RjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICAgICAgICAgIGdsVHlwZSA9IGdsLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZ2xOdW1DaGFubmVscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkc4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0I4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAobnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBmb3IgcmVhZCBvbmx5IHRleHR1cmVzIGluIFdlYkdMIDEuMCwgd2UgY291bGQgdXNlIGdsLkFMUEhBIGFuZCBnbC5MVU1JTkFOQ0VfQUxQSEEgaGVyZS5cbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SR0I7XG4gICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0I7XG4gICAgICAgICAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHMgPSAzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGdsRm9ybWF0ID0gZ2wuUkdCQTtcbiAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkE7XG4gICAgICAgICAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHMgPSA0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Zsb2F0MTYnOlxuICAgICAgICAgICAgICAgICAgICBnbFR5cGUgPSBleHRlbnNpb25zW09FU19URVhUVVJFX0hBTEZfRkxPQVRdLkhBTEZfRkxPQVRfT0VTO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICAgICAgICAgIGdsVHlwZSA9IGdsLlVOU0lHTkVEX0JZVEU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGZvciBtaXNzaW5nIHBhcmFtcy5cbiAgICAgICAgaWYgKGdsVHlwZSA9PT0gdW5kZWZpbmVkIHx8IGdsRm9ybWF0ID09PSB1bmRlZmluZWQgfHwgZ2xJbnRlcm5hbEZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHR5cGU6IFwiICsgdHlwZSArIFwiIG9yIG51bUNoYW5uZWxzIFwiICsgbnVtQ2hhbm5lbHMgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsTnVtQ2hhbm5lbHMgPT09IHVuZGVmaW5lZCB8fCBudW1DaGFubmVscyA8IDEgfHwgbnVtQ2hhbm5lbHMgPiA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG51bUNoYW5uZWxzOiBcIiArIG51bUNoYW5uZWxzICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnbEZvcm1hdDogZ2xGb3JtYXQsXG4gICAgICAgICAgICBnbEludGVybmFsRm9ybWF0OiBnbEludGVybmFsRm9ybWF0LFxuICAgICAgICAgICAgZ2xUeXBlOiBnbFR5cGUsXG4gICAgICAgICAgICBnbE51bUNoYW5uZWxzOiBnbE51bUNoYW5uZWxzLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgR1BHUFUucHJvdG90eXBlLmluaXREYXRhTGF5ZXIgPSBmdW5jdGlvbiAobmFtZSwgb3B0aW9ucywgd3JpdGFibGUsIG51bUJ1ZmZlcnMpIHtcbiAgICAgICAgaWYgKHdyaXRhYmxlID09PSB2b2lkIDApIHsgd3JpdGFibGUgPSBmYWxzZTsgfVxuICAgICAgICBpZiAobnVtQnVmZmVycyA9PT0gdm9pZCAwKSB7IG51bUJ1ZmZlcnMgPSAxOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrO1xuICAgICAgICB2YXIgZGF0YSA9IG9wdGlvbnMuZGF0YSwgd2lkdGggPSBvcHRpb25zLndpZHRoLCBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCwgdHlwZSA9IG9wdGlvbnMudHlwZSwgbnVtQ2hhbm5lbHMgPSBvcHRpb25zLm51bUNoYW5uZWxzO1xuICAgICAgICAvLyBDaGVjayB0aGF0IGRhdGEgaXMgY29ycmVjdCBsZW5ndGguXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoICE9PSB3aWR0aCAqIGhlaWdodCAqIG51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGEgYXJyYXkgb2Ygc2l6ZSBcIiArIGRhdGEubGVuZ3RoICsgXCIgZm9yIERhdGFMYXllciBcIiArIG5hbWUgKyBcIiBvZiBkaW1lbnNpb25zIFwiICsgd2lkdGggKyBcIiB4IFwiICsgaGVpZ2h0ICsgXCIgeCBcIiArIG51bUNoYW5uZWxzICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IENoZWNrIHRoYXQgZGF0YSBpcyBjb3JyZWN0IHR5cGUuXG4gICAgICAgIC8vIGlmIChkYXRhICYmIHR5cGUgPT09ICdmbG9hdDE2Jykge1xuICAgICAgICAvLyBcdC8vIC8vIFNpbmNlIHRoZXJlIGlzIG5vIEZsb2F0MTZUeXBlZEFycmF5LCB3ZSBtdXN0IHVzIFVpbnQxNlR5cGVkQXJyYXlcbiAgICAgICAgLy8gXHQvLyBjb25zdCBmbG9hdDE2QXJyYXkgPSBuZXcgSW50MTZBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgICAgIC8vIFx0Ly8gZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIFx0Ly8gfVxuICAgICAgICAvLyB9XG4gICAgICAgIC8vIEdldCB0ZXh0dXJlIHBhcmFtcy5cbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMUmVuZGVyaW5nQ29udGV4dC90ZXhJbWFnZTJEXG4gICAgICAgIHZhciBfYiA9IHRoaXMuZ2xUZXh0dXJlUGFyYW1ldGVycyhudW1DaGFubmVscywgdHlwZSwgd3JpdGFibGUpLCBnbEZvcm1hdCA9IF9iLmdsRm9ybWF0LCBnbEludGVybmFsRm9ybWF0ID0gX2IuZ2xJbnRlcm5hbEZvcm1hdCwgZ2xOdW1DaGFubmVscyA9IF9iLmdsTnVtQ2hhbm5lbHMsIGdsVHlwZSA9IF9iLmdsVHlwZTtcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCBkYXRhIGlzIGNvcnJlY3QgbGVuZ3RoLlxuICAgICAgICAvLyBUaGlzIG9ubHkgaGFwcGVucyBmb3Igd2ViZ2wgMS4wIGNvbnRleHRzLlxuICAgICAgICB2YXIgZGF0YVJlc2l6ZWQgPSBkYXRhO1xuICAgICAgICBpZiAoZGF0YSAmJiBudW1DaGFubmVscyAhPT0gZ2xOdW1DaGFubmVscykge1xuICAgICAgICAgICAgdmFyIGltYWdlU2l6ZSA9IHdpZHRoICogaGVpZ2h0O1xuICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gdm9pZCAwO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndWludDgnOlxuICAgICAgICAgICAgICAgICAgICBuZXdBcnJheSA9IG5ldyBVaW50OEFycmF5KHdpZHRoICogaGVpZ2h0ICogZ2xOdW1DaGFubmVscyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGluaXRpbmcgXCIgKyBuYW1lICsgXCIuICBVbnN1cHBvcnRlZCB0eXBlIFwiICsgdHlwZSArIFwiIGZvciBHUEdQVS5pbml0RGF0YUxheWVyLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpbGwgbmV3IGRhdGEgYXJyYXkgd2l0aCBvbGQgZGF0YS5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG51bUNoYW5uZWxzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3QXJyYXlbZ2xOdW1DaGFubmVscyAqIGkgKyBqXSA9IGRhdGFbaSAqIG51bUNoYW5uZWxzICsgal07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YVJlc2l6ZWQgPSBuZXdBcnJheTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YUxheWVyID0gbmV3IERhdGFMYXllcl8xLkRhdGFMYXllcihuYW1lLCBnbCwge1xuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICBnbEludGVybmFsRm9ybWF0OiBnbEludGVybmFsRm9ybWF0LFxuICAgICAgICAgICAgZ2xGb3JtYXQ6IGdsRm9ybWF0LFxuICAgICAgICAgICAgZ2xUeXBlOiBnbFR5cGUsXG4gICAgICAgICAgICBkYXRhOiBkYXRhUmVzaXplZCxcbiAgICAgICAgfSwgZXJyb3JDYWxsYmFjaywgbnVtQnVmZmVycywgd3JpdGFibGUpO1xuICAgICAgICByZXR1cm4gZGF0YUxheWVyO1xuICAgIH07XG4gICAgO1xuICAgIEdQR1BVLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uIChjYW52YXNFbCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgd2lkdGggPSBjYW52YXNFbC5jbGllbnRXaWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGNhbnZhc0VsLmNsaWVudEhlaWdodDtcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIC8vIFNldCBjb3JyZWN0IGNhbnZhcyBwaXhlbCBzaXplLlxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xfQVBJL0J5X2V4YW1wbGUvQ2FudmFzX3NpemVfYW5kX1dlYkdMXG4gICAgICAgIGNhbnZhc0VsLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhc0VsLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgLy8gU2F2ZSBkaW1lbnNpb25zLlxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH07XG4gICAgO1xuICAgIEdQR1BVLnByb3RvdHlwZS5kcmF3U2V0dXAgPSBmdW5jdGlvbiAocHJvZ3JhbSwgZnVsbHNjcmVlblJlbmRlciwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGFyZSBpbiBhbiBlcnJvciBzdGF0ZS5cbiAgICAgICAgaWYgKCFwcm9ncmFtLnByb2dyYW0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDQVVUSU9OOiB0aGUgb3JkZXIgb2YgdGhlc2UgbmV4dCBmZXcgbGluZXMgaW4gaW1wb3J0YW50LlxuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGtpbmQgb2YgZnVzc3kuXG4gICAgICAgIC8vIEdldCB0ZXh0dXJlcyBiZWZvcmUgd2UgaGF2ZSBzZXQgdGhlIHJlbmRlciB0YXJnZXQgKHRoaXMgY2FuIG1vZGlmeSBzb21lIGludGVybmFsIHN0YXRlKS5cbiAgICAgICAgdmFyIGlucHV0VGV4dHVyZXMgPSBpbnB1dExheWVycy5tYXAoZnVuY3Rpb24gKGxheWVyKSB7IHJldHVybiBsYXllci5nZXRDdXJyZW50U3RhdGVUZXh0dXJlKCk7IH0pO1xuICAgICAgICAvLyBTZXQgb3V0cHV0IGZyYW1lYnVmZmVyLlxuICAgICAgICB0aGlzLnNldE91dHB1dChmdWxsc2NyZWVuUmVuZGVyLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpO1xuICAgICAgICAvLyBTZXQgY3VycmVudCBwcm9ncmFtLlxuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0ucHJvZ3JhbSk7XG4gICAgICAgIC8vIFNldCBpbnB1dCB0ZXh0dXJlcy5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dExheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXRUZXh0dXJlc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEdQR1BVLnByb3RvdHlwZS5zZXRPdXRwdXQgPSBmdW5jdGlvbiAoZnVsbHNjcmVlblJlbmRlciwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIHBhc3NUaHJvdWdoUHJvZ3JhbSA9IF9hLnBhc3NUaHJvdWdoUHJvZ3JhbTtcbiAgICAgICAgaWYgKCFvdXRwdXRMYXllcikge1xuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiBvdXRwdXQgaXMgc2FtZSBhcyBvbmUgb2YgaW5wdXQgbGF5ZXJzLlxuICAgICAgICBpZiAoaW5wdXRMYXllcnMuaW5kZXhPZihvdXRwdXRMYXllcikgPiAtMSkge1xuICAgICAgICAgICAgaWYgKG91dHB1dExheWVyLm51bUJ1ZmZlcnMgPT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJcXG5cXHRcXHRcXHRcXHRDYW5ub3QgdXNlIHNhbWUgYnVmZmVyIGZvciBpbnB1dCBhbmQgb3V0cHV0IG9mIGEgcHJvZ3JhbS5cXG5cXHRcXHRcXHRcXHRUcnkgaW5jcmVhc2luZyB0aGUgbnVtYmVyIG9mIGJ1ZmZlcnMgaW4geW91ciBvdXRwdXQgbGF5ZXIgdG8gYXQgbGVhc3QgMiBzbyB5b3VcXG5cXHRcXHRcXHRcXHRjYW4gcmVuZGVyIHRvIG5leHRTdGF0ZSB1c2luZyBjdXJyZW50U3RhdGUgYXMgYW4gaW5wdXQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZ1bGxzY3JlZW5SZW5kZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBSZW5kZXIgYW5kIGluY3JlbWVudCBidWZmZXIgc28gd2UgYXJlIHJlbmRlcmluZyB0byBhIGRpZmZlcmVudCB0YXJnZXRcbiAgICAgICAgICAgICAgICAvLyB0aGFuIHRoZSBpbnB1dCB0ZXh0dXJlLlxuICAgICAgICAgICAgICAgIG91dHB1dExheWVyLnNldEFzUmVuZGVyVGFyZ2V0KHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBhc3MgaW5wdXQgdGV4dHVyZSB0aHJvdWdoIHRvIG91dHB1dC5cbiAgICAgICAgICAgIHRoaXMuc3RlcChwYXNzVGhyb3VnaFByb2dyYW0sIFtvdXRwdXRMYXllcl0sIG91dHB1dExheWVyKTtcbiAgICAgICAgICAgIC8vIFJlbmRlciB0byBvdXRwdXQgd2l0aG91dCBpbmNyZW1lbnRpbmcgYnVmZmVyLlxuICAgICAgICAgICAgb3V0cHV0TGF5ZXIuc2V0QXNSZW5kZXJUYXJnZXQoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbmRlciB0byBjdXJyZW50IGJ1ZmZlci5cbiAgICAgICAgb3V0cHV0TGF5ZXIuc2V0QXNSZW5kZXJUYXJnZXQoZmFsc2UpO1xuICAgIH07XG4gICAgO1xuICAgIC8vIFN0ZXAgZm9yIGVudGlyZSBmdWxsc2NyZWVuIHF1YWQuXG4gICAgR1BHUFUucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAocHJvZ3JhbSwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKSB7XG4gICAgICAgIGlmIChpbnB1dExheWVycyA9PT0gdm9pZCAwKSB7IGlucHV0TGF5ZXJzID0gW107IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JTdGF0ZSA9IF9hLmVycm9yU3RhdGUsIHF1YWRQb3NpdGlvbnNCdWZmZXIgPSBfYS5xdWFkUG9zaXRpb25zQnVmZmVyO1xuICAgICAgICAvLyBJZ25vcmUgaWYgd2UgYXJlIGluIGVycm9yIHN0YXRlLlxuICAgICAgICBpZiAoZXJyb3JTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvIHNldHVwIC0gdGhpcyBtdXN0IGNvbWUgZmlyc3QuXG4gICAgICAgIHRoaXMuZHJhd1NldHVwKHByb2dyYW0sIHRydWUsIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcik7XG4gICAgICAgIC8vIFVwZGF0ZSB1bmlmb3JtcyBhbmQgYnVmZmVycy5cbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3NjYWxlJywgWzEsIDFdLCAnRkxPQVQnKTtcbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3RyYW5zbGF0aW9uJywgWzAsIDBdLCAnRkxPQVQnKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHF1YWRQb3NpdGlvbnNCdWZmZXIpO1xuICAgICAgICAvLyBQb2ludCBhdHRyaWJ1dGUgdG8gdGhlIGN1cnJlbnRseSBib3VuZCBWQk8uXG4gICAgICAgIHZhciBwb3NpdGlvbkxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbS5wcm9ncmFtLCAnYVBvc2l0aW9uJyk7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zaXRpb25Mb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgLy8gRW5hYmxlIHRoZSBhdHRyaWJ1dGUuXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uTG9jYXRpb24pO1xuICAgICAgICAvLyBEcmF3LlxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9O1xuICAgIC8vIFN0ZXAgcHJvZ3JhbSBvbmx5IGZvciBhIHN0cmlwIG9mIHB4IGFsb25nIHRoZSBib3VuZGFyeS5cbiAgICBHUEdQVS5wcm90b3R5cGUuc3RlcEJvdW5kYXJ5ID0gZnVuY3Rpb24gKHByb2dyYW0sIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcikge1xuICAgICAgICBpZiAoaW5wdXRMYXllcnMgPT09IHZvaWQgMCkgeyBpbnB1dExheWVycyA9IFtdOyB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yU3RhdGUgPSBfYS5lcnJvclN0YXRlLCBib3VuZGFyeVBvc2l0aW9uc0J1ZmZlciA9IF9hLmJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIC8vIElnbm9yZSBpZiB3ZSBhcmUgaW4gZXJyb3Igc3RhdGUuXG4gICAgICAgIGlmIChlcnJvclN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG8gc2V0dXAgLSB0aGlzIG11c3QgY29tZSBmaXJzdC5cbiAgICAgICAgdGhpcy5kcmF3U2V0dXAocHJvZ3JhbSwgZmFsc2UsIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcik7XG4gICAgICAgIC8vIFVwZGF0ZSB1bmlmb3JtcyBhbmQgYnVmZmVycy5cbiAgICAgICAgLy8gRnJhbWUgbmVlZHMgdG8gYmUgb2Zmc2V0IGFuZCBzY2FsZWQgc28gdGhhdCBhbGwgZm91ciBzaWRlcyBhcmUgaW4gdmlld3BvcnQuXG4gICAgICAgIHZhciBvbmVQeCA9IFsxIC8gd2lkdGgsIDEgLyBoZWlnaHRdO1xuICAgICAgICBwcm9ncmFtLnNldFVuaWZvcm0oJ3Vfc2NhbGUnLCBbMSAtIG9uZVB4WzBdLCAxIC0gb25lUHhbMV1dLCAnRkxPQVQnKTtcbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3RyYW5zbGF0aW9uJywgb25lUHgsICdGTE9BVCcpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYm91bmRhcnlQb3NpdGlvbnNCdWZmZXIpO1xuICAgICAgICAvLyBQb2ludCBhdHRyaWJ1dGUgdG8gdGhlIGN1cnJlbnRseSBib3VuZCBWQk8uXG4gICAgICAgIHZhciBwb3NpdGlvbkxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbS5wcm9ncmFtLCAnYVBvc2l0aW9uJyk7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zaXRpb25Mb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgLy8gRW5hYmxlIHRoZSBhdHRyaWJ1dGUuXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uTG9jYXRpb24pO1xuICAgICAgICAvLyBEcmF3LlxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLkxJTkVfTE9PUCwgMCwgNCk7IC8vIERyYXcgdG8gZnJhbWVidWZmZXIuXG4gICAgfTtcbiAgICAvLyBTdGVwIHByb2dyYW0gZm9yIGFsbCBidXQgYSBzdHJpcCBvZiBweCBhbG9uZyB0aGUgYm91bmRhcnkuXG4gICAgR1BHUFUucHJvdG90eXBlLnN0ZXBOb25Cb3VuZGFyeSA9IGZ1bmN0aW9uIChwcm9ncmFtLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpIHtcbiAgICAgICAgaWYgKGlucHV0TGF5ZXJzID09PSB2b2lkIDApIHsgaW5wdXRMYXllcnMgPSBbXTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBlcnJvclN0YXRlID0gX2EuZXJyb3JTdGF0ZSwgcXVhZFBvc2l0aW9uc0J1ZmZlciA9IF9hLnF1YWRQb3NpdGlvbnNCdWZmZXIsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgLy8gSWdub3JlIGlmIHdlIGFyZSBpbiBlcnJvciBzdGF0ZS5cbiAgICAgICAgaWYgKGVycm9yU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyBzZXR1cCAtIHRoaXMgbXVzdCBjb21lIGZpcnN0LlxuICAgICAgICB0aGlzLmRyYXdTZXR1cChwcm9ncmFtLCBmYWxzZSwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKTtcbiAgICAgICAgLy8gVXBkYXRlIHVuaWZvcm1zIGFuZCBidWZmZXJzLlxuICAgICAgICB2YXIgb25lUHggPSBbMSAvIHdpZHRoLCAxIC8gaGVpZ2h0XTtcbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3NjYWxlJywgWzEgLSAyICogb25lUHhbMF0sIDEgLSAyICogb25lUHhbMV1dLCAnRkxPQVQnKTtcbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3RyYW5zbGF0aW9uJywgb25lUHgsICdGTE9BVCcpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcXVhZFBvc2l0aW9uc0J1ZmZlcik7XG4gICAgICAgIC8vIFBvaW50IGF0dHJpYnV0ZSB0byB0aGUgY3VycmVudGx5IGJvdW5kIFZCTy5cbiAgICAgICAgdmFyIHBvc2l0aW9uTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLnByb2dyYW0sICdhUG9zaXRpb24nKTtcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NpdGlvbkxvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICAvLyBFbmFibGUgdGhlIGF0dHJpYnV0ZS5cbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zaXRpb25Mb2NhdGlvbik7XG4gICAgICAgIC8vIERyYXcuXG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgIH07XG4gICAgLy8gU3RlcCBwcm9ncmFtIG9ubHkgZm9yIGEgY2lyY3VsYXIgc3BvdC5cbiAgICBHUEdQVS5wcm90b3R5cGUuc3RlcENpcmNsZSA9IGZ1bmN0aW9uIChwcm9ncmFtLCBwb3NpdGlvbiwgLy8gcG9zaXRpb24gaXMgaW4gc2NyZWVuIHNwYWNlIGNvb3Jkcy5cbiAgICByYWRpdXMsIC8vIHJhZGl1cyBpcyBpbiBweC5cbiAgICBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpIHtcbiAgICAgICAgaWYgKGlucHV0TGF5ZXJzID09PSB2b2lkIDApIHsgaW5wdXRMYXllcnMgPSBbXTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBlcnJvclN0YXRlID0gX2EuZXJyb3JTdGF0ZSwgY2lyY2xlUG9zaXRpb25zQnVmZmVyID0gX2EuY2lyY2xlUG9zaXRpb25zQnVmZmVyLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIC8vIElnbm9yZSBpZiB3ZSBhcmUgaW4gZXJyb3Igc3RhdGUuXG4gICAgICAgIGlmIChlcnJvclN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG8gc2V0dXAgLSB0aGlzIG11c3QgY29tZSBmaXJzdC5cbiAgICAgICAgdGhpcy5kcmF3U2V0dXAocHJvZ3JhbSwgZmFsc2UsIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcik7XG4gICAgICAgIC8vIFVwZGF0ZSB1bmlmb3JtcyBhbmQgYnVmZmVycy5cbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3NjYWxlJywgW3JhZGl1cyAvIHdpZHRoLCByYWRpdXMgLyBoZWlnaHRdLCAnRkxPQVQnKTtcbiAgICAgICAgLy8gRmxpcCB5IGF4aXMuXG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV90cmFuc2xhdGlvbicsIFsyICogcG9zaXRpb25bMF0gLyB3aWR0aCAtIDEsIC0yICogcG9zaXRpb25bMV0gLyBoZWlnaHQgKyAxXSwgJ0ZMT0FUJyk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBjaXJjbGVQb3NpdGlvbnNCdWZmZXIpO1xuICAgICAgICAvLyBQb2ludCBhdHRyaWJ1dGUgdG8gdGhlIGN1cnJlbnRseSBib3VuZCBWQk8uXG4gICAgICAgIHZhciBwb3NpdGlvbkxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbS5wcm9ncmFtLCAnYVBvc2l0aW9uJyk7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zaXRpb25Mb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgLy8gRW5hYmxlIHRoZSBhdHRyaWJ1dGUuXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uTG9jYXRpb24pO1xuICAgICAgICAvLyBEcmF3LlxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX0ZBTiwgMCwgTlVNX1NFR01FTlRTX0NJUkNMRSArIDIpOyAvLyBEcmF3IHRvIGZyYW1lYnVmZmVyLlxuICAgIH07XG4gICAgLy8gcmVhZHlUb1JlYWQoKSB7XG4gICAgLy8gXHRjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIC8vICAgICByZXR1cm4gZ2wuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhnbC5GUkFNRUJVRkZFUikgPT0gZ2wuRlJBTUVCVUZGRVJfQ09NUExFVEU7XG4gICAgLy8gfTtcbiAgICAvLyByZWFkUGl4ZWxzKHhNaW46IG51bWJlciwgeU1pbjogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgYXJyYXk6IFRleHR1cmVEYXRhVHlwZSkge1xuICAgIC8vIFx0Y29uc3QgeyBnbCB9ID0gdGhpcztcbiAgICAvLyBcdGdsLnJlYWRQaXhlbHMoeE1pbiwgeU1pbiwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgYXJyYXkpO1xuICAgIC8vIH07XG4gICAgR1BHUFUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgO1xuICAgIHJldHVybiBHUEdQVTtcbn0oKSk7XG5leHBvcnRzLkdQR1BVID0gR1BHUFU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HUEdQVS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR1BVUHJvZ3JhbSA9IHZvaWQgMDtcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG52YXIgR1BVUHJvZ3JhbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHUFVQcm9ncmFtKG5hbWUsIGdsLCBlcnJvckNhbGxiYWNrLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyU291cmNlLCB1bmlmb3Jtcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnVuaWZvcm1zID0ge307XG4gICAgICAgIHRoaXMuc2hhZGVycyA9IFtdOyAvLyBTYXZlIHJlZiB0byBzaGFkZXJzIHNvIHdlIGNhbiBkZWFsbG9jYXRlLlxuICAgICAgICAvLyBTYXZlIHBhcmFtcy5cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLmVycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrO1xuICAgICAgICAvLyBDcmVhdGUgYSBwcm9ncmFtLlxuICAgICAgICB2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICAgICAgaWYgKCFwcm9ncmFtKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiVW5hYmxlIHRvIGluaXQgZ2wgcHJvZ3JhbTogXCIgKyBuYW1lICsgXCIuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvbXBpbGUgc2hhZGVyLlxuICAgICAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSB1dGlsc18xLmNvbXBpbGVTaGFkZXIoZ2wsIGVycm9yQ2FsbGJhY2ssIGZyYWdtZW50U2hhZGVyU291cmNlLCBnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgICAgICBpZiAoIWZyYWdtZW50U2hhZGVyKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiVW5hYmxlIHRvIGNvbXBpbGUgZnJhZ21lbnQgc2hhZGVyIGZvciBwcm9ncmFtIFwiICsgbmFtZSArIFwiLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNoYWRlcnMucHVzaChmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIC8vIEF0dGFjaCB0aGUgc2hhZGVycy5cbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIC8vIExpbmsgdGhlIHByb2dyYW0uXG4gICAgICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICAvLyBDaGVjayBpZiBpdCBsaW5rZWQuXG4gICAgICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUyk7XG4gICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgICAgLy8gU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCB0aGUgbGluay5cbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJQcm9ncmFtIFwiICsgbmFtZSArIFwiIGZhaWxlZCB0byBsaW5rOiBcIiArIGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcm9ncmFtIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBpbml0ZWQuXG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIHVuaWZvcm1zID09PSBudWxsIHx8IHVuaWZvcm1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1bmlmb3Jtcy5mb3JFYWNoKGZ1bmN0aW9uICh1bmlmb3JtKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHVuaWZvcm0ubmFtZSwgdmFsdWUgPSB1bmlmb3JtLnZhbHVlLCBkYXRhVHlwZSA9IHVuaWZvcm0uZGF0YVR5cGU7XG4gICAgICAgICAgICBfdGhpcy5zZXRVbmlmb3JtKG5hbWUsIHZhbHVlLCBkYXRhVHlwZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBHUFVQcm9ncmFtLnByb3RvdHlwZS51bmlmb3JtVHlwZUZvclZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBkYXRhVHlwZSkge1xuICAgICAgICBpZiAoZGF0YVR5cGUgPT09IGNvbnN0YW50c18xLkZMT0FUX1RZUEUpIHtcbiAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5GTE9BVF8xRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5GTE9BVF8yRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5GTE9BVF8zRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5GTE9BVF80RF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1bmlmb3JtIHZhbHVlOiBcIiArIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhVHlwZSA9PT0gY29uc3RhbnRzXzEuSU5UX1RZUEUpIHtcbiAgICAgICAgICAgIGlmICghaXNOYU4odmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5JTlRfMURfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuSU5UXzJEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLklOVF8zRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5JTlRfNERfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdW5pZm9ybSB2YWx1ZTogXCIgKyB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVuaWZvcm0gZGF0YSB0eXBlOiBcIiArIGRhdGFUeXBlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgR1BVUHJvZ3JhbS5wcm90b3R5cGUuc2V0VW5pZm9ybSA9IGZ1bmN0aW9uICh1bmlmb3JtTmFtZSwgdmFsdWUsIGRhdGFUeXBlKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrLCBwcm9ncmFtID0gX2EucHJvZ3JhbSwgdW5pZm9ybXMgPSBfYS51bmlmb3JtcztcbiAgICAgICAgaWYgKCFwcm9ncmFtKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiUHJvZ3JhbSBub3QgaW5pdGVkLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgYWN0aXZlIHByb2dyYW0uXG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIHZhciB0eXBlID0gdGhpcy51bmlmb3JtVHlwZUZvclZhbHVlKHZhbHVlLCBkYXRhVHlwZSk7XG4gICAgICAgIGlmICghdW5pZm9ybXNbdW5pZm9ybU5hbWVdKSB7XG4gICAgICAgICAgICAvLyBJbml0IHVuaWZvcm0gaWYgbmVlZGVkLlxuICAgICAgICAgICAgdmFyIGxvY2F0aW9uXzEgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgdW5pZm9ybU5hbWUpO1xuICAgICAgICAgICAgaWYgKCFsb2NhdGlvbl8xKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIkNvdWxkIG5vdCBpbml0IHVuaWZvcm0gXCIgKyB1bmlmb3JtTmFtZSArIFwiLlxcbkNoZWNrIHRoYXQgdW5pZm9ybSBpcyBwcmVzZW50IGluIHNoYWRlciBjb2RlLCB1bnVzZWQgdW5pZm9ybXMgbWF5IGJlIHJlbW92ZWQgYnkgY29tcGlsZXIuXFxuQWxzbyBjaGVjayB0aGF0IHVuaWZvcm0gdHlwZSBpbiBzaGFkZXIgY29kZSBtYXRjaGVzIHR5cGUgXCIgKyB0eXBlICsgXCIuXFxuRXJyb3IgY29kZTogXCIgKyBnbC5nZXRFcnJvcigpICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVuaWZvcm1zW3VuaWZvcm1OYW1lXSA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25fMSxcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdW5pZm9ybSA9IHVuaWZvcm1zW3VuaWZvcm1OYW1lXTtcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCB0eXBlcyBtYXRjaCBwcmV2aW91c2x5IHNldCB1bmlmb3JtLlxuICAgICAgICBpZiAodW5pZm9ybS50eXBlICE9IHR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuaWZvcm0gXCIgKyB1bmlmb3JtTmFtZSArIFwiIGNhbm5vdCBjaGFuZ2UgZnJvbSB0eXBlIFwiICsgdW5pZm9ybS50eXBlICsgXCIgdG8gdHlwZSBcIiArIHR5cGUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxvY2F0aW9uID0gdW5pZm9ybS5sb2NhdGlvbjtcbiAgICAgICAgLy8gU2V0IHVuaWZvcm0uXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvdW5pZm9ybVxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuRkxPQVRfMURfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuRkxPQVRfMkRfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmZ2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkZMT0FUXzNEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNmdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5GTE9BVF80RF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuSU5UXzFEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLklOVF8yRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yaXYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuSU5UXzNEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5JTlRfNERfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdW5pZm9ybSB0eXBlOiBcIiArIHR5cGUgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIDtcbiAgICBHUFVQcm9ncmFtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBwcm9ncmFtID0gX2EucHJvZ3JhbSwgc2hhZGVycyA9IF9hLnNoYWRlcnM7XG4gICAgICAgIGlmIChwcm9ncmFtKVxuICAgICAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgLy8gVW5iaW5kIGFsbCBkYXRhIGJlZm9yZSBkZWxldGluZy5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaGFkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBGcm9tIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvZGVsZXRlU2hhZGVyXG4gICAgICAgICAgICAvLyBUaGlzIG1ldGhvZCBoYXMgbm8gZWZmZWN0IGlmIHRoZSBzaGFkZXIgaGFzIGFscmVhZHkgYmVlbiBkZWxldGVkXG4gICAgICAgICAgICBnbC5kZWxldGVTaGFkZXIoc2hhZGVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgc2hhZGVycy5sZW5ndGggPSAwO1xuICAgICAgICAvLyBAdHMtaWdub3JlO1xuICAgICAgICBkZWxldGUgdGhpcy5nbDtcbiAgICAgICAgLy8gQHRzLWlnbm9yZTtcbiAgICAgICAgZGVsZXRlIHRoaXMucHJvZ3JhbTtcbiAgICB9O1xuICAgIHJldHVybiBHUFVQcm9ncmFtO1xufSgpKTtcbmV4cG9ydHMuR1BVUHJvZ3JhbSA9IEdQVVByb2dyYW07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HUFVQcm9ncmFtLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JTlRfVFlQRSA9IGV4cG9ydHMuRkxPQVRfVFlQRSA9IGV4cG9ydHMuSU5UXzREX1VOSUZPUk0gPSBleHBvcnRzLklOVF8zRF9VTklGT1JNID0gZXhwb3J0cy5JTlRfMkRfVU5JRk9STSA9IGV4cG9ydHMuSU5UXzFEX1VOSUZPUk0gPSBleHBvcnRzLkZMT0FUXzREX1VOSUZPUk0gPSBleHBvcnRzLkZMT0FUXzNEX1VOSUZPUk0gPSBleHBvcnRzLkZMT0FUXzJEX1VOSUZPUk0gPSBleHBvcnRzLkZMT0FUXzFEX1VOSUZPUk0gPSB2b2lkIDA7XG5leHBvcnRzLkZMT0FUXzFEX1VOSUZPUk0gPSAnMWYnO1xuZXhwb3J0cy5GTE9BVF8yRF9VTklGT1JNID0gJzJmJztcbmV4cG9ydHMuRkxPQVRfM0RfVU5JRk9STSA9ICczZic7XG5leHBvcnRzLkZMT0FUXzREX1VOSUZPUk0gPSAnM2YnO1xuZXhwb3J0cy5JTlRfMURfVU5JRk9STSA9ICcxaSc7XG5leHBvcnRzLklOVF8yRF9VTklGT1JNID0gJzJpJztcbmV4cG9ydHMuSU5UXzNEX1VOSUZPUk0gPSAnM2knO1xuZXhwb3J0cy5JTlRfNERfVU5JRk9STSA9ICczaSc7XG5leHBvcnRzLkZMT0FUX1RZUEUgPSAnRkxPQVQnO1xuZXhwb3J0cy5JTlRfVFlQRSA9ICdJTlQnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaW5nbGVDb2xvckZyYWdTaGFkZXIgPSBleHBvcnRzLkdQR1BVID0gdm9pZCAwO1xudmFyIEdQR1BVXzEgPSByZXF1aXJlKFwiLi9HUEdQVVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkdQR1BVXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBHUEdQVV8xLkdQR1BVOyB9IH0pO1xudmFyIFNpbmdsZUNvbG9yRnJhZ1NoYWRlcl8xID0gcmVxdWlyZShcIi4va2VybmVscy9TaW5nbGVDb2xvckZyYWdTaGFkZXJcIik7XG5leHBvcnRzLlNpbmdsZUNvbG9yRnJhZ1NoYWRlciA9IFNpbmdsZUNvbG9yRnJhZ1NoYWRlcl8xLmRlZmF1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIFZlcnRleCBzaGFkZXIgZm9yIGZ1bGxzY3JlZW4gcXVhZC5cbmV4cG9ydHMuZGVmYXVsdCA9IFwiXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbmF0dHJpYnV0ZSB2ZWMyIGFQb3NpdGlvbjtcXG5cXG51bmlmb3JtIHZlYzIgdV9zY2FsZTtcXG51bmlmb3JtIHZlYzIgdV90cmFuc2xhdGlvbjtcXG5cXG52YXJ5aW5nIHZlYzIgdlVWX2xvY2FsO1xcbnZhcnlpbmcgdmVjMiB2VVY7XFxuXFxudm9pZCBtYWluKCkge1xcblxcdC8vIENhbGN1bGF0ZSBVViBjb29yZGluYXRlcyBvZiBjdXJyZW50IHJlbmRlcmVkIG9iamVjdC5cXG5cXHR2VVZfbG9jYWwgPSAwLjUgKiAoYVBvc2l0aW9uICsgMS4wKTtcXG5cXHQvLyBBcHBseSB0cmFuc2Zvcm1hdGlvbnMuXFxuXFx0dmVjMiBwb3NpdGlvbiA9IHVfc2NhbGUgKiBhUG9zaXRpb24gKyB1X3RyYW5zbGF0aW9uO1xcblxcdC8vIENhbGN1bGF0ZSBhIGdsb2JhbCB1diBmb3IgdGhlIHZpZXdwb3J0LlxcblxcdHZVViA9IDAuNSAqIChwb3NpdGlvbiArIDEuMCk7XFxuXFx0Ly8gQ2FsY3VsYXRlIHZlcnRleCBwb3NpdGlvbi5cXG5cXHRnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24sIDAsIDEpO1xcbn1cXG5cIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlZmF1bHRWZXJ0ZXhTaGFkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlZmF1bHQgPSBcIlxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlVWO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfc3RhdGU7XFxuXFxudm9pZCBtYWluKCkge1xcblxcdGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1X3N0YXRlLCB2VVYpO1xcbn1cIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhc3NUaHJvdWdoU2hhZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gRnJhZ21lbnQgc2hhZGVyIHRoYXQgZHJhd3MgYSBzaW5nbGUgY29sb3IgKGZvciB0ZXN0aW5nKS5cbmV4cG9ydHMuZGVmYXVsdCA9IFwiXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbnVuaWZvcm0gdmVjMyB1X2NvbG9yO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KHVfY29sb3IsIDEpO1xcbn1cIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbmdsZUNvbG9yRnJhZ1NoYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29tcGlsZVNoYWRlciA9IHZvaWQgMDtcbi8vIENvcGllZCBmcm9tIGh0dHA6Ly93ZWJnbGZ1bmRhbWVudGFscy5vcmcvd2ViZ2wvbGVzc29ucy93ZWJnbC1ib2lsZXJwbGF0ZS5odG1sXG5mdW5jdGlvbiBjb21waWxlU2hhZGVyKGdsLCBlcnJvckNhbGxiYWNrLCBzaGFkZXJTb3VyY2UsIHNoYWRlclR5cGUpIHtcbiAgICAvLyBDcmVhdGUgdGhlIHNoYWRlciBvYmplY3RcbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHNoYWRlclR5cGUpO1xuICAgIGlmICghc2hhZGVyKSB7XG4gICAgICAgIGVycm9yQ2FsbGJhY2soJ1VuYWJsZSB0byBpbml0IGdsIHNoYWRlci4nKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIFNldCB0aGUgc2hhZGVyIHNvdXJjZSBjb2RlLlxuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNoYWRlclNvdXJjZSk7XG4gICAgLy8gQ29tcGlsZSB0aGUgc2hhZGVyXG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuICAgIC8vIENoZWNrIGlmIGl0IGNvbXBpbGVkXG4gICAgdmFyIHN1Y2Nlc3MgPSBnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyk7XG4gICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgIC8vIFNvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyBjb21waWxhdGlvbiAtIHByaW50IHRoZSBlcnJvci5cbiAgICAgICAgZXJyb3JDYWxsYmFjayhcIkNvdWxkIG5vdCBjb21waWxlIFwiICsgKHNoYWRlclR5cGUgPT09IGdsLkZSQUdNRU5UX1NIQURFUiA/ICdmcmFnbWVudCcgOiAndmVydGV4JykgKyBcIlxcblxcdFxcdFxcdCBzaGFkZXI6IFwiICsgZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBzaGFkZXI7XG59XG5leHBvcnRzLmNvbXBpbGVTaGFkZXIgPSBjb21waWxlU2hhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBcInByZWNpc2lvbiBsb3dwIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB2VVY7XFxudW5pZm9ybSBzYW1wbGVyMkQgdV9zdGF0ZTtcXG51bmlmb3JtIHZlYzIgdV9weFNpemU7XFxuXFxudm9pZCBtYWluKCkge1xcblxcdGZsb2F0IGN1cnJlbnRTdGF0ZSA9IHRleHR1cmUyRCh1X3N0YXRlLCB2VVYpLnI7XFxuXFxuXFx0aW50IGNvdW50ID0gMDtcXG5cXHRmb3IgKGludCBpID0gLTE7IGkgPCAyOyBpKyspIHtcXG5cXHRcXHRmb3IgKGludCBqID0tIDE7IGogPCAyOyBqKyspIHtcXG5cXHRcXHRcXHRpZiAoaSA9PSAwICYmIGogPT0gMCkgY29udGludWU7XFxuXFx0XFx0XFx0dmVjMiBuZWlnaGJvclVWID0gdlVWICsgdmVjMih1X3B4U2l6ZS54ICogZmxvYXQoaSksIHVfcHhTaXplLnkgKiBmbG9hdChqKSk7XFxuXFx0XFx0XFx0aWYgKHRleHR1cmUyRCh1X3N0YXRlLCBuZWlnaGJvclVWKS5yID09IDEuMCkgY291bnQrKztcXG5cXHRcXHR9XFxuXFx0fVxcblxcblxcdC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbndheSUyN3NfR2FtZV9vZl9MaWZlI1J1bGVzXFxuXFx0aWYgKGNvdW50ID09IDMgfHwgKGN1cnJlbnRTdGF0ZSA9PSAxLjAgJiYgY291bnQgPT0gMikpIHtcXG5cXHRcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KDEpO1xcblxcdFxcdHJldHVybjtcXG5cXHR9XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCgwLCAwLCAwLDEpO1xcbn1cIiIsIm1vZHVsZS5leHBvcnRzID0gXCJwcmVjaXNpb24gbG93cCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlVWX2xvY2FsO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfbm9pc2VMb29rdXA7XFxuXFxudm9pZCBtYWluKCkge1xcblxcdGZsb2F0IHN0YXRlID0gdGV4dHVyZTJEKHVfbm9pc2VMb29rdXAsIHZVVl9sb2NhbCkucjtcXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KHN0YXRlLCAwLCAwLCAxKTtcXG59XFxuXCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwicHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZVVjtcXG51bmlmb3JtIHNhbXBsZXIyRCB1X3N0YXRlO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHRmbG9hdCBjdXJyZW50U3RhdGUgPSB0ZXh0dXJlMkQodV9zdGF0ZSwgdlVWKS5yO1xcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoY3VycmVudFN0YXRlLCBjdXJyZW50U3RhdGUsIGN1cnJlbnRTdGF0ZSwgMSk7XFxufVwiIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZVxuX193ZWJwYWNrX3JlcXVpcmVfXyg2MDcpO1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgdXNlZCAnZXhwb3J0cycgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxuIl0sInNvdXJjZVJvb3QiOiIifQ==