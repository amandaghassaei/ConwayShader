(()=>{var e={607:(e,t,r)=>{"use strict";var n=r(561),i=r(645),a=r(539),o=r(950),s=document.getElementById("glcanvas"),u=new n.GPGPU(null,s),l=u.initProgram("gol",i,[{name:"u_state",value:0,dataType:"INT"},{name:"u_pxSize",value:[1/s.clientWidth,1/s.clientHeight],dataType:"FLOAT"}]),f=u.initProgram("render",a,[{name:"u_state",value:0,dataType:"INT"}]),h=u.initProgram("interaction",o,[{name:"u_noiseLookup",value:0,dataType:"INT"}]);function c(e,t){void 0===t&&(t=.1);for(var r=new Uint8Array(e),n=0,i=r.length;n<i;n++)r[n]=Math.random()<t?255:0;return r}var d=u.initDataLayer("state",{width:s.clientWidth,height:s.clientHeight,type:"uint8",numChannels:1,data:c(s.clientWidth*s.clientHeight)},!0,2);function _(){var e=s.clientWidth,t=s.clientHeight;d.resize(e,t,c(e*t)),l.setUniform("u_pxSize",[1/e,1/t],"FLOAT"),u.onResize(s)}_(),window.addEventListener("resize",_);var g=u.initDataLayer("noise",{width:20,height:20,type:"uint8",numChannels:1,data:c(400,.5)});function m(e){e.preventDefault();var t="scale(1)";document.body.style.webkitTransform=t,document.body.style.msTransform=t,document.body.style.transform=t}s.addEventListener("mousemove",(function(e){u.stepCircle(h,[e.clientX,e.clientY],10,[g],d)})),s.addEventListener("touchmove",(function(e){e.preventDefault();for(var t=0;t<e.touches.length;t++){var r=e.touches[t];u.stepCircle(h,[r.pageX,r.pageY],10,[g],d)}})),document.addEventListener("gesturestart",m),document.addEventListener("gesturechange",m),document.addEventListener("gestureend",m),window.requestAnimationFrame((function e(){u.step(l,[d],d),u.step(f,[d]),window.requestAnimationFrame(e)}))},249:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataLayer=void 0;var r=function(){function e(e,t,r,n,i,a){if(this.bufferIndex=0,this.buffers=[],this.name=e,this.gl=t,this.errorCallback=n,i<0||i%1!=0)throw new Error("Invalid numBuffers: "+i+" for DataLayer "+this.name+", must be positive integer.");this.numBuffers=i,this.width=r.width,this.height=r.height,this.glInternalFormat=r.glInternalFormat,this.glFormat=r.glFormat,this.glType=r.glType,this.writable=a,this.initBuffers(r.data)}return e.prototype.initBuffers=function(e){for(var t=this,r=t.numBuffers,n=t.gl,i=t.width,a=t.height,o=t.glInternalFormat,s=t.glFormat,u=t.glType,l=t.writable,f=t.errorCallback,h=0;h<r;h++){var c=n.createTexture();if(!c)return void f("Could not init texture for DataLayer "+this.name+": "+n.getError()+".");n.bindTexture(n.TEXTURE_2D,c),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);var d=n.NEAREST;n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,d),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,d),n.texImage2D(n.TEXTURE_2D,0,o,i,a,0,s,u,e||null);var _={texture:c};if(l){var g=n.createFramebuffer();if(!g)return void f("Could not init framebuffer for DataLayer "+this.name+": "+n.getError()+".");n.bindFramebuffer(n.FRAMEBUFFER,g),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,c,0);var m=n.checkFramebufferStatus(n.FRAMEBUFFER);m!=n.FRAMEBUFFER_COMPLETE&&f("Invalid status for framebuffer for DataLayer "+this.name+": "+m+"."),_.framebuffer=g}this.buffers.push(_)}},e.prototype.getCurrentStateTexture=function(){return this.buffers[this.bufferIndex].texture},e.prototype.getLastStateTexture=function(){if(1===this.numBuffers)throw new Error("Calling getLastState on DataLayer "+this.name+" with 1 buffer, no last state available.");return this.buffers[this.bufferIndex].texture},e.prototype.setAsRenderTarget=function(){var e=this.gl;this.bufferIndex=++this.bufferIndex%this.numBuffers;var t=this.buffers[this.bufferIndex].framebuffer;if(!t)throw new Error("DataLayer "+this.name+" is not writable.");e.bindFramebuffer(e.FRAMEBUFFER,t)},e.prototype.resize=function(e,t,r){this.destroyBuffers(),this.width=e,this.height=t,this.initBuffers(r)},e.prototype.destroyBuffers=function(){var e=this.gl,t=this.buffers;t.forEach((function(t){var r=t.framebuffer,n=t.texture;e.deleteTexture(n),r&&e.deleteFramebuffer(r),delete t.texture,delete t.framebuffer})),t.length=0},e.prototype.destroy=function(){this.destroyBuffers(),delete this.gl},e}();t.DataLayer=r},576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPGPU=void 0;for(var n=r(416),i=r(249),a=r(389),o=r(989),s=new Float32Array([-1,-1,1,-1,-1,1,1,1]),u=new Float32Array([-1,-1,1,-1,1,1,-1,1]),l=[0,0],f=0;f<=20;f++)l.push(Math.cos(2*Math.PI*f/20),Math.sin(2*Math.PI*f/20));var h=new Float32Array(l),c=function(){function e(e,t,r){void 0===r&&(r=function(e){throw new Error(e)}),this.extensions={},this.errorState=!1,this.shaders=[];var i=this;if(this.errorCallback=function(e){i.errorState||(i.errorState=!0,r&&r(e))},e||null!==(e=t.getContext("webgl2",{antialias:!1})||t.getContext("webgl",{antialias:!1}))){this.isWebGL2=!!e.HALF_FLOAT,this.isWebGL2?console.log("Using WebGL 2.0 context."):console.log("Using WebGL 1.0 context."),this.gl=e,this.isWebGL2?this.loadExtension("EXT_color_buffer_float"):this.loadExtension("OES_texture_half_float"),this.linearFilterEnabled=this.loadExtension("OES_texture_half_float_linear",!0),e.disable(e.DEPTH_TEST),e.pixelStorei(e.UNPACK_ALIGNMENT,1);var a=o.compileShader(e,this.errorCallback,n.default,e.VERTEX_SHADER);if(a){this.defaultVertexShader=a,this.quadPositionsBuffer=this.initVertexBuffer(s),this.boundaryPositionsBuffer=this.initVertexBuffer(u),this.circlePositionsBuffer=this.initVertexBuffer(h),e.bindBuffer(e.ARRAY_BUFFER,null),this.onResize(t);var l=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS);console.log(l+" textures max.")}else this.errorCallback("Unable to initialize fullscreen quad vertex shader.")}else this.errorCallback("Unable to initialize WebGL context.")}return e.prototype.initVertexBuffer=function(e){var t=this.errorCallback,r=this.gl,n=r.createBuffer();if(n)return r.bindBuffer(r.ARRAY_BUFFER,n),r.bufferData(r.ARRAY_BUFFER,e,r.STATIC_DRAW),n;t("Unable to allocate gl buffer.")},e.prototype.loadExtension=function(e,t){void 0===t&&(t=!1);var r,n=this,i=n.extensions,a=n.gl,o=n.errorCallback;try{r=a.getExtension(e)}catch(e){}return r?(i[e]=r,console.log("Loaded extension: "+e+".")):console.warn("Unsupported "+(t?"optional ":"")+"extension: "+e+"."),r||t||o("Required extension unsupported by this device / browser: "+e+"."),!!r},e.prototype.initProgram=function(e,t,r){var n=this.gl,i=this.errorCallback;return this.defaultVertexShader,new a.GPUProgram(e,n,i,this.defaultVertexShader,t,r)},e.prototype.glTextureParameters=function(e,t,r){var n,i,a,o,s=this,u=s.gl,l=s.isWebGL2,f=s.extensions;if(l){switch(o=e,3===e&&r&&(o=4),o){case 1:i=u.RED;break;case 2:i=u.RG;break;case 3:i=u.RGB;break;case 4:i=u.RGBA}switch(t){case"float16":switch(n=u.HALF_FLOAT,o){case 1:a=u.R16F;break;case 2:a=u.RG16F;break;case 3:a=u.RGB16F;break;case 4:a=u.RGBA16F}break;case"uint8":switch(n=u.UNSIGNED_BYTE,o){case 1:a=u.R8;break;case 2:a=u.RG8;break;case 3:a=u.RGB8;break;case 4:a=u.RGBA8}}}else{switch(e){case 1:case 2:case 3:i=u.RGB,a=u.RGB,o=3;break;case 4:i=u.RGBA,a=u.RGBA,o=4}switch(t){case"float16":n=f.OES_texture_half_float.HALF_FLOAT_OES;break;case"uint8":n=u.UNSIGNED_BYTE}}if(void 0===n||void 0===i||void 0===a)throw new Error("Invalid type: "+t+" or numChannels "+e+".");if(void 0===o||e<1||e>4)throw new Error("Invalid numChannels: "+e+".");return{glFormat:i,glInternalFormat:a,glType:n,glNumChannels:o}},e.prototype.initDataLayer=function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n=1);var a=this.gl,o=this.errorCallback,s=t.data,u=t.width,l=t.height,f=t.type,h=t.numChannels;if(s&&s.length!==u*l*h)throw new Error("Invalid data array of size "+s.length+" for DataLayer "+e+" of dimensions "+u+" x "+l+" x "+h+".");var c=this.glTextureParameters(h,f,r),d=c.glFormat,_=c.glInternalFormat,g=c.glNumChannels,m=c.glType,v=s;if(s&&h!==g){var p=u*l,T=void 0;switch(f){case"uint8":T=new Uint8Array(u*l*g);break;default:throw new Error("Error initing "+e+".  Unsupported type "+f+" for GPGPU.initDataLayer.")}for(var F=0;F<p;F++)for(var b=0;b<h;b++)T[g*F+b]=s[F*h+b];v=T}return new i.DataLayer(e,a,{width:u,height:l,glInternalFormat:_,glFormat:d,glType:m,data:v},o,n,r)},e.prototype.onResize=function(e){var t=this.gl,r=e.clientWidth,n=e.clientHeight;t.viewport(0,0,r,n),e.width=r,e.height=n,this.width=r,this.height=n},e.prototype._step=function(e,t,r){var n=this.gl;if(e.program){n.useProgram(e.program);for(var i=0;i<t.length;i++)n.activeTexture(n.TEXTURE0+i),n.bindTexture(n.TEXTURE_2D,t[i].getCurrentStateTexture());if(r){if(1===r.numBuffers&&t.indexOf(r)>-1)throw new Error("\n\t\t\t\t\tCannot use same buffer for input and output of a program.\n\t\t\t\t\tTry increasing the number of buffers in your output layer to at least 2 so you\n\t\t\t\t\tcan render to nextState using currentState as an input.");r.setAsRenderTarget()}else n.bindFramebuffer(n.FRAMEBUFFER,null);var a=n.getAttribLocation(e.program,"aPosition");n.vertexAttribPointer(a,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(a)}},e.prototype.step=function(e,t,r){void 0===t&&(t=[]);var n=this,i=n.gl,a=n.errorState,o=n.quadPositionsBuffer;a||(e.setUniform("u_scale",[1,1],"FLOAT"),e.setUniform("u_translation",[0,0],"FLOAT"),i.bindBuffer(i.ARRAY_BUFFER,o),this._step(e,t,r),i.drawArrays(i.TRIANGLE_STRIP,0,4))},e.prototype.stepBoundary=function(e,t,r){void 0===t&&(t=[]);var n=this,i=n.gl,a=n.errorState,o=n.boundaryPositionsBuffer,s=n.width,u=n.height;if(!a){var l=[1/s,1/u];e.setUniform("u_scale",[1-l[0],1-l[1]],"FLOAT"),e.setUniform("u_translation",l,"FLOAT"),i.bindBuffer(i.ARRAY_BUFFER,o),this._step(e,t,r),i.drawArrays(i.LINE_LOOP,0,4)}},e.prototype.stepNonBoundary=function(e,t,r){void 0===t&&(t=[]);var n=this,i=n.gl,a=n.errorState,o=n.quadPositionsBuffer,s=n.width,u=n.height;if(!a){var l=[1/s,1/u];e.setUniform("u_scale",[1-2*l[0],1-2*l[1]],"FLOAT"),e.setUniform("u_translation",l,"FLOAT"),i.bindBuffer(i.ARRAY_BUFFER,o),this._step(e,t,r),i.drawArrays(i.TRIANGLE_STRIP,0,4)}},e.prototype.stepCircle=function(e,t,r,n,i){void 0===n&&(n=[]);var a=this,o=a.gl,s=a.errorState,u=a.circlePositionsBuffer,l=a.width,f=a.height;s||(e.setUniform("u_scale",[r/l,r/f],"FLOAT"),e.setUniform("u_translation",[2*t[0]/l-1,-2*t[1]/f+1],"FLOAT"),o.bindBuffer(o.ARRAY_BUFFER,u),this._step(e,n,i),o.drawArrays(o.TRIANGLE_FAN,0,22))},e.prototype.reset=function(){},e}();t.GPGPU=c},389:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GPUProgram=void 0;var n=r(647),i=r(989),a=function(){function e(e,t,r,n,a,o){var s=this;this.uniforms={},this.shaders=[],this.name=e,this.gl=t,this.errorCallback=r;var u=t.createProgram();if(u){var l=i.compileShader(t,r,a,t.FRAGMENT_SHADER);l?(this.shaders.push(l),t.attachShader(u,n),t.attachShader(u,l),t.linkProgram(u),t.getProgramParameter(u,t.LINK_STATUS)?(this.program=u,null==o||o.forEach((function(e){var t=e.name,r=e.value,n=e.dataType;s.setUniform(t,r,n)}))):r("Program "+e+" failed to link: "+t.getProgramInfoLog(u))):r("Unable to compile fragment shader for program "+e+".")}else r("Unable to init gl program: "+e+".")}return e.prototype.uniformTypeForValue=function(e,t){if(t===n.FLOAT_TYPE){if(!isNaN(e)||1===e.length)return n.FLOAT_1D_UNIFORM;if(2===e.length)return n.FLOAT_2D_UNIFORM;if(3===e.length)return n.FLOAT_3D_UNIFORM;if(4===e.length)return n.FLOAT_4D_UNIFORM;throw new Error("Invalid uniform value: "+e)}if(t===n.INT_TYPE){if(!isNaN(e)||1===e.length)return n.INT_1D_UNIFORM;if(2===e.length)return n.INT_2D_UNIFORM;if(3===e.length)return n.INT_3D_UNIFORM;if(4===e.length)return n.INT_4D_UNIFORM;throw new Error("Invalid uniform value: "+e)}throw new Error("Invalid uniform data type: "+t)},e.prototype.setUniform=function(e,t,r){var i=this,a=i.gl,o=i.errorCallback,s=i.program,u=i.uniforms;if(s){a.useProgram(s);var l=this.uniformTypeForValue(t,r);if(!u[e]){var f=a.getUniformLocation(s,e);if(!f)return void o("Could not init uniform "+e+".\nCheck that uniform is present in shader code, unused uniforms may be removed by compiler.\nAlso check that uniform type in shader code matches type "+l+".\nError code: "+a.getError()+".");u[e]={location:f,type:l}}var h=u[e];if(h.type!=l)throw new Error("Uniform "+e+" cannot change from type "+h.type+" to type "+l+".");var c=h.location;switch(l){case n.FLOAT_1D_UNIFORM:a.uniform1f(c,t);break;case n.FLOAT_2D_UNIFORM:a.uniform2fv(c,t);break;case n.FLOAT_3D_UNIFORM:a.uniform3fv(c,t);break;case n.FLOAT_4D_UNIFORM:a.uniform4fv(c,t);break;case n.INT_1D_UNIFORM:a.uniform1i(c,t);break;case n.INT_2D_UNIFORM:a.uniform2iv(c,t);break;case n.INT_3D_UNIFORM:a.uniform3iv(c,t);break;case n.INT_4D_UNIFORM:a.uniform4iv(c,t);break;default:throw new Error("Unknown uniform type: "+l+".")}}else o("Program not inited.")},e.prototype.destroy=function(){var e=this,t=e.gl,r=e.program,n=e.shaders;r&&t.deleteProgram(r);for(var i=0;i<n.length;i++)t.deleteShader(n[i]);n.length=0,delete this.gl,delete this.program},e}();t.GPUProgram=a},647:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INT_TYPE=t.FLOAT_TYPE=t.INT_4D_UNIFORM=t.INT_3D_UNIFORM=t.INT_2D_UNIFORM=t.INT_1D_UNIFORM=t.FLOAT_4D_UNIFORM=t.FLOAT_3D_UNIFORM=t.FLOAT_2D_UNIFORM=t.FLOAT_1D_UNIFORM=void 0,t.FLOAT_1D_UNIFORM="1f",t.FLOAT_2D_UNIFORM="2f",t.FLOAT_3D_UNIFORM="3f",t.FLOAT_4D_UNIFORM="3f",t.INT_1D_UNIFORM="1i",t.INT_2D_UNIFORM="2i",t.INT_3D_UNIFORM="3i",t.INT_4D_UNIFORM="3i",t.FLOAT_TYPE="FLOAT",t.INT_TYPE="INT"},561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleColorFragShader=t.GPGPU=void 0;var n=r(576);Object.defineProperty(t,"GPGPU",{enumerable:!0,get:function(){return n.GPGPU}});var i=r(929);t.SingleColorFragShader=i.default},416:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\n\nattribute vec2 aPosition;\n\nuniform vec2 u_scale;\nuniform vec2 u_translation;\n\nvarying vec2 vUV_local;\nvarying vec2 vUV;\n\nvoid main() {\n\t// Calculate UV coordinates of current rendered object.\n\tvUV_local = 0.5 * (aPosition + 1.0);\n\t// Apply transformations.\n\tvec2 position = u_scale * aPosition + u_translation;\n\t// Calculate a global uv for the viewport.\n\tvUV = 0.5 * (position + 1.0);\n\t// Calculate vertex position.\n\tgl_Position = vec4(position, 0, 1);\n}\n"},929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="\nprecision highp float;\n\nuniform vec3 u_color;\n\nvoid main() {\n\tgl_FragColor = vec4(u_color, 1);\n}"},989:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileShader=void 0,t.compileShader=function(e,t,r,n){var i=e.createShader(n);return i?(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)?i:(t("Could not compile "+(n===e.FRAGMENT_SHADER?"fragment":"vertex")+"\n\t\t\t shader: "+e.getShaderInfoLog(i)),null)):(t("Unable to init gl shader."),null)}},645:e=>{e.exports="precision lowp float;\n\nvarying vec2 vUV;\nuniform sampler2D u_state;\nuniform vec2 u_pxSize;\n\nvoid main() {\n\tfloat currentState = texture2D(u_state, vUV).r;\n\n\tint count = 0;\n\tfor (int i = -1; i < 2; i++) {\n\t\tfor (int j =- 1; j < 2; j++) {\n\t\t\tif (i == 0 && j == 0) continue;\n\t\t\tvec2 neighborUV = vUV + vec2(u_pxSize.x * float(i), u_pxSize.y * float(j));\n\t\t\tif (texture2D(u_state, neighborUV).r == 1.0) count++;\n\t\t}\n\t}\n\n\t// https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life#Rules\n\tif (count == 3 || (currentState == 1.0 && count == 2)) {\n\t\tgl_FragColor = vec4(1);\n\t\treturn;\n\t}\n\tgl_FragColor = vec4(0, 0, 0,1);\n}"},950:e=>{e.exports="precision lowp float;\n\nvarying vec2 vUV_local;\nuniform sampler2D u_noiseLookup;\n\nvoid main() {\n\tfloat state = texture2D(u_noiseLookup, vUV_local).r;\n\tgl_FragColor = vec4(state, 0, 0, 1);\n}\n"},539:e=>{e.exports="precision lowp float;\n\nvarying vec2 vUV;\nuniform sampler2D u_state;\n\nvoid main() {\n\tfloat currentState = texture2D(u_state, vUV).r;\n\tgl_FragColor = vec4(currentState, currentState, currentState, 1);\n}"}},t={};!function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb253YXlzaGFkZXIvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vY29ud2F5c2hhZGVyLy4vbm9kZV9tb2R1bGVzL3dlYmdsLWdwZ3B1L2Rpc3QvRGF0YUxheWVyLmpzIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L0dQR1BVLmpzIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L0dQVVByb2dyYW0uanMiLCJ3ZWJwYWNrOi8vY29ud2F5c2hhZGVyLy4vbm9kZV9tb2R1bGVzL3dlYmdsLWdwZ3B1L2Rpc3QvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L2luZGV4LmpzIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL25vZGVfbW9kdWxlcy93ZWJnbC1ncGdwdS9kaXN0L2tlcm5lbHMvRGVmYXVsdFZlcnRleFNoYWRlci5qcyIsIndlYnBhY2s6Ly9jb253YXlzaGFkZXIvLi9ub2RlX21vZHVsZXMvd2ViZ2wtZ3BncHUvZGlzdC9rZXJuZWxzL1NpbmdsZUNvbG9yRnJhZ1NoYWRlci5qcyIsIndlYnBhY2s6Ly9jb253YXlzaGFkZXIvLi9ub2RlX21vZHVsZXMvd2ViZ2wtZ3BncHUvZGlzdC91dGlscy5qcyIsIndlYnBhY2s6Ly9jb253YXlzaGFkZXIvLi9zcmMva2VybmVscy9HT0xTaGFkZXIuZ2xzbCIsIndlYnBhY2s6Ly9jb253YXlzaGFkZXIvLi9zcmMva2VybmVscy9JbnRlcmFjdGlvblNoYWRlci5nbHNsIiwid2VicGFjazovL2NvbndheXNoYWRlci8uL3NyYy9rZXJuZWxzL1JlbmRlclNoYWRlci5nbHNsIiwid2VicGFjazovL2NvbndheXNoYWRlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jb253YXlzaGFkZXIvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbImdvbFNoYWRlclNvdXJjZSIsInJlbmRlclNoYWRlclNvdXJjZSIsImludGVyYWN0aW9uU2hhZGVyU291cmNlIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdwZ3B1IiwiR1BHUFUiLCJnb2wiLCJpbml0UHJvZ3JhbSIsIm5hbWUiLCJ2YWx1ZSIsImRhdGFUeXBlIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJyZW5kZXIiLCJpbnRlcmFjdGlvbiIsIm1ha2VSYW5kb21BcnJheSIsImxlbmd0aCIsInByb2JhYmlsaXR5IiwiYXJyYXkiLCJVaW50OEFycmF5IiwiaSIsIk1hdGgiLCJyYW5kb20iLCJzdGF0ZSIsImluaXREYXRhTGF5ZXIiLCJ3aWR0aCIsImhlaWdodCIsInR5cGUiLCJudW1DaGFubmVscyIsImRhdGEiLCJvblJlc2l6ZSIsInJlc2l6ZSIsInNldFVuaWZvcm0iLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwibm9pc2UiLCJUT1VDSF9SQURJVVMiLCJkaXNhYmxlWm9vbSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNjYWxlIiwiYm9keSIsInN0eWxlIiwid2Via2l0VHJhbnNmb3JtIiwibXNUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJzdGVwQ2lyY2xlIiwiY2xpZW50WCIsImNsaWVudFkiLCJ0b3VjaGVzIiwidG91Y2giLCJwYWdlWCIsInBhZ2VZIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic3RlcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsIkRhdGFMYXllciIsImdsIiwib3B0aW9ucyIsImVycm9yQ2FsbGJhY2siLCJudW1CdWZmZXJzIiwid3JpdGFibGUiLCJ0aGlzIiwiYnVmZmVySW5kZXgiLCJidWZmZXJzIiwiRXJyb3IiLCJnbEludGVybmFsRm9ybWF0IiwiZ2xGb3JtYXQiLCJnbFR5cGUiLCJpbml0QnVmZmVycyIsInByb3RvdHlwZSIsIl9hIiwidGV4dHVyZSIsImNyZWF0ZVRleHR1cmUiLCJnZXRFcnJvciIsImJpbmRUZXh0dXJlIiwiVEVYVFVSRV8yRCIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX1dSQVBfUyIsIkNMQU1QX1RPX0VER0UiLCJURVhUVVJFX1dSQVBfVCIsImZpbHRlciIsIk5FQVJFU1QiLCJURVhUVVJFX01JTl9GSUxURVIiLCJURVhUVVJFX01BR19GSUxURVIiLCJ0ZXhJbWFnZTJEIiwiYnVmZmVyIiwiZnJhbWVidWZmZXIiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsInN0YXR1c18xIiwiY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyIsIkZSQU1FQlVGRkVSX0NPTVBMRVRFIiwicHVzaCIsImdldEN1cnJlbnRTdGF0ZVRleHR1cmUiLCJnZXRMYXN0U3RhdGVUZXh0dXJlIiwic2V0QXNSZW5kZXJUYXJnZXQiLCJkZXN0cm95QnVmZmVycyIsImZvckVhY2giLCJkZWxldGVUZXh0dXJlIiwiZGVsZXRlRnJhbWVidWZmZXIiLCJkZXN0cm95IiwiRGVmYXVsdFZlcnRleFNoYWRlcl8xIiwiRGF0YUxheWVyXzEiLCJHUFVQcm9ncmFtXzEiLCJ1dGlsc18xIiwiZnNRdWFkUG9zaXRpb25zIiwiRmxvYXQzMkFycmF5IiwiYm91bmRhcnlQb3NpdGlvbnMiLCJ1bml0Q2lyY2xlUG9pbnRzIiwiY29zIiwiUEkiLCJzaW4iLCJjaXJjbGVQb3NpdGlvbnMiLCJjYW52YXNFbCIsIm1lc3NhZ2UiLCJleHRlbnNpb25zIiwiZXJyb3JTdGF0ZSIsInNoYWRlcnMiLCJzZWxmIiwiZ2V0Q29udGV4dCIsImFudGlhbGlhcyIsImlzV2ViR0wyIiwiSEFMRl9GTE9BVCIsImNvbnNvbGUiLCJsb2ciLCJsb2FkRXh0ZW5zaW9uIiwibGluZWFyRmlsdGVyRW5hYmxlZCIsImRpc2FibGUiLCJERVBUSF9URVNUIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfQUxJR05NRU5UIiwiZGVmYXVsdFZlcnRleFNoYWRlciIsImNvbXBpbGVTaGFkZXIiLCJkZWZhdWx0IiwiVkVSVEVYX1NIQURFUiIsInF1YWRQb3NpdGlvbnNCdWZmZXIiLCJpbml0VmVydGV4QnVmZmVyIiwiYm91bmRhcnlQb3NpdGlvbnNCdWZmZXIiLCJjaXJjbGVQb3NpdGlvbnNCdWZmZXIiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwibWF4VGV4dHVyZXNJbkZyYWdtZW50U2hhZGVyIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJjcmVhdGVCdWZmZXIiLCJidWZmZXJEYXRhIiwiU1RBVElDX0RSQVciLCJleHRlbnNpb24iLCJvcHRpb25hbCIsImV4dCIsImdldEV4dGVuc2lvbiIsIndhcm4iLCJmcmFnbWVudFNoYWRlclNvdXJjZSIsInVuaWZvcm1zIiwiR1BVUHJvZ3JhbSIsImdsVGV4dHVyZVBhcmFtZXRlcnMiLCJnbE51bUNoYW5uZWxzIiwiUkVEIiwiUkciLCJSR0IiLCJSR0JBIiwiUjE2RiIsIlJHMTZGIiwiUkdCMTZGIiwiUkdCQTE2RiIsIlVOU0lHTkVEX0JZVEUiLCJSOCIsIlJHOCIsIlJHQjgiLCJSR0JBOCIsIkhBTEZfRkxPQVRfT0VTIiwidW5kZWZpbmVkIiwiX2IiLCJkYXRhUmVzaXplZCIsImltYWdlU2l6ZSIsIm5ld0FycmF5IiwiaiIsInZpZXdwb3J0IiwiX3N0ZXAiLCJwcm9ncmFtIiwiaW5wdXRMYXllcnMiLCJvdXRwdXRMYXllciIsInVzZVByb2dyYW0iLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJpbmRleE9mIiwicG9zaXRpb25Mb2NhdGlvbiIsImdldEF0dHJpYkxvY2F0aW9uIiwidmVydGV4QXR0cmliUG9pbnRlciIsIkZMT0FUIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJkcmF3QXJyYXlzIiwiVFJJQU5HTEVfU1RSSVAiLCJzdGVwQm91bmRhcnkiLCJvbmVQeCIsIkxJTkVfTE9PUCIsInN0ZXBOb25Cb3VuZGFyeSIsInBvc2l0aW9uIiwicmFkaXVzIiwiVFJJQU5HTEVfRkFOIiwiTlVNX1NFR01FTlRTX0NJUkNMRSIsInJlc2V0IiwiY29uc3RhbnRzXzEiLCJ2ZXJ0ZXhTaGFkZXIiLCJfdGhpcyIsImNyZWF0ZVByb2dyYW0iLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwidW5pZm9ybSIsImdldFByb2dyYW1JbmZvTG9nIiwidW5pZm9ybVR5cGVGb3JWYWx1ZSIsIkZMT0FUX1RZUEUiLCJpc05hTiIsIkZMT0FUXzFEX1VOSUZPUk0iLCJGTE9BVF8yRF9VTklGT1JNIiwiRkxPQVRfM0RfVU5JRk9STSIsIkZMT0FUXzREX1VOSUZPUk0iLCJJTlRfVFlQRSIsIklOVF8xRF9VTklGT1JNIiwiSU5UXzJEX1VOSUZPUk0iLCJJTlRfM0RfVU5JRk9STSIsIklOVF80RF9VTklGT1JNIiwidW5pZm9ybU5hbWUiLCJsb2NhdGlvbl8xIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwibG9jYXRpb24iLCJ1bmlmb3JtMWYiLCJ1bmlmb3JtMmZ2IiwidW5pZm9ybTNmdiIsInVuaWZvcm00ZnYiLCJ1bmlmb3JtMWkiLCJ1bmlmb3JtMml2IiwidW5pZm9ybTNpdiIsInVuaWZvcm00aXYiLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwiU2luZ2xlQ29sb3JGcmFnU2hhZGVyIiwiR1BHUFVfMSIsImVudW1lcmFibGUiLCJnZXQiLCJTaW5nbGVDb2xvckZyYWdTaGFkZXJfMSIsInNoYWRlclNvdXJjZSIsInNoYWRlclR5cGUiLCJzaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImdldFNoYWRlckluZm9Mb2ciLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tf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LDRNLFFDQWpCeU0sRUFBT3pNLFFBQVUsdU5DQ2IwTSxFQUEyQixJQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsR0FBR0YsRUFBeUJFLEdBQzNCLE9BQU9GLEVBQXlCRSxHQUFVNU0sUUFHM0MsSUFBSXlNLEVBQVNDLEVBQXlCRSxHQUFZLENBR2pENU0sUUFBUyxJQU9WLE9BSEE2TSxFQUFvQkQsR0FBVUgsRUFBUUEsRUFBT3pNLFFBQVMyTSxHQUcvQ0YsRUFBT3pNLFFDbEJmMk0sQ0FBb0IsTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR1BHUFUgfSBmcm9tICd3ZWJnbC1ncGdwdSc7XG5jb25zdCBnb2xTaGFkZXJTb3VyY2UgPSByZXF1aXJlKCcuL2tlcm5lbHMvR09MU2hhZGVyLmdsc2wnKTtcbmNvbnN0IHJlbmRlclNoYWRlclNvdXJjZSA9IHJlcXVpcmUoJy4va2VybmVscy9SZW5kZXJTaGFkZXIuZ2xzbCcpO1xuY29uc3QgaW50ZXJhY3Rpb25TaGFkZXJTb3VyY2UgPSByZXF1aXJlKCcuL2tlcm5lbHMvSW50ZXJhY3Rpb25TaGFkZXIuZ2xzbCcpO1xuXG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2xjYW52YXMnKSAgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5jb25zdCBncGdwdSA9IG5ldyBHUEdQVShudWxsLCBjYW52YXMpO1xuXG4vLyBJbml0IHByb2dyYW1zLlxuY29uc3QgZ29sID0gZ3BncHUuaW5pdFByb2dyYW0oJ2dvbCcsIGdvbFNoYWRlclNvdXJjZSwgW1xuXHR7XG5cdFx0bmFtZTogJ3Vfc3RhdGUnLFxuXHRcdHZhbHVlOiAwLFxuXHRcdGRhdGFUeXBlOiAnSU5UJyxcblx0fSxcblx0e1xuXHRcdG5hbWU6ICd1X3B4U2l6ZScsXG5cdFx0dmFsdWU6IFsxIC8gY2FudmFzLmNsaWVudFdpZHRoLCAxIC8gY2FudmFzLmNsaWVudEhlaWdodF0sXG5cdFx0ZGF0YVR5cGU6ICdGTE9BVCcsXG5cdH0sXG5dKTtcbmNvbnN0IHJlbmRlciA9IGdwZ3B1LmluaXRQcm9ncmFtKCdyZW5kZXInLCByZW5kZXJTaGFkZXJTb3VyY2UsIFtcblx0e1xuXHRcdG5hbWU6ICd1X3N0YXRlJyxcblx0XHR2YWx1ZTogMCxcblx0XHRkYXRhVHlwZTogJ0lOVCcsXG5cdH0sXG5dKTtcbmNvbnN0IGludGVyYWN0aW9uID0gZ3BncHUuaW5pdFByb2dyYW0oJ2ludGVyYWN0aW9uJywgaW50ZXJhY3Rpb25TaGFkZXJTb3VyY2UsIFtcblx0e1xuXHRcdG5hbWU6ICd1X25vaXNlTG9va3VwJyxcblx0XHR2YWx1ZTogMCxcblx0XHRkYXRhVHlwZTogJ0lOVCcsXG5cdH0sXG5dKTtcblxuLy8gTWFrZSBhIHJhbmRvbSBhcnJheSBvZiAxJ3MgYW5kIDAncy5cbmZ1bmN0aW9uIG1ha2VSYW5kb21BcnJheShsZW5ndGg6IG51bWJlciwgcHJvYmFiaWxpdHkgPSAwLjEpIHtcblx0Y29uc3QgYXJyYXkgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuXHRmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRhcnJheVtpXSA9IE1hdGgucmFuZG9tKCkgPCBwcm9iYWJpbGl0eSA/IDI1NSA6IDA7XG5cdH1cblx0cmV0dXJuIGFycmF5O1xufVxuXG4vLyBJbml0IHN0YXRlLlxuY29uc3Qgc3RhdGUgPSBncGdwdS5pbml0RGF0YUxheWVyKCdzdGF0ZScsIHtcblx0d2lkdGg6IGNhbnZhcy5jbGllbnRXaWR0aCxcblx0aGVpZ2h0OiBjYW52YXMuY2xpZW50SGVpZ2h0LFxuXHR0eXBlOiAndWludDgnLFxuXHRudW1DaGFubmVsczogMSxcblx0ZGF0YTogbWFrZVJhbmRvbUFycmF5KGNhbnZhcy5jbGllbnRXaWR0aCAqIGNhbnZhcy5jbGllbnRIZWlnaHQpLFxufSwgdHJ1ZSwgMik7IC8vIFVzZSB0d28gYnVmZmVycywgb25lIGZvciB0aGlzIHN0YXRlLCBvbmUgZm9yIGxhc3Qgc3RhdGUuXG5vblJlc2l6ZSgpO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplKTtcbmZ1bmN0aW9uIG9uUmVzaXplKCkge1xuXHQvLyBSZS1pbml0IHRleHR1cmVzIGF0IG5ldyBzaXplLlxuXHRjb25zdCB3aWR0aCA9IGNhbnZhcy5jbGllbnRXaWR0aDtcblx0Y29uc3QgaGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcblx0c3RhdGUucmVzaXplKHdpZHRoLCBoZWlnaHQsIG1ha2VSYW5kb21BcnJheSh3aWR0aCAqIGhlaWdodCkpO1xuXHRnb2wuc2V0VW5pZm9ybSgndV9weFNpemUnLCBbMSAvIHdpZHRoLCAxIC8gaGVpZ2h0XSwgJ0ZMT0FUJyk7XG5cdGdwZ3B1Lm9uUmVzaXplKGNhbnZhcyk7XG59XG5cbi8vIFNldCB1cCBpbnRlcmFjdGlvbnMuXG5jb25zdCBUT1VDSF9SQURJVVMgPSAxMDtcbi8vIENyZWF0ZSBhIGxvb2t1cCB0ZXh0dXJlIGZvciBhZGRpbmcgbm9pc2Ugb24gaW50ZXJhY3Rpb24uXG5jb25zdCBub2lzZSA9IGdwZ3B1LmluaXREYXRhTGF5ZXIoJ25vaXNlJyxcblx0e1xuXHRcdHdpZHRoOiBUT1VDSF9SQURJVVMgKiAyLFxuXHRcdGhlaWdodDogVE9VQ0hfUkFESVVTICogMixcblx0XHR0eXBlOiAndWludDgnLFxuXHRcdG51bUNoYW5uZWxzOiAxLFxuXHRcdGRhdGE6IG1ha2VSYW5kb21BcnJheSg0ICogVE9VQ0hfUkFESVVTICogVE9VQ0hfUkFESVVTLCAwLjUpLFxuXHR9LFxuKTtcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZTogTW91c2VFdmVudCkgPT4ge1xuXHRncGdwdS5zdGVwQ2lyY2xlKGludGVyYWN0aW9uLCBbZS5jbGllbnRYLCBlLmNsaWVudFldLCBUT1VDSF9SQURJVVMsIFtub2lzZV0sIHN0YXRlKTtcbn0pO1xuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIChlOiBUb3VjaEV2ZW50KSA9PiB7XG5cdGUucHJldmVudERlZmF1bHQoKTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBlLnRvdWNoZXMubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCB0b3VjaCA9IGUudG91Y2hlc1tpXTtcblx0XHRncGdwdS5zdGVwQ2lyY2xlKGludGVyYWN0aW9uLCBbdG91Y2gucGFnZVgsIHRvdWNoLnBhZ2VZXSwgVE9VQ0hfUkFESVVTLCBbbm9pc2VdLCBzdGF0ZSk7XG5cdH1cbn0pO1xuLy8gRGlzYWJsZSBvdGhlciBnZXN0dXJlcy5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVzdGFydCcsIGRpc2FibGVab29tKTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2dlc3R1cmVjaGFuZ2UnLCBkaXNhYmxlWm9vbSk7IFxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZ2VzdHVyZWVuZCcsIGRpc2FibGVab29tKTtcbmZ1bmN0aW9uIGRpc2FibGVab29tKGU6IEV2ZW50KSB7XG5cdGUucHJldmVudERlZmF1bHQoKTtcblx0Y29uc3Qgc2NhbGUgPSAnc2NhbGUoMSknO1xuXHQvLyBAdHMtaWdub3JlXG5cdGRvY3VtZW50LmJvZHkuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gIHNjYWxlOyAgICAvLyBDaHJvbWUsIE9wZXJhLCBTYWZhcmlcblx0Ly8gQHRzLWlnbm9yZVxuXHRkb2N1bWVudC5ib2R5LnN0eWxlLm1zVHJhbnNmb3JtID0gICBzY2FsZTsgICAgICAgLy8gSUUgOVxuXHRkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybSA9IHNjYWxlO1xufVxuXG4vLyBTdGFydCByZW5kZXIgbG9vcC5cbndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG5mdW5jdGlvbiBzdGVwKCkge1xuXHQvLyBDb21wdXRlIHJ1bGVzLlxuXHRncGdwdS5zdGVwKGdvbCwgW3N0YXRlXSwgc3RhdGUpO1xuXHQvLyBSZW5kZXIgY3VycmVudCBzdGF0ZS5cblx0Z3BncHUuc3RlcChyZW5kZXIsIFtzdGF0ZV0pO1xuXHQvLyBTdGFydCBhIG5ldyByZW5kZXIgY3ljbGUuXG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRhdGFMYXllciA9IHZvaWQgMDtcbnZhciBEYXRhTGF5ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGF0YUxheWVyKG5hbWUsIGdsLCBvcHRpb25zLCBlcnJvckNhbGxiYWNrLCBudW1CdWZmZXJzLCB3cml0YWJsZSkge1xuICAgICAgICB0aGlzLmJ1ZmZlckluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gW107XG4gICAgICAgIC8vIFNhdmUgcGFyYW1zLlxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjayA9IGVycm9yQ2FsbGJhY2s7XG4gICAgICAgIGlmIChudW1CdWZmZXJzIDwgMCB8fCBudW1CdWZmZXJzICUgMSAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBudW1CdWZmZXJzOiBcIiArIG51bUJ1ZmZlcnMgKyBcIiBmb3IgRGF0YUxheWVyIFwiICsgdGhpcy5uYW1lICsgXCIsIG11c3QgYmUgcG9zaXRpdmUgaW50ZWdlci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5udW1CdWZmZXJzID0gbnVtQnVmZmVycztcbiAgICAgICAgLy8gU2F2ZSBvcHRpb25zLlxuICAgICAgICB0aGlzLndpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgdGhpcy5nbEludGVybmFsRm9ybWF0ID0gb3B0aW9ucy5nbEludGVybmFsRm9ybWF0O1xuICAgICAgICB0aGlzLmdsRm9ybWF0ID0gb3B0aW9ucy5nbEZvcm1hdDtcbiAgICAgICAgdGhpcy5nbFR5cGUgPSBvcHRpb25zLmdsVHlwZTtcbiAgICAgICAgdGhpcy53cml0YWJsZSA9IHdyaXRhYmxlO1xuICAgICAgICB0aGlzLmluaXRCdWZmZXJzKG9wdGlvbnMuZGF0YSk7XG4gICAgfVxuICAgIERhdGFMYXllci5wcm90b3R5cGUuaW5pdEJ1ZmZlcnMgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBudW1CdWZmZXJzID0gX2EubnVtQnVmZmVycywgZ2wgPSBfYS5nbCwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0LCBnbEludGVybmFsRm9ybWF0ID0gX2EuZ2xJbnRlcm5hbEZvcm1hdCwgZ2xGb3JtYXQgPSBfYS5nbEZvcm1hdCwgZ2xUeXBlID0gX2EuZ2xUeXBlLCB3cml0YWJsZSA9IF9hLndyaXRhYmxlLCBlcnJvckNhbGxiYWNrID0gX2EuZXJyb3JDYWxsYmFjaztcbiAgICAgICAgLy8gSW5pdCBhIHRleHR1cmUgZm9yIGVhY2ggYnVmZmVyLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUJ1ZmZlcnM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgICAgICBpZiAoIXRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiQ291bGQgbm90IGluaXQgdGV4dHVyZSBmb3IgRGF0YUxheWVyIFwiICsgdGhpcy5uYW1lICsgXCI6IFwiICsgZ2wuZ2V0RXJyb3IoKSArIFwiLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICAgICAgICAgIC8vIFRPRE86IGRpZyBpbnRvIHRoaXMuXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9IGdsLk5FQVJFU1Q7IC8vdGhpcy5saW5lYXJGaWx0ZXJFbmFibGVkID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVDtcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBmaWx0ZXIpO1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGZpbHRlcik7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsSW50ZXJuYWxGb3JtYXQsIHdpZHRoLCBoZWlnaHQsIDAsIGdsRm9ybWF0LCBnbFR5cGUsIGRhdGEgPyBkYXRhIDogbnVsbCk7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0ge1xuICAgICAgICAgICAgICAgIHRleHR1cmU6IHRleHR1cmUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHdyaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgLy8gSW5pdCBhIGZyYW1lYnVmZmVyIGZvciB0aGlzIHRleHR1cmUgc28gd2UgY2FuIHdyaXRlIHRvIGl0LlxuICAgICAgICAgICAgICAgIHZhciBmcmFtZWJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiQ291bGQgbm90IGluaXQgZnJhbWVidWZmZXIgZm9yIERhdGFMYXllciBcIiArIHRoaXMubmFtZSArIFwiOiBcIiArIGdsLmdldEVycm9yKCkgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMUmVuZGVyaW5nQ29udGV4dC9mcmFtZWJ1ZmZlclRleHR1cmUyRFxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSwgMCk7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXR1c18xID0gZ2wuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhnbC5GUkFNRUJVRkZFUik7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1c18xICE9IGdsLkZSQU1FQlVGRkVSX0NPTVBMRVRFKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJJbnZhbGlkIHN0YXR1cyBmb3IgZnJhbWVidWZmZXIgZm9yIERhdGFMYXllciBcIiArIHRoaXMubmFtZSArIFwiOiBcIiArIHN0YXR1c18xICsgXCIuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBZGQgZnJhbWVidWZmZXIuXG4gICAgICAgICAgICAgICAgYnVmZmVyLmZyYW1lYnVmZmVyID0gZnJhbWVidWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTYXZlIHRoaXMgYnVmZmVyIHRvIHRoZSBsaXN0LlxuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5nZXRDdXJyZW50U3RhdGVUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzW3RoaXMuYnVmZmVySW5kZXhdLnRleHR1cmU7XG4gICAgfTtcbiAgICBEYXRhTGF5ZXIucHJvdG90eXBlLmdldExhc3RTdGF0ZVRleHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm51bUJ1ZmZlcnMgPT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbGxpbmcgZ2V0TGFzdFN0YXRlIG9uIERhdGFMYXllciBcIiArIHRoaXMubmFtZSArIFwiIHdpdGggMSBidWZmZXIsIG5vIGxhc3Qgc3RhdGUgYXZhaWxhYmxlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXJzW3RoaXMuYnVmZmVySW5kZXhdLnRleHR1cmU7XG4gICAgfTtcbiAgICBEYXRhTGF5ZXIucHJvdG90eXBlLnNldEFzUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICAvLyBJbmNyZW1lbnQgYnVmZmVySW5kZXguXG4gICAgICAgIHRoaXMuYnVmZmVySW5kZXggPSAoKyt0aGlzLmJ1ZmZlckluZGV4KSAlIHRoaXMubnVtQnVmZmVycztcbiAgICAgICAgdmFyIGZyYW1lYnVmZmVyID0gdGhpcy5idWZmZXJzW3RoaXMuYnVmZmVySW5kZXhdLmZyYW1lYnVmZmVyO1xuICAgICAgICBpZiAoIWZyYW1lYnVmZmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhTGF5ZXIgXCIgKyB0aGlzLm5hbWUgKyBcIiBpcyBub3Qgd3JpdGFibGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVidWZmZXIpO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCwgZGF0YSkge1xuICAgICAgICB0aGlzLmRlc3Ryb3lCdWZmZXJzKCk7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuaW5pdEJ1ZmZlcnMoZGF0YSk7XG4gICAgfTtcbiAgICBEYXRhTGF5ZXIucHJvdG90eXBlLmRlc3Ryb3lCdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBidWZmZXJzID0gX2EuYnVmZmVycztcbiAgICAgICAgYnVmZmVycy5mb3JFYWNoKGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgICAgIHZhciBmcmFtZWJ1ZmZlciA9IGJ1ZmZlci5mcmFtZWJ1ZmZlciwgdGV4dHVyZSA9IGJ1ZmZlci50ZXh0dXJlO1xuICAgICAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgIGlmIChmcmFtZWJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU7XG4gICAgICAgICAgICBkZWxldGUgYnVmZmVyLnRleHR1cmU7XG4gICAgICAgICAgICBkZWxldGUgYnVmZmVyLmZyYW1lYnVmZmVyO1xuICAgICAgICB9KTtcbiAgICAgICAgYnVmZmVycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgRGF0YUxheWVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3lCdWZmZXJzKCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmU7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmdsO1xuICAgIH07XG4gICAgcmV0dXJuIERhdGFMYXllcjtcbn0oKSk7XG5leHBvcnRzLkRhdGFMYXllciA9IERhdGFMYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURhdGFMYXllci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuR1BHUFUgPSB2b2lkIDA7XG52YXIgRGVmYXVsdFZlcnRleFNoYWRlcl8xID0gcmVxdWlyZShcIi4va2VybmVscy9EZWZhdWx0VmVydGV4U2hhZGVyXCIpO1xudmFyIERhdGFMYXllcl8xID0gcmVxdWlyZShcIi4vRGF0YUxheWVyXCIpO1xudmFyIEdQVVByb2dyYW1fMSA9IHJlcXVpcmUoXCIuL0dQVVByb2dyYW1cIik7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIGZzUXVhZFBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoWy0xLCAtMSwgMSwgLTEsIC0xLCAxLCAxLCAxXSk7XG52YXIgYm91bmRhcnlQb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KFstMSwgLTEsIDEsIC0xLCAxLCAxLCAtMSwgMV0pO1xudmFyIHVuaXRDaXJjbGVQb2ludHMgPSBbMCwgMF07XG52YXIgTlVNX1NFR01FTlRTX0NJUkNMRSA9IDIwO1xuZm9yICh2YXIgaSA9IDA7IGkgPD0gTlVNX1NFR01FTlRTX0NJUkNMRTsgaSsrKSB7XG4gICAgdW5pdENpcmNsZVBvaW50cy5wdXNoKE1hdGguY29zKDIgKiBNYXRoLlBJICogaSAvIE5VTV9TRUdNRU5UU19DSVJDTEUpLCBNYXRoLnNpbigyICogTWF0aC5QSSAqIGkgLyBOVU1fU0VHTUVOVFNfQ0lSQ0xFKSk7XG59XG52YXIgY2lyY2xlUG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheSh1bml0Q2lyY2xlUG9pbnRzKTtcbi8vIFN0b3JlIGV4dGVuc2lvbiBuYW1lcyBhcyBjb25zdGFudHMuXG52YXIgT0VTX1RFWFRVUkVfSEFMRl9GTE9BVCA9ICdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0JztcbnZhciBPRVNfVEVYVFVSRV9IQWxGX0ZMT0FUX0xJTkVBUiA9ICdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhcic7XG52YXIgRVhUX0NPTE9SX0JVRkZFUl9GTE9BVCA9ICdFWFRfY29sb3JfYnVmZmVyX2Zsb2F0JztcbnZhciBHUEdQVSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHUEdQVShnbCwgY2FudmFzRWwsIFxuICAgIC8vIE9wdGlvbmFsbHkgcGFzcyBpbiBhbiBlcnJvciBjYWxsYmFjayBpbiBjYXNlIHdlIHdhbnQgdG8gaGFuZGxlIGVycm9ycyByZWxhdGVkIHRvIHdlYmdsIHN1cHBvcnQuXG4gICAgLy8gZS5nLiB0aHJvdyB1cCBhIG1vZGFsIHRlbGxpbmcgdXNlciB0aGlzIHdpbGwgbm90IHdvcmsgb24gdGhlaXIgZGV2aWNlLlxuICAgIGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2sgPT09IHZvaWQgMCkgeyBlcnJvckNhbGxiYWNrID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpOyB9OyB9XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9ucyA9IHt9O1xuICAgICAgICB0aGlzLmVycm9yU3RhdGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zaGFkZXJzID0gW107IC8vIEtlZXAgdHJhY2sgb2YgYWxsIHNoYWRlcnMgaW5pdGVkIHNvIHRoZXkgY2FuIGJlIHByb3Blcmx5IGRlYWxsb2NhdGVkLlxuICAgICAgICAvLyBTYXZlIGNhbGxiYWNrIGluIGNhc2Ugd2UgcnVuIGludG8gYW4gZXJyb3IuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5lcnJvckNhbGxiYWNrID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmVycm9yU3RhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLmVycm9yU3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2spXG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhtZXNzYWdlKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSW5pdCBHTC5cbiAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgLy8gSW5pdCBhIGdsIGNvbnRleHQgaWYgbm90IHBhc3NlZCBpbi5cbiAgICAgICAgICAgIGdsID0gY2FudmFzRWwuZ2V0Q29udGV4dCgnd2ViZ2wyJywgeyBhbnRpYWxpYXM6IGZhbHNlIH0pXG4gICAgICAgICAgICAgICAgfHwgY2FudmFzRWwuZ2V0Q29udGV4dCgnd2ViZ2wnLCB7IGFudGlhbGlhczogZmFsc2UgfSk7XG4gICAgICAgICAgICAvLyB8fCBjYW52YXNFbC5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCB7YW50aWFsaWFzOmZhbHNlfSkgYXMgUmVuZGVyaW5nQ29udGV4dDtcbiAgICAgICAgICAgIGlmIChnbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjaygnVW5hYmxlIHRvIGluaXRpYWxpemUgV2ViR0wgY29udGV4dC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1dlYkdMMiA9ICEhZ2wuSEFMRl9GTE9BVDtcbiAgICAgICAgaWYgKHRoaXMuaXNXZWJHTDIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBXZWJHTCAyLjAgY29udGV4dC4nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBXZWJHTCAxLjAgY29udGV4dC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIC8vIEdMIHNldHVwLlxuICAgICAgICAvLyBMb2FkIGV4dGVuc2lvbnMuXG4gICAgICAgIC8vIFRPRE86IGxvYWQgdGhlc2UgZXh0ZW5zaW9ucyBhcyBuZWVkZWQuXG4gICAgICAgIGlmICh0aGlzLmlzV2ViR0wyKSB7XG4gICAgICAgICAgICAvLyBFWFRfQ09MT1JfQlVGRkVSX0ZMT0FUIGFkZHMgYWJpbGl0eSB0byByZW5kZXIgdG8gYSB2YXJpZXR5IG9mIGZsb2F0aW5nIHB0IHRleHR1cmVzLlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VYVF9jb2xvcl9idWZmZXJfZmxvYXRcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM0MjYyNDkzL2ZyYW1lYnVmZmVyLWluY29tcGxldGUtYXR0YWNobWVudC1mb3ItdGV4dHVyZS13aXRoLWludGVybmFsLWZvcm1hdFxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzYxMDkzNDcvZnJhbWVidWZmZXItaW5jb21wbGV0ZS1hdHRhY2htZW50LW9ubHktaGFwcGVucy1vbi1hbmRyb2lkLXctZmlyZWZveFxuICAgICAgICAgICAgdGhpcy5sb2FkRXh0ZW5zaW9uKEVYVF9DT0xPUl9CVUZGRVJfRkxPQVQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL09FU190ZXh0dXJlX2hhbGZfZmxvYXRcbiAgICAgICAgICAgIC8vIEhhbGYgZmxvYXQgaXMgc3VwcG9ydGVkIGJ5IG1vZGVybiBtb2JpbGUgYnJvd3NlcnMsIGZsb2F0IG5vdCB5ZXQgc3VwcG9ydGVkLlxuICAgICAgICAgICAgLy8gSGFsZiBmbG9hdCBpcyBwcm92aWRlZCBieSBkZWZhdWx0IGZvciBXZWJnbDIgY29udGV4dHMuXG4gICAgICAgICAgICAvLyBUaGlzIGV4dGVuc2lvbiBpbXBsaWNpdGx5IGVuYWJsZXMgdGhlIEVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdCBleHRlbnNpb24gKGlmIHN1cHBvcnRlZCksIHdoaWNoIGFsbG93cyByZW5kZXJpbmcgdG8gMTYtYml0IGZsb2F0aW5nIHBvaW50IGZvcm1hdHMuXG4gICAgICAgICAgICB0aGlzLmxvYWRFeHRlbnNpb24oT0VTX1RFWFRVUkVfSEFMRl9GTE9BVCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTG9hZCBvcHRpb25hbCBleHRlbnNpb25zLlxuICAgICAgICAvLyBUT0RPOiBuZWVkIHRoaXMgZm9yIHdlYmdsMj9cbiAgICAgICAgdGhpcy5saW5lYXJGaWx0ZXJFbmFibGVkID0gdGhpcy5sb2FkRXh0ZW5zaW9uKE9FU19URVhUVVJFX0hBbEZfRkxPQVRfTElORUFSLCB0cnVlKTtcbiAgICAgICAgLy8gRGlzYWJsZSBkZXB0aCB0ZXN0aW5nIGdsb2JhbGx5LlxuICAgICAgICBnbC5kaXNhYmxlKGdsLkRFUFRIX1RFU1QpO1xuICAgICAgICAvLyBTZXQgdW5wYWNrIGFsaWdubWVudCB0byAxIHNvIHdlIGNhbiBoYXZlIHRleHR1cmVzIG9mIGFyYml0cmFyeSBkaW1lbnNpb25zLlxuICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MTU4MjI4Mi9lcnJvci13aGVuLWNyZWF0aW5nLXRleHR1cmVzLWluLXdlYmdsLXdpdGgtdGhlLXJnYi1mb3JtYXRcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0FMSUdOTUVOVCwgMSk7XG4gICAgICAgIC8vIEluaXQgYSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgdGhhdCBqdXN0IHBhc3NlcyB0aHJvdWdoIHNjcmVlbiBjb29yZHMuXG4gICAgICAgIHZhciBkZWZhdWx0VmVydGV4U2hhZGVyID0gdXRpbHNfMS5jb21waWxlU2hhZGVyKGdsLCB0aGlzLmVycm9yQ2FsbGJhY2ssIERlZmF1bHRWZXJ0ZXhTaGFkZXJfMS5kZWZhdWx0LCBnbC5WRVJURVhfU0hBREVSKTtcbiAgICAgICAgaWYgKCFkZWZhdWx0VmVydGV4U2hhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yQ2FsbGJhY2soJ1VuYWJsZSB0byBpbml0aWFsaXplIGZ1bGxzY3JlZW4gcXVhZCB2ZXJ0ZXggc2hhZGVyLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVmYXVsdFZlcnRleFNoYWRlciA9IGRlZmF1bHRWZXJ0ZXhTaGFkZXI7XG4gICAgICAgIC8vIENyZWF0ZSB2ZXJ0ZXggYnVmZmVycy5cbiAgICAgICAgdGhpcy5xdWFkUG9zaXRpb25zQnVmZmVyID0gdGhpcy5pbml0VmVydGV4QnVmZmVyKGZzUXVhZFBvc2l0aW9ucyk7XG4gICAgICAgIHRoaXMuYm91bmRhcnlQb3NpdGlvbnNCdWZmZXIgPSB0aGlzLmluaXRWZXJ0ZXhCdWZmZXIoYm91bmRhcnlQb3NpdGlvbnMpO1xuICAgICAgICB0aGlzLmNpcmNsZVBvc2l0aW9uc0J1ZmZlciA9IHRoaXMuaW5pdFZlcnRleEJ1ZmZlcihjaXJjbGVQb3NpdGlvbnMpO1xuICAgICAgICAvLyBVbmJpbmQgYWN0aXZlIGJ1ZmZlci5cbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xuICAgICAgICAvLyBDYW52YXMgc2V0dXAuXG4gICAgICAgIHRoaXMub25SZXNpemUoY2FudmFzRWwpO1xuICAgICAgICAvLyBMb2cgbnVtYmVyIG9mIHRleHR1cmVzIGF2YWlsYWJsZS5cbiAgICAgICAgdmFyIG1heFRleHR1cmVzSW5GcmFnbWVudFNoYWRlciA9IHRoaXMuZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO1xuICAgICAgICBjb25zb2xlLmxvZyhtYXhUZXh0dXJlc0luRnJhZ21lbnRTaGFkZXIgKyBcIiB0ZXh0dXJlcyBtYXguXCIpO1xuICAgIH1cbiAgICBHUEdQVS5wcm90b3R5cGUuaW5pdFZlcnRleEJ1ZmZlciA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrLCBnbCA9IF9hLmdsO1xuICAgICAgICB2YXIgYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIGlmICghYnVmZmVyKSB7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKCdVbmFibGUgdG8gYWxsb2NhdGUgZ2wgYnVmZmVyLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXIpO1xuICAgICAgICAvLyBBZGQgdmVydGV4IGRhdGEgZm9yIGRyYXdpbmcgZnVsbCBzY3JlZW4gcXVhZCB2aWEgdHJpYW5nbGUgc3RyaXAuXG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBkYXRhLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfTtcbiAgICBHUEdQVS5wcm90b3R5cGUubG9hZEV4dGVuc2lvbiA9IGZ1bmN0aW9uIChleHRlbnNpb24sIG9wdGlvbmFsKSB7XG4gICAgICAgIGlmIChvcHRpb25hbCA9PT0gdm9pZCAwKSB7IG9wdGlvbmFsID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZXh0ZW5zaW9ucyA9IF9hLmV4dGVuc2lvbnMsIGdsID0gX2EuZ2wsIGVycm9yQ2FsbGJhY2sgPSBfYS5lcnJvckNhbGxiYWNrO1xuICAgICAgICB2YXIgZXh0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKGV4dGVuc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICBpZiAoZXh0KSB7XG4gICAgICAgICAgICBleHRlbnNpb25zW2V4dGVuc2lvbl0gPSBleHQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBleHRlbnNpb246IFwiICsgZXh0ZW5zaW9uICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5zdXBwb3J0ZWQgXCIgKyAob3B0aW9uYWwgPyAnb3B0aW9uYWwgJyA6ICcnKSArIFwiZXh0ZW5zaW9uOiBcIiArIGV4dGVuc2lvbiArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgZXh0ZW5zaW9uIGlzIG5vdCBvcHRpb25hbCwgdGhyb3cgZXJyb3IuXG4gICAgICAgIGlmICghZXh0ICYmICFvcHRpb25hbCkge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIlJlcXVpcmVkIGV4dGVuc2lvbiB1bnN1cHBvcnRlZCBieSB0aGlzIGRldmljZSAvIGJyb3dzZXI6IFwiICsgZXh0ZW5zaW9uICsgXCIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhIWV4dDtcbiAgICB9O1xuICAgIEdQR1BVLnByb3RvdHlwZS5pbml0UHJvZ3JhbSA9IGZ1bmN0aW9uIChuYW1lLCBmcmFnbWVudFNoYWRlclNvdXJjZSwgdW5pZm9ybXMpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2s7XG4gICAgICAgIC8vIExvYWQgZnVsbHNjcmVlbiBxdWFkIHZlcnRleCBzaGFkZXIgYnkgZGVmYXVsdC5cbiAgICAgICAgLy8gY29uc3QgdmVydGV4U2hhZGVyID0gdmVydGV4U2hhZGVyU291cmNlID9cbiAgICAgICAgLy8gXHR0aGlzLmNvbXBpbGVTaGFkZXIodmVydGV4U2hhZGVyU291cmNlLCBnbC5WRVJURVhfU0hBREVSKSA6XG4gICAgICAgIC8vIFx0dGhpcy5mc1F1YWRWZXJ0ZXhTaGFkZXI7XG4gICAgICAgIHZhciB2ZXJ0ZXhTaGFkZXIgPSB0aGlzLmRlZmF1bHRWZXJ0ZXhTaGFkZXI7XG4gICAgICAgIHJldHVybiBuZXcgR1BVUHJvZ3JhbV8xLkdQVVByb2dyYW0obmFtZSwgZ2wsIGVycm9yQ2FsbGJhY2ssIHRoaXMuZGVmYXVsdFZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXJTb3VyY2UsIHVuaWZvcm1zKTtcbiAgICB9O1xuICAgIDtcbiAgICBHUEdQVS5wcm90b3R5cGUuZ2xUZXh0dXJlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIChudW1DaGFubmVscywgdHlwZSwgd3JpdGFibGUpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly93d3cua2hyb25vcy5vcmcvcmVnaXN0cnkvd2ViZ2wvc3BlY3MvbGF0ZXN0LzIuMC8jVEVYVFVSRV9UWVBFU19GT1JNQVRTX0ZST01fRE9NX0VMRU1FTlRTX1RBQkxFXG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIGlzV2ViR0wyID0gX2EuaXNXZWJHTDIsIGV4dGVuc2lvbnMgPSBfYS5leHRlbnNpb25zO1xuICAgICAgICB2YXIgZ2xUeXBlLCBnbEZvcm1hdCwgZ2xJbnRlcm5hbEZvcm1hdCwgZ2xOdW1DaGFubmVscztcbiAgICAgICAgaWYgKGlzV2ViR0wyKSB7XG4gICAgICAgICAgICBnbE51bUNoYW5uZWxzID0gbnVtQ2hhbm5lbHM7XG4gICAgICAgICAgICAvLyBodHRwczovL3d3dy5raHJvbm9zLm9yZy9yZWdpc3RyeS93ZWJnbC9leHRlbnNpb25zL0VYVF9jb2xvcl9idWZmZXJfZmxvYXQvXG4gICAgICAgICAgICAvLyBUaGUgc2l6ZWQgaW50ZXJuYWwgZm9ybWF0IFJHQjE2RiBpcyBub3QgY29sb3ItcmVuZGVyYWJsZSBmb3Igc29tZSByZWFzb24uXG4gICAgICAgICAgICAvLyBJZiBudW1DaGFubmVscyA9PSAzIGZvciBhIHdyaXRhYmxlIHRleHR1cmUsIHVzZSBSR0JBIGluc3RlYWQuXG4gICAgICAgICAgICBpZiAobnVtQ2hhbm5lbHMgPT09IDMgJiYgd3JpdGFibGUpIHtcbiAgICAgICAgICAgICAgICBnbE51bUNoYW5uZWxzID0gNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAoZ2xOdW1DaGFubmVscykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SRUQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SRztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBnbEZvcm1hdCA9IGdsLlJHQjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBnbEZvcm1hdCA9IGdsLlJHQkE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmxvYXQxNic6XG4gICAgICAgICAgICAgICAgICAgIGdsVHlwZSA9IGdsLkhBTEZfRkxPQVQ7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZ2xOdW1DaGFubmVscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SMTZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SRzE2RjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCMTZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBMTZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VpbnQ4JzpcbiAgICAgICAgICAgICAgICAgICAgZ2xUeXBlID0gZ2wuVU5TSUdORURfQllURTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChnbE51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlI4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQgPSBnbC5SRzg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQjg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQkE4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoIChudW1DaGFubmVscykge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IGZvciByZWFkIG9ubHkgdGV4dHVyZXMgaW4gV2ViR0wgMS4wLCB3ZSBjb3VsZCB1c2UgZ2wuQUxQSEEgYW5kIGdsLkxVTUlOQU5DRV9BTFBIQSBoZXJlLlxuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBnbEZvcm1hdCA9IGdsLlJHQjtcbiAgICAgICAgICAgICAgICAgICAgZ2xJbnRlcm5hbEZvcm1hdCA9IGdsLlJHQjtcbiAgICAgICAgICAgICAgICAgICAgZ2xOdW1DaGFubmVscyA9IDM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgZ2xGb3JtYXQgPSBnbC5SR0JBO1xuICAgICAgICAgICAgICAgICAgICBnbEludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTtcbiAgICAgICAgICAgICAgICAgICAgZ2xOdW1DaGFubmVscyA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmxvYXQxNic6XG4gICAgICAgICAgICAgICAgICAgIGdsVHlwZSA9IGV4dGVuc2lvbnNbT0VTX1RFWFRVUkVfSEFMRl9GTE9BVF0uSEFMRl9GTE9BVF9PRVM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3VpbnQ4JzpcbiAgICAgICAgICAgICAgICAgICAgZ2xUeXBlID0gZ2wuVU5TSUdORURfQllURTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG1pc3NpbmcgcGFyYW1zLlxuICAgICAgICBpZiAoZ2xUeXBlID09PSB1bmRlZmluZWQgfHwgZ2xGb3JtYXQgPT09IHVuZGVmaW5lZCB8fCBnbEludGVybmFsRm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdHlwZTogXCIgKyB0eXBlICsgXCIgb3IgbnVtQ2hhbm5lbHMgXCIgKyBudW1DaGFubmVscyArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2xOdW1DaGFubmVscyA9PT0gdW5kZWZpbmVkIHx8IG51bUNoYW5uZWxzIDwgMSB8fCBudW1DaGFubmVscyA+IDQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgbnVtQ2hhbm5lbHM6IFwiICsgbnVtQ2hhbm5lbHMgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdsRm9ybWF0OiBnbEZvcm1hdCxcbiAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQ6IGdsSW50ZXJuYWxGb3JtYXQsXG4gICAgICAgICAgICBnbFR5cGU6IGdsVHlwZSxcbiAgICAgICAgICAgIGdsTnVtQ2hhbm5lbHM6IGdsTnVtQ2hhbm5lbHMsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBHUEdQVS5wcm90b3R5cGUuaW5pdERhdGFMYXllciA9IGZ1bmN0aW9uIChuYW1lLCBvcHRpb25zLCB3cml0YWJsZSwgbnVtQnVmZmVycykge1xuICAgICAgICBpZiAod3JpdGFibGUgPT09IHZvaWQgMCkgeyB3cml0YWJsZSA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChudW1CdWZmZXJzID09PSB2b2lkIDApIHsgbnVtQnVmZmVycyA9IDE7IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2s7XG4gICAgICAgIHZhciBkYXRhID0gb3B0aW9ucy5kYXRhLCB3aWR0aCA9IG9wdGlvbnMud2lkdGgsIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0LCB0eXBlID0gb3B0aW9ucy50eXBlLCBudW1DaGFubmVscyA9IG9wdGlvbnMubnVtQ2hhbm5lbHM7XG4gICAgICAgIC8vIENoZWNrIHRoYXQgZGF0YSBpcyBjb3JyZWN0IGxlbmd0aC5cbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggIT09IHdpZHRoICogaGVpZ2h0ICogbnVtQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGF0YSBhcnJheSBvZiBzaXplIFwiICsgZGF0YS5sZW5ndGggKyBcIiBmb3IgRGF0YUxheWVyIFwiICsgbmFtZSArIFwiIG9mIGRpbWVuc2lvbnMgXCIgKyB3aWR0aCArIFwiIHggXCIgKyBoZWlnaHQgKyBcIiB4IFwiICsgbnVtQ2hhbm5lbHMgKyBcIi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogQ2hlY2sgdGhhdCBkYXRhIGlzIGNvcnJlY3QgdHlwZS5cbiAgICAgICAgLy8gaWYgKGRhdGEgJiYgdHlwZSA9PT0gJ2Zsb2F0MTYnKSB7XG4gICAgICAgIC8vIFx0Ly8gLy8gU2luY2UgdGhlcmUgaXMgbm8gRmxvYXQxNlR5cGVkQXJyYXksIHdlIG11c3QgdXMgVWludDE2VHlwZWRBcnJheVxuICAgICAgICAvLyBcdC8vIGNvbnN0IGZsb2F0MTZBcnJheSA9IG5ldyBJbnQxNkFycmF5KGRhdGEubGVuZ3RoKTtcbiAgICAgICAgLy8gXHQvLyBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gXHQvLyB9XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gR2V0IHRleHR1cmUgcGFyYW1zLlxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xSZW5kZXJpbmdDb250ZXh0L3RleEltYWdlMkRcbiAgICAgICAgdmFyIF9iID0gdGhpcy5nbFRleHR1cmVQYXJhbWV0ZXJzKG51bUNoYW5uZWxzLCB0eXBlLCB3cml0YWJsZSksIGdsRm9ybWF0ID0gX2IuZ2xGb3JtYXQsIGdsSW50ZXJuYWxGb3JtYXQgPSBfYi5nbEludGVybmFsRm9ybWF0LCBnbE51bUNoYW5uZWxzID0gX2IuZ2xOdW1DaGFubmVscywgZ2xUeXBlID0gX2IuZ2xUeXBlO1xuICAgICAgICAvLyBDaGVjayB0aGF0IGRhdGEgaXMgY29ycmVjdCBsZW5ndGguXG4gICAgICAgIC8vIFRoaXMgb25seSBoYXBwZW5zIGZvciB3ZWJnbCAxLjAgY29udGV4dHMuXG4gICAgICAgIHZhciBkYXRhUmVzaXplZCA9IGRhdGE7XG4gICAgICAgIGlmIChkYXRhICYmIG51bUNoYW5uZWxzICE9PSBnbE51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VTaXplID0gd2lkdGggKiBoZWlnaHQ7XG4gICAgICAgICAgICB2YXIgbmV3QXJyYXkgPSB2b2lkIDA7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICAgICAgICAgIG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQgKiBnbE51bUNoYW5uZWxzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgaW5pdGluZyBcIiArIG5hbWUgKyBcIi4gIFVuc3VwcG9ydGVkIHR5cGUgXCIgKyB0eXBlICsgXCIgZm9yIEdQR1BVLmluaXREYXRhTGF5ZXIuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRmlsbCBuZXcgZGF0YSBhcnJheSB3aXRoIG9sZCBkYXRhLlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZVNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtQ2hhbm5lbHM7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBuZXdBcnJheVtnbE51bUNoYW5uZWxzICogaSArIGpdID0gZGF0YVtpICogbnVtQ2hhbm5lbHMgKyBqXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhUmVzaXplZCA9IG5ld0FycmF5O1xuICAgICAgICB9XG4gICAgICAgIHZhciBkYXRhTGF5ZXIgPSBuZXcgRGF0YUxheWVyXzEuRGF0YUxheWVyKG5hbWUsIGdsLCB7XG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIGdsSW50ZXJuYWxGb3JtYXQ6IGdsSW50ZXJuYWxGb3JtYXQsXG4gICAgICAgICAgICBnbEZvcm1hdDogZ2xGb3JtYXQsXG4gICAgICAgICAgICBnbFR5cGU6IGdsVHlwZSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFSZXNpemVkLFxuICAgICAgICB9LCBlcnJvckNhbGxiYWNrLCBudW1CdWZmZXJzLCB3cml0YWJsZSk7XG4gICAgICAgIHJldHVybiBkYXRhTGF5ZXI7XG4gICAgfTtcbiAgICA7XG4gICAgR1BHUFUucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24gKGNhbnZhc0VsKSB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciB3aWR0aCA9IGNhbnZhc0VsLmNsaWVudFdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gY2FudmFzRWwuY2xpZW50SGVpZ2h0O1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgLy8gU2V0IGNvcnJlY3QgY2FudmFzIHBpeGVsIHNpemUuXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTF9BUEkvQnlfZXhhbXBsZS9DYW52YXNfc2l6ZV9hbmRfV2ViR0xcbiAgICAgICAgY2FudmFzRWwud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzRWwuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAvLyBTYXZlIGRpbWVuc2lvbnMuXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfTtcbiAgICA7XG4gICAgR1BHUFUucHJvdG90eXBlLl9zdGVwID0gZnVuY3Rpb24gKHByb2dyYW0sIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcikge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICAvLyBDaGVjayBpZiB3ZSBhcmUgaW4gYW4gZXJyb3Igc3RhdGUuXG4gICAgICAgIGlmICghcHJvZ3JhbS5wcm9ncmFtKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtLnByb2dyYW0pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0TGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgaSk7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBpbnB1dExheWVyc1tpXS5nZXRDdXJyZW50U3RhdGVUZXh0dXJlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdXRwdXRMYXllcikge1xuICAgICAgICAgICAgaWYgKG91dHB1dExheWVyLm51bUJ1ZmZlcnMgPT09IDEgJiYgaW5wdXRMYXllcnMuaW5kZXhPZihvdXRwdXRMYXllcikgPiAtMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlxcblxcdFxcdFxcdFxcdFxcdENhbm5vdCB1c2Ugc2FtZSBidWZmZXIgZm9yIGlucHV0IGFuZCBvdXRwdXQgb2YgYSBwcm9ncmFtLlxcblxcdFxcdFxcdFxcdFxcdFRyeSBpbmNyZWFzaW5nIHRoZSBudW1iZXIgb2YgYnVmZmVycyBpbiB5b3VyIG91dHB1dCBsYXllciB0byBhdCBsZWFzdCAyIHNvIHlvdVxcblxcdFxcdFxcdFxcdFxcdGNhbiByZW5kZXIgdG8gbmV4dFN0YXRlIHVzaW5nIGN1cnJlbnRTdGF0ZSBhcyBhbiBpbnB1dC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRwdXRMYXllci5zZXRBc1JlbmRlclRhcmdldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQb2ludCBhdHRyaWJ1dGUgdG8gdGhlIGN1cnJlbnRseSBib3VuZCBWQk8uXG4gICAgICAgIHZhciBwb3NpdGlvbkxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbS5wcm9ncmFtLCAnYVBvc2l0aW9uJyk7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zaXRpb25Mb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgLy8gRW5hYmxlIHRoZSBhdHRyaWJ1dGUuXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uTG9jYXRpb24pO1xuICAgIH07XG4gICAgO1xuICAgIC8vIFN0ZXAgZm9yIGVudGlyZSBmdWxsc2NyZWVuIHF1YWQuXG4gICAgR1BHUFUucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbiAocHJvZ3JhbSwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKSB7XG4gICAgICAgIGlmIChpbnB1dExheWVycyA9PT0gdm9pZCAwKSB7IGlucHV0TGF5ZXJzID0gW107IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JTdGF0ZSA9IF9hLmVycm9yU3RhdGUsIHF1YWRQb3NpdGlvbnNCdWZmZXIgPSBfYS5xdWFkUG9zaXRpb25zQnVmZmVyO1xuICAgICAgICAvLyBJZ25vcmUgaWYgd2UgYXJlIGluIGVycm9yIHN0YXRlLlxuICAgICAgICBpZiAoZXJyb3JTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSB1bmlmb3JtcyBhbmQgYnVmZmVycy5cbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3NjYWxlJywgWzEsIDFdLCAnRkxPQVQnKTtcbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3RyYW5zbGF0aW9uJywgWzAsIDBdLCAnRkxPQVQnKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHF1YWRQb3NpdGlvbnNCdWZmZXIpO1xuICAgICAgICB0aGlzLl9zdGVwKHByb2dyYW0sIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcik7XG4gICAgICAgIC8vIERyYXcuXG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgIH07XG4gICAgLy8gU3RlcCBwcm9ncmFtIG9ubHkgZm9yIGEgc3RyaXAgb2YgcHggYWxvbmcgdGhlIGJvdW5kYXJ5LlxuICAgIEdQR1BVLnByb3RvdHlwZS5zdGVwQm91bmRhcnkgPSBmdW5jdGlvbiAocHJvZ3JhbSwgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKSB7XG4gICAgICAgIGlmIChpbnB1dExheWVycyA9PT0gdm9pZCAwKSB7IGlucHV0TGF5ZXJzID0gW107IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JTdGF0ZSA9IF9hLmVycm9yU3RhdGUsIGJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyID0gX2EuYm91bmRhcnlQb3NpdGlvbnNCdWZmZXIsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgLy8gSWdub3JlIGlmIHdlIGFyZSBpbiBlcnJvciBzdGF0ZS5cbiAgICAgICAgaWYgKGVycm9yU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgdW5pZm9ybXMgYW5kIGJ1ZmZlcnMuXG4gICAgICAgIC8vIEZyYW1lIG5lZWRzIHRvIGJlIG9mZnNldCBhbmQgc2NhbGVkIHNvIHRoYXQgYWxsIGZvdXIgc2lkZXMgYXJlIGluIHZpZXdwb3J0LlxuICAgICAgICB2YXIgb25lUHggPSBbMSAvIHdpZHRoLCAxIC8gaGVpZ2h0XTtcbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3NjYWxlJywgWzEgLSBvbmVQeFswXSwgMSAtIG9uZVB4WzFdXSwgJ0ZMT0FUJyk7XG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV90cmFuc2xhdGlvbicsIG9uZVB4LCAnRkxPQVQnKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJvdW5kYXJ5UG9zaXRpb25zQnVmZmVyKTtcbiAgICAgICAgdGhpcy5fc3RlcChwcm9ncmFtLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpO1xuICAgICAgICAvLyBEcmF3LlxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLkxJTkVfTE9PUCwgMCwgNCk7IC8vIERyYXcgdG8gZnJhbWVidWZmZXIuXG4gICAgfTtcbiAgICAvLyBTdGVwIHByb2dyYW0gZm9yIGFsbCBidXQgYSBzdHJpcCBvZiBweCBhbG9uZyB0aGUgYm91bmRhcnkuXG4gICAgR1BHUFUucHJvdG90eXBlLnN0ZXBOb25Cb3VuZGFyeSA9IGZ1bmN0aW9uIChwcm9ncmFtLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpIHtcbiAgICAgICAgaWYgKGlucHV0TGF5ZXJzID09PSB2b2lkIDApIHsgaW5wdXRMYXllcnMgPSBbXTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBnbCA9IF9hLmdsLCBlcnJvclN0YXRlID0gX2EuZXJyb3JTdGF0ZSwgcXVhZFBvc2l0aW9uc0J1ZmZlciA9IF9hLnF1YWRQb3NpdGlvbnNCdWZmZXIsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgLy8gSWdub3JlIGlmIHdlIGFyZSBpbiBlcnJvciBzdGF0ZS5cbiAgICAgICAgaWYgKGVycm9yU3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgdW5pZm9ybXMgYW5kIGJ1ZmZlcnMuXG4gICAgICAgIHZhciBvbmVQeCA9IFsxIC8gd2lkdGgsIDEgLyBoZWlnaHRdO1xuICAgICAgICBwcm9ncmFtLnNldFVuaWZvcm0oJ3Vfc2NhbGUnLCBbMSAtIDIgKiBvbmVQeFswXSwgMSAtIDIgKiBvbmVQeFsxXV0sICdGTE9BVCcpO1xuICAgICAgICBwcm9ncmFtLnNldFVuaWZvcm0oJ3VfdHJhbnNsYXRpb24nLCBvbmVQeCwgJ0ZMT0FUJyk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBxdWFkUG9zaXRpb25zQnVmZmVyKTtcbiAgICAgICAgdGhpcy5fc3RlcChwcm9ncmFtLCBpbnB1dExheWVycywgb3V0cHV0TGF5ZXIpO1xuICAgICAgICAvLyBEcmF3LlxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9O1xuICAgIC8vIFN0ZXAgcHJvZ3JhbSBvbmx5IGZvciBhIGNpcmN1bGFyIHNwb3QuXG4gICAgR1BHUFUucHJvdG90eXBlLnN0ZXBDaXJjbGUgPSBmdW5jdGlvbiAocHJvZ3JhbSwgcG9zaXRpb24sIC8vIHBvc2l0aW9uIGlzIGluIHNjcmVlbiBzcGFjZSBjb29yZHMuXG4gICAgcmFkaXVzLCAvLyByYWRpdXMgaXMgaW4gcHguXG4gICAgaW5wdXRMYXllcnMsIG91dHB1dExheWVyKSB7XG4gICAgICAgIGlmIChpbnB1dExheWVycyA9PT0gdm9pZCAwKSB7IGlucHV0TGF5ZXJzID0gW107IH1cbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JTdGF0ZSA9IF9hLmVycm9yU3RhdGUsIGNpcmNsZVBvc2l0aW9uc0J1ZmZlciA9IF9hLmNpcmNsZVBvc2l0aW9uc0J1ZmZlciwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICAvLyBJZ25vcmUgaWYgd2UgYXJlIGluIGVycm9yIHN0YXRlLlxuICAgICAgICBpZiAoZXJyb3JTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSB1bmlmb3JtcyBhbmQgYnVmZmVycy5cbiAgICAgICAgcHJvZ3JhbS5zZXRVbmlmb3JtKCd1X3NjYWxlJywgW3JhZGl1cyAvIHdpZHRoLCByYWRpdXMgLyBoZWlnaHRdLCAnRkxPQVQnKTtcbiAgICAgICAgLy8gRmxpcCB5IGF4aXMuXG4gICAgICAgIHByb2dyYW0uc2V0VW5pZm9ybSgndV90cmFuc2xhdGlvbicsIFsyICogcG9zaXRpb25bMF0gLyB3aWR0aCAtIDEsIC0yICogcG9zaXRpb25bMV0gLyBoZWlnaHQgKyAxXSwgJ0ZMT0FUJyk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBjaXJjbGVQb3NpdGlvbnNCdWZmZXIpO1xuICAgICAgICB0aGlzLl9zdGVwKHByb2dyYW0sIGlucHV0TGF5ZXJzLCBvdXRwdXRMYXllcik7XG4gICAgICAgIC8vIERyYXcuXG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfRkFOLCAwLCBOVU1fU0VHTUVOVFNfQ0lSQ0xFICsgMik7IC8vIERyYXcgdG8gZnJhbWVidWZmZXIuXG4gICAgfTtcbiAgICAvLyByZWFkeVRvUmVhZCgpIHtcbiAgICAvLyBcdGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG4gICAgLy8gICAgIHJldHVybiBnbC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKGdsLkZSQU1FQlVGRkVSKSA9PSBnbC5GUkFNRUJVRkZFUl9DT01QTEVURTtcbiAgICAvLyB9O1xuICAgIC8vIHJlYWRQaXhlbHMoeE1pbjogbnVtYmVyLCB5TWluOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBhcnJheTogVGV4dHVyZURhdGFUeXBlKSB7XG4gICAgLy8gXHRjb25zdCB7IGdsIH0gPSB0aGlzO1xuICAgIC8vIFx0Z2wucmVhZFBpeGVscyh4TWluLCB5TWluLCB3aWR0aCwgaGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBhcnJheSk7XG4gICAgLy8gfTtcbiAgICBHUEdQVS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICA7XG4gICAgcmV0dXJuIEdQR1BVO1xufSgpKTtcbmV4cG9ydHMuR1BHUFUgPSBHUEdQVTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdQR1BVLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5HUFVQcm9ncmFtID0gdm9pZCAwO1xudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBHUFVQcm9ncmFtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEdQVVByb2dyYW0obmFtZSwgZ2wsIGVycm9yQ2FsbGJhY2ssIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXJTb3VyY2UsIHVuaWZvcm1zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMudW5pZm9ybXMgPSB7fTtcbiAgICAgICAgdGhpcy5zaGFkZXJzID0gW107IC8vIFNhdmUgcmVmIHRvIHNoYWRlcnMgc28gd2UgY2FuIGRlYWxsb2NhdGUuXG4gICAgICAgIC8vIFNhdmUgcGFyYW1zLlxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMuZXJyb3JDYWxsYmFjayA9IGVycm9yQ2FsbGJhY2s7XG4gICAgICAgIC8vIENyZWF0ZSBhIHByb2dyYW0uXG4gICAgICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgICAgICBpZiAoIXByb2dyYW0pIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJVbmFibGUgdG8gaW5pdCBnbCBwcm9ncmFtOiBcIiArIG5hbWUgKyBcIi5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29tcGlsZSBzaGFkZXIuXG4gICAgICAgIHZhciBmcmFnbWVudFNoYWRlciA9IHV0aWxzXzEuY29tcGlsZVNoYWRlcihnbCwgZXJyb3JDYWxsYmFjaywgZnJhZ21lbnRTaGFkZXJTb3VyY2UsIGdsLkZSQUdNRU5UX1NIQURFUik7XG4gICAgICAgIGlmICghZnJhZ21lbnRTaGFkZXIpIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJVbmFibGUgdG8gY29tcGlsZSBmcmFnbWVudCBzaGFkZXIgZm9yIHByb2dyYW0gXCIgKyBuYW1lICsgXCIuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hhZGVycy5wdXNoKGZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgLy8gQXR0YWNoIHRoZSBzaGFkZXJzLlxuICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgLy8gTGluayB0aGUgcHJvZ3JhbS5cbiAgICAgICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIC8vIENoZWNrIGlmIGl0IGxpbmtlZC5cbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKTtcbiAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAvLyBTb21ldGhpbmcgd2VudCB3cm9uZyB3aXRoIHRoZSBsaW5rLlxuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhcIlByb2dyYW0gXCIgKyBuYW1lICsgXCIgZmFpbGVkIHRvIGxpbms6IFwiICsgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByb2dyYW0gaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGluaXRlZC5cbiAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgdW5pZm9ybXMgPT09IG51bGwgfHwgdW5pZm9ybXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVuaWZvcm1zLmZvckVhY2goZnVuY3Rpb24gKHVuaWZvcm0pIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gdW5pZm9ybS5uYW1lLCB2YWx1ZSA9IHVuaWZvcm0udmFsdWUsIGRhdGFUeXBlID0gdW5pZm9ybS5kYXRhVHlwZTtcbiAgICAgICAgICAgIF90aGlzLnNldFVuaWZvcm0obmFtZSwgdmFsdWUsIGRhdGFUeXBlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIEdQVVByb2dyYW0ucHJvdG90eXBlLnVuaWZvcm1UeXBlRm9yVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIGRhdGFUeXBlKSB7XG4gICAgICAgIGlmIChkYXRhVHlwZSA9PT0gY29uc3RhbnRzXzEuRkxPQVRfVFlQRSkge1xuICAgICAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLkZMT0FUXzFEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLkZMT0FUXzJEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLkZMT0FUXzNEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLkZMT0FUXzREX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVuaWZvcm0gdmFsdWU6IFwiICsgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGFUeXBlID09PSBjb25zdGFudHNfMS5JTlRfVFlQRSkge1xuICAgICAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLklOVF8xRF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5JTlRfMkRfVU5JRk9STTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuSU5UXzNEX1VOSUZPUk07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLklOVF80RF9VTklGT1JNO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1bmlmb3JtIHZhbHVlOiBcIiArIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdW5pZm9ybSBkYXRhIHR5cGU6IFwiICsgZGF0YVR5cGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBHUFVQcm9ncmFtLnByb3RvdHlwZS5zZXRVbmlmb3JtID0gZnVuY3Rpb24gKHVuaWZvcm1OYW1lLCB2YWx1ZSwgZGF0YVR5cGUpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZ2wgPSBfYS5nbCwgZXJyb3JDYWxsYmFjayA9IF9hLmVycm9yQ2FsbGJhY2ssIHByb2dyYW0gPSBfYS5wcm9ncmFtLCB1bmlmb3JtcyA9IF9hLnVuaWZvcm1zO1xuICAgICAgICBpZiAoIXByb2dyYW0pIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soXCJQcm9ncmFtIG5vdCBpbml0ZWQuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCBhY3RpdmUgcHJvZ3JhbS5cbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgdmFyIHR5cGUgPSB0aGlzLnVuaWZvcm1UeXBlRm9yVmFsdWUodmFsdWUsIGRhdGFUeXBlKTtcbiAgICAgICAgaWYgKCF1bmlmb3Jtc1t1bmlmb3JtTmFtZV0pIHtcbiAgICAgICAgICAgIC8vIEluaXQgdW5pZm9ybSBpZiBuZWVkZWQuXG4gICAgICAgICAgICB2YXIgbG9jYXRpb25fMSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCB1bmlmb3JtTmFtZSk7XG4gICAgICAgICAgICBpZiAoIWxvY2F0aW9uXzEpIHtcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKFwiQ291bGQgbm90IGluaXQgdW5pZm9ybSBcIiArIHVuaWZvcm1OYW1lICsgXCIuXFxuQ2hlY2sgdGhhdCB1bmlmb3JtIGlzIHByZXNlbnQgaW4gc2hhZGVyIGNvZGUsIHVudXNlZCB1bmlmb3JtcyBtYXkgYmUgcmVtb3ZlZCBieSBjb21waWxlci5cXG5BbHNvIGNoZWNrIHRoYXQgdW5pZm9ybSB0eXBlIGluIHNoYWRlciBjb2RlIG1hdGNoZXMgdHlwZSBcIiArIHR5cGUgKyBcIi5cXG5FcnJvciBjb2RlOiBcIiArIGdsLmdldEVycm9yKCkgKyBcIi5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdW5pZm9ybXNbdW5pZm9ybU5hbWVdID0ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbl8xLFxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciB1bmlmb3JtID0gdW5pZm9ybXNbdW5pZm9ybU5hbWVdO1xuICAgICAgICAvLyBDaGVjayB0aGF0IHR5cGVzIG1hdGNoIHByZXZpb3VzbHkgc2V0IHVuaWZvcm0uXG4gICAgICAgIGlmICh1bmlmb3JtLnR5cGUgIT0gdHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5pZm9ybSBcIiArIHVuaWZvcm1OYW1lICsgXCIgY2Fubm90IGNoYW5nZSBmcm9tIHR5cGUgXCIgKyB1bmlmb3JtLnR5cGUgKyBcIiB0byB0eXBlIFwiICsgdHlwZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9jYXRpb24gPSB1bmlmb3JtLmxvY2F0aW9uO1xuICAgICAgICAvLyBTZXQgdW5pZm9ybS5cbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMUmVuZGVyaW5nQ29udGV4dC91bmlmb3JtXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5GTE9BVF8xRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5GTE9BVF8yRF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuRkxPQVRfM0RfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2Z2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkZMT0FUXzREX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5JTlRfMURfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuSU5UXzJEX1VOSUZPUk06XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5JTlRfM0RfVU5JRk9STTpcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLklOVF80RF9VTklGT1JNOlxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00aXYobG9jYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB1bmlmb3JtIHR5cGU6IFwiICsgdHlwZSArIFwiLlwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgO1xuICAgIEdQVVByb2dyYW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGdsID0gX2EuZ2wsIHByb2dyYW0gPSBfYS5wcm9ncmFtLCBzaGFkZXJzID0gX2Euc2hhZGVycztcbiAgICAgICAgaWYgKHByb2dyYW0pXG4gICAgICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICAvLyBVbmJpbmQgYWxsIGRhdGEgYmVmb3JlIGRlbGV0aW5nLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNoYWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIEZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMUmVuZGVyaW5nQ29udGV4dC9kZWxldGVTaGFkZXJcbiAgICAgICAgICAgIC8vIFRoaXMgbWV0aG9kIGhhcyBubyBlZmZlY3QgaWYgdGhlIHNoYWRlciBoYXMgYWxyZWFkeSBiZWVuIGRlbGV0ZWRcbiAgICAgICAgICAgIGdsLmRlbGV0ZVNoYWRlcihzaGFkZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzaGFkZXJzLmxlbmd0aCA9IDA7XG4gICAgICAgIC8vIEB0cy1pZ25vcmU7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmdsO1xuICAgICAgICAvLyBAdHMtaWdub3JlO1xuICAgICAgICBkZWxldGUgdGhpcy5wcm9ncmFtO1xuICAgIH07XG4gICAgcmV0dXJuIEdQVVByb2dyYW07XG59KCkpO1xuZXhwb3J0cy5HUFVQcm9ncmFtID0gR1BVUHJvZ3JhbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdQVVByb2dyYW0uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLklOVF9UWVBFID0gZXhwb3J0cy5GTE9BVF9UWVBFID0gZXhwb3J0cy5JTlRfNERfVU5JRk9STSA9IGV4cG9ydHMuSU5UXzNEX1VOSUZPUk0gPSBleHBvcnRzLklOVF8yRF9VTklGT1JNID0gZXhwb3J0cy5JTlRfMURfVU5JRk9STSA9IGV4cG9ydHMuRkxPQVRfNERfVU5JRk9STSA9IGV4cG9ydHMuRkxPQVRfM0RfVU5JRk9STSA9IGV4cG9ydHMuRkxPQVRfMkRfVU5JRk9STSA9IGV4cG9ydHMuRkxPQVRfMURfVU5JRk9STSA9IHZvaWQgMDtcbmV4cG9ydHMuRkxPQVRfMURfVU5JRk9STSA9ICcxZic7XG5leHBvcnRzLkZMT0FUXzJEX1VOSUZPUk0gPSAnMmYnO1xuZXhwb3J0cy5GTE9BVF8zRF9VTklGT1JNID0gJzNmJztcbmV4cG9ydHMuRkxPQVRfNERfVU5JRk9STSA9ICczZic7XG5leHBvcnRzLklOVF8xRF9VTklGT1JNID0gJzFpJztcbmV4cG9ydHMuSU5UXzJEX1VOSUZPUk0gPSAnMmknO1xuZXhwb3J0cy5JTlRfM0RfVU5JRk9STSA9ICczaSc7XG5leHBvcnRzLklOVF80RF9VTklGT1JNID0gJzNpJztcbmV4cG9ydHMuRkxPQVRfVFlQRSA9ICdGTE9BVCc7XG5leHBvcnRzLklOVF9UWVBFID0gJ0lOVCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNpbmdsZUNvbG9yRnJhZ1NoYWRlciA9IGV4cG9ydHMuR1BHUFUgPSB2b2lkIDA7XG52YXIgR1BHUFVfMSA9IHJlcXVpcmUoXCIuL0dQR1BVXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiR1BHUFVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEdQR1BVXzEuR1BHUFU7IH0gfSk7XG52YXIgU2luZ2xlQ29sb3JGcmFnU2hhZGVyXzEgPSByZXF1aXJlKFwiLi9rZXJuZWxzL1NpbmdsZUNvbG9yRnJhZ1NoYWRlclwiKTtcbmV4cG9ydHMuU2luZ2xlQ29sb3JGcmFnU2hhZGVyID0gU2luZ2xlQ29sb3JGcmFnU2hhZGVyXzEuZGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gVmVydGV4IHNoYWRlciBmb3IgZnVsbHNjcmVlbiBxdWFkLlxuZXhwb3J0cy5kZWZhdWx0ID0gXCJcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxuYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uO1xcblxcbnVuaWZvcm0gdmVjMiB1X3NjYWxlO1xcbnVuaWZvcm0gdmVjMiB1X3RyYW5zbGF0aW9uO1xcblxcbnZhcnlpbmcgdmVjMiB2VVZfbG9jYWw7XFxudmFyeWluZyB2ZWMyIHZVVjtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFx0Ly8gQ2FsY3VsYXRlIFVWIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcmVuZGVyZWQgb2JqZWN0LlxcblxcdHZVVl9sb2NhbCA9IDAuNSAqIChhUG9zaXRpb24gKyAxLjApO1xcblxcdC8vIEFwcGx5IHRyYW5zZm9ybWF0aW9ucy5cXG5cXHR2ZWMyIHBvc2l0aW9uID0gdV9zY2FsZSAqIGFQb3NpdGlvbiArIHVfdHJhbnNsYXRpb247XFxuXFx0Ly8gQ2FsY3VsYXRlIGEgZ2xvYmFsIHV2IGZvciB0aGUgdmlld3BvcnQuXFxuXFx0dlVWID0gMC41ICogKHBvc2l0aW9uICsgMS4wKTtcXG5cXHQvLyBDYWxjdWxhdGUgdmVydGV4IHBvc2l0aW9uLlxcblxcdGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMCwgMSk7XFxufVxcblwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVmYXVsdFZlcnRleFNoYWRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIEZyYWdtZW50IHNoYWRlciB0aGF0IGRyYXdzIGEgc2luZ2xlIGNvbG9yIChmb3IgdGVzdGluZykuXG5leHBvcnRzLmRlZmF1bHQgPSBcIlxcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG51bmlmb3JtIHZlYzMgdV9jb2xvcjtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCh1X2NvbG9yLCAxKTtcXG59XCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaW5nbGVDb2xvckZyYWdTaGFkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbXBpbGVTaGFkZXIgPSB2b2lkIDA7XG4vLyBDb3BpZWQgZnJvbSBodHRwOi8vd2ViZ2xmdW5kYW1lbnRhbHMub3JnL3dlYmdsL2xlc3NvbnMvd2ViZ2wtYm9pbGVycGxhdGUuaHRtbFxuZnVuY3Rpb24gY29tcGlsZVNoYWRlcihnbCwgZXJyb3JDYWxsYmFjaywgc2hhZGVyU291cmNlLCBzaGFkZXJUeXBlKSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBzaGFkZXIgb2JqZWN0XG4gICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKTtcbiAgICBpZiAoIXNoYWRlcikge1xuICAgICAgICBlcnJvckNhbGxiYWNrKCdVbmFibGUgdG8gaW5pdCBnbCBzaGFkZXIuJyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBTZXQgdGhlIHNoYWRlciBzb3VyY2UgY29kZS5cbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTb3VyY2UpO1xuICAgIC8vIENvbXBpbGUgdGhlIHNoYWRlclxuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICAvLyBDaGVjayBpZiBpdCBjb21waWxlZFxuICAgIHZhciBzdWNjZXNzID0gZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpO1xuICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAvLyBTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgY29tcGlsYXRpb24gLSBwcmludCB0aGUgZXJyb3IuXG4gICAgICAgIGVycm9yQ2FsbGJhY2soXCJDb3VsZCBub3QgY29tcGlsZSBcIiArIChzaGFkZXJUeXBlID09PSBnbC5GUkFHTUVOVF9TSEFERVIgPyAnZnJhZ21lbnQnIDogJ3ZlcnRleCcpICsgXCJcXG5cXHRcXHRcXHQgc2hhZGVyOiBcIiArIGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gc2hhZGVyO1xufVxuZXhwb3J0cy5jb21waWxlU2hhZGVyID0gY29tcGlsZVNoYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCIsIm1vZHVsZS5leHBvcnRzID0gXCJwcmVjaXNpb24gbG93cCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlVWO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVfc3RhdGU7XFxudW5pZm9ybSB2ZWMyIHVfcHhTaXplO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHRmbG9hdCBjdXJyZW50U3RhdGUgPSB0ZXh0dXJlMkQodV9zdGF0ZSwgdlVWKS5yO1xcblxcblxcdGludCBjb3VudCA9IDA7XFxuXFx0Zm9yIChpbnQgaSA9IC0xOyBpIDwgMjsgaSsrKSB7XFxuXFx0XFx0Zm9yIChpbnQgaiA9LSAxOyBqIDwgMjsgaisrKSB7XFxuXFx0XFx0XFx0aWYgKGkgPT0gMCAmJiBqID09IDApIGNvbnRpbnVlO1xcblxcdFxcdFxcdHZlYzIgbmVpZ2hib3JVViA9IHZVViArIHZlYzIodV9weFNpemUueCAqIGZsb2F0KGkpLCB1X3B4U2l6ZS55ICogZmxvYXQoaikpO1xcblxcdFxcdFxcdGlmICh0ZXh0dXJlMkQodV9zdGF0ZSwgbmVpZ2hib3JVVikuciA9PSAxLjApIGNvdW50Kys7XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHQvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db253YXklMjdzX0dhbWVfb2ZfTGlmZSNSdWxlc1xcblxcdGlmIChjb3VudCA9PSAzIHx8IChjdXJyZW50U3RhdGUgPT0gMS4wICYmIGNvdW50ID09IDIpKSB7XFxuXFx0XFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCgxKTtcXG5cXHRcXHRyZXR1cm47XFxuXFx0fVxcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoMCwgMCwgMCwxKTtcXG59XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwicHJlY2lzaW9uIGxvd3AgZmxvYXQ7XFxuXFxudmFyeWluZyB2ZWMyIHZVVl9sb2NhbDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1X25vaXNlTG9va3VwO1xcblxcbnZvaWQgbWFpbigpIHtcXG5cXHRmbG9hdCBzdGF0ZSA9IHRleHR1cmUyRCh1X25vaXNlTG9va3VwLCB2VVZfbG9jYWwpLnI7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNChzdGF0ZSwgMCwgMCwgMSk7XFxufVxcblwiIiwibW9kdWxlLmV4cG9ydHMgPSBcInByZWNpc2lvbiBsb3dwIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB2VVY7XFxudW5pZm9ybSBzYW1wbGVyMkQgdV9zdGF0ZTtcXG5cXG52b2lkIG1haW4oKSB7XFxuXFx0ZmxvYXQgY3VycmVudFN0YXRlID0gdGV4dHVyZTJEKHVfc3RhdGUsIHZVVikucjtcXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KGN1cnJlbnRTdGF0ZSwgY3VycmVudFN0YXRlLCBjdXJyZW50U3RhdGUsIDEpO1xcbn1cIiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGVcbl9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbi8vIFRoaXMgZW50cnkgbW9kdWxlIHVzZWQgJ2V4cG9ydHMnIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbiJdLCJzb3VyY2VSb290IjoiIn0=